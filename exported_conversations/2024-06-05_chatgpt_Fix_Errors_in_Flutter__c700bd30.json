{
  "id": "c700bd30-e9a8-4f8c-ba55-cd38e406a8bc",
  "source": "chatgpt",
  "title": "Fix Errors in Flutter.",
  "created_at": "2024-06-05T15:00:15.716158",
  "updated_at": "2024-06-05T15:11:20.231290",
  "summary": null,
  "message_count": 4,
  "messages": [
    {
      "id": "aaa2deb6-7d9c-4e45-933a-53d012488fa1",
      "role": "user",
      "content": "Getting weird errors:\n\n\nA Dart VM Service on macOS is available at: http://127.0.0.1:62066/88lAZnbJao8=/\n\n‚ïê‚ïê‚ï° EXCEPTION CAUGHT BY WIDGETS LIBRARY ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\nThe following UnsupportedError was thrown building LinearProgressIndicator(100.0%, dirty,\ndependencies: [Directionality, _InheritedTheme, _LocalizationsScope-[GlobalKey#ccd7a]], state:\n_LinearProgressIndicatorState#11dd2(ticker inactive)):\nUnsupported operation: Infinity or NaN toInt\n\nThe relevant error-causing widget was:\n  LinearProgressIndicator\n  LinearProgressIndicator:file:///Users/bilalghalib/Projects/Github/amana_audit/lib/screens/home_screen.dart:32:15\n\nWhen the exception was thrown, this was the stack:\n#0      double.toInt (dart:core-patch/double.dart)\n#1      double.round (dart:core-patch/double.dart:194:34)\n#2      ProgressIndicator._buildSemanticsWrapper (package:flutter/src/material/progress_indicator.dart:131:52)\n#3      _LinearProgressIndicatorState._buildIndicator (package:flutter/src/material/progress_indicator.dart:368:19)\n#4      _LinearProgressIndicatorState.build (package:flutter/src/material/progress_indicator.dart:402:14)\n#5      StatefulElement.build (package:flutter/src/widgets/framework.dart:5592:27)\n#6      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5480:15)\n#7      StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5643:11)\n#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5196:7)\n#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5462:5)\n#10     StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5634:11)\n#11     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5456:5)\n...     Normal element mounting (41 frames)\n#52     Element.inflateWidget (package:flutter/src/widgets/framework.dart:4335:16)\n#53     Element.updateChild (package:flutter/src/widgets/framework.dart:3846:18)\n#54     SliverMultiBoxAdaptorElement.updateChild (package:flutter/src/widgets/sliver.dart:858:37)\n#55     SliverMultiBoxAdaptorElement.createChild.<anonymous closure> (package:flutter/src/widgets/sliver.dart:843:20)\n#56     BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2844:19)\n#57     SliverMultiBoxAdaptorElement.createChild (package:flutter/src/widgets/sliver.dart:835:12)\n#58     RenderSliverMultiBoxAdaptor._createOrObtainChild.<anonymous closure>\n(package:flutter/src/rendering/sliver_multi_box_adaptor.dart:349:23)\n#59     RenderObject.invokeLayoutCallback.<anonymous closure> (package:flutter/src/rendering/object.dart:2686:59)\n#60     PipelineOwner._enableMutationsToDirtySubtrees (package:flutter/src/rendering/object.dart:1097:15)\n#61     RenderObject.invokeLayoutCallback (package:flutter/src/rendering/object.dart:2686:14)\n#62     RenderSliverMultiBoxAdaptor._createOrObtainChild (package:flutter/src/rendering/sliver_multi_box_adaptor.dart:338:5)\n#63     RenderSliverMultiBoxAdaptor.addInitialChild (package:flutter/src/rendering/sliver_multi_box_adaptor.dart:424:5)\n#64     RenderSliverList.performLayout (package:flutter/src/rendering/sliver_list.dart:77:12)\n#65     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#66     RenderSliverEdgeInsetsPadding.performLayout (package:flutter/src/rendering/sliver_padding.dart:139:12)\n#67     RenderSliverPadding.performLayout (package:flutter/src/rendering/sliver_padding.dart:361:11)\n#68     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#69     RenderViewportBase.layoutChildSequence (package:flutter/src/rendering/viewport.dart:601:13)\n#70     RenderViewport._attemptLayout (package:flutter/src/rendering/viewport.dart:1555:12)\n#71     RenderViewport.performLayout (package:flutter/src/rendering/viewport.dart:1464:20)\n#72     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#73     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#74     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#75     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#76     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#77     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#78     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#79     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#80     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#81     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#82     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#83     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#84     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#85     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#86     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#87     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#88     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#89     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#90     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#91     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#92     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#93     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#94     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#95     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#96     RenderCustomPaint.performLayout (package:flutter/src/rendering/custom_paint.dart:569:11)\n#97     RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#98     RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#99     RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#100    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#101    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#102    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#103    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#104    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#105    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#106    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#107    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#108    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#109    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#110    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#111    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#112    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#113    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#114    MultiChildLayoutDelegate.layoutChild (package:flutter/src/rendering/custom_layout.dart:173:12)\n#115    _ScaffoldLayout.performLayout (package:flutter/src/material/scaffold.dart:1063:7)\n#116    MultiChildLayoutDelegate._callPerformLayout (package:flutter/src/rendering/custom_layout.dart:237:7)\n#117    RenderCustomMultiChildLayoutBox.performLayout (package:flutter/src/rendering/custom_layout.dart:404:14)\n#118    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#119    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#120    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#121    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#122    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#123    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#124    _RenderCustomClip.performLayout (package:flutter/src/rendering/proxy_box.dart:1440:11)\n#125    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#126    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#127    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#128    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#129    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#130    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#131    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#132    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#133    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#134    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#135    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#136    ChildLayoutHelper.layoutChild (package:flutter/src/rendering/layout_helper.dart:52:11)\n#137    RenderStack._computeSize (package:flutter/src/rendering/stack.dart:582:43)\n#138    RenderStack.performLayout (package:flutter/src/rendering/stack.dart:609:12)\n#139    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#140    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#141    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#142    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#143    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#144    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#145    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#146    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#147    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#148    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#149    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#150    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#151    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#152    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#153    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#154    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#155    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#156    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#157    RenderOffstage.performLayout (package:flutter/src/rendering/proxy_box.dart:3728:13)\n#158    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#159    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#160    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#161    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#162    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#163    _RenderTheaterMixin.layoutChild (package:flutter/src/widgets/overlay.dart:968:13)\n#164    _RenderTheater.performLayout (package:flutter/src/widgets/overlay.dart:1282:9)\n#165    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#166    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#167    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#168    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#169    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#170    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#171    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#172    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#173    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#174    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#175    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#176    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#177    RenderCustomPaint.performLayout (package:flutter/src/rendering/custom_paint.dart:569:11)\n#178    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#179    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#180    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#181    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#182    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#183    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#184    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#185    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#186    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#187    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#188    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#189    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#190    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#191    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#192    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#193    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#194    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#195    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#196    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#197    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#198    RenderProxyBoxMixin.performLayout (package:flutter/src/rendering/proxy_box.dart:105:21)\n#199    RenderObject.layout (package:flutter/src/rendering/object.dart:2575:7)\n#200    RenderBox.layout (package:flutter/src/rendering/box.dart:2389:11)\n#201    RenderView.performLayout (package:flutter/src/rendering/view.dart:195:14)\n#202    RenderObject._layoutWithoutResize (package:flutter/src/rendering/object.dart:2414:7)\n#203    PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:1051:18)\n#204    PipelineOwner.flushLayout (package:flutter/src/rendering/object.dart:1064:15)\n#205    RendererBinding.drawFrame (package:flutter/src/rendering/binding.dart:582:23)\n#206    WidgetsBinding.drawFrame (package:flutter/src/widgets/binding.dart:991:13)\n#207    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:448:5)\n#208    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1386:15)\n#209    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1311:9)\n#210    SchedulerBinding.scheduleWarmUpFrame.<anonymous closure> (package:flutter/src/scheduler/binding.dart:1034:7)\n#214    _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:184:12)\n(elided 3 frames from class _Timer and dart:async-patch)\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nThe Flutter DevTools debugger and profiler on macOS is available at:\nhttp://127.0.0.1:9101?uri=http://127.0.0.1:62066/88lAZnbJao8=/\n2024-06-05 14:50:20.995 lib[87823:639901] WARNING: Secure coding is automatically enabled for restorable state! However, not on all supported macOS versions of this application. Opt-in to secure coding explicitly by implementing NSApplicationDelegate.applicationSupportsSecureRestorableState:.\n\nHow can i fix it, be sure to import the content from constants well and identify the prayers missed and done \n\noldprovider:\nimport 'package:flutter/foundation.dart';\nimport '../services/prayer_service.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\nclass PrayerProvider with ChangeNotifier {\n  final PrayerService _prayerService;\n\n  PrayerProvider(this._prayerService) {\n    _prayerService.onPrayerDataUpdated = _onPrayerDataUpdated;\n  }\n\n  void _onPrayerDataUpdated() {\n    notifyListeners();\n  }\n\n  Map<String, PrayerData> _prayerData = {};\n  Map<String, PrayerData> get prayerData => _prayerData;\n\n  int get startYear => kDefaultStartYear;\n  int get endYear => kDefaultEndYear;\n\n  bool get isDataLoaded => _prayerService.isDataLoaded;\n  List<String> get prayers => _prayerService.prayers;\n\n  Future<void> loadData() async {\n    await _prayerService.loadData();\n    _prayerData = _prayerService.prayerData;\n    notifyListeners();\n  }\n\n  Future<void> saveData(PrayerData data) async {\n    await _prayerService.savePrayerData(data);\n    _prayerData['${data.year}-${data.month}'] = data;\n    notifyListeners();\n  }\n\n  void incrementPrayer(String prayer) {\n    _prayerService.incrementPrayer(prayer);\n    notifyListeners();\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getCompletedPrayersForMonth(year, month, prayer);\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getMissedPrayersForMonth(year, month, prayer);\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    return await _prayerService.getPrayerDataForMonth(year, month);\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    _prayerService.updatePrayerStats(\n        year, month, prayer, increaseCompletedCount);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForYear(year, percentageCompleted);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForMonth(year, month, percentageCompleted);\n    notifyListeners();\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    return _prayerService.getPrayerCompletionPercentageForMonth(year, month);\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    return _prayerService.getPrayerCompletionPercentageForYear(year);\n  }\n\n  Future<Map<String, dynamic>> getAggregatedPrayerData() async {\n    return await _prayerService.getAggregatedPrayerData();\n  }\n\n  void updateStartAndEndYear(int startYear, int endYear) {\n    _prayerService.updateStartAndEndYear(startYear, endYear);\n    notifyListeners();\n  }\n}\n\n\n# File: ./myApp.dart\n#####################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'platform_specific_widget/amana_material_app.dart';\nimport 'providers/prayer_provider.dart';\nimport 'services/prayer_service.dart';\nimport 'services/hive_service.dart';\nimport 'screens/edit_details_screen.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/year_selection_screen.dart';\n\nclass MyApp extends StatelessWidget {\n  final HiveService hiveService;\n\n  const MyApp({super.key, required this.hiveService});\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        Provider<HiveService>.value(value: hiveService),\n        ChangeNotifierProvider<PrayerProvider>(\n          create: (_) => PrayerProvider(PrayerService(hiveService)),\n        ),\n      ],\n      child: Consumer<PrayerProvider>(\n        builder: (context, prayerProvider, _) {\n          prayerProvider.loadData();\n          return AmanaMaterialApp(\n            title: 'Amana Audit',\n            debugShowCheckedModeBanner: false,\n            theme: ThemeData(\n              fontFamily: \"OpenSans\",\n              scaffoldBackgroundColor: Colors.grey[100],\n              primarySwatch: Colors.blue,\n            ),\n            initialRoute: '/',\n            routes: {\n              '/': (context) => const HomeScreen(),\n              '/year-selection': (context) => const YearSelectionScreen(),\n              '/edit-details': (context) => const EditDetailsScreen(),\n            },\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./prayer_record.dart\n#############################\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  int fajrMissed;\n\n  @HiveField(3)\n  int dhuhrMissed;\n\n  @HiveField(4)\n  int asrMissed;\n\n  @HiveField(5)\n  int maghribMissed;\n\n  @HiveField(6)\n  int ishaMissed;\n\n  // Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./main.dart\n####################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'providers/prayer_provider.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/edit_details_screen.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return ChangeNotifierProvider(\n      create: (_) => PrayerProvider()..loadData(),\n      child: MaterialApp(\n        title: 'Prayer Tracker',\n        theme: ThemeData(\n          primarySwatch: Colors.blue,\n        ),\n        initialRoute: '/',\n        routes: {\n          '/': (context) => HomeScreen(),\n          '/edit-details': (context) => EditDetailsScreen(),\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./constants.dart\n#########################\n\n//constants.dart\nconst int kDefaultStartYear = 2022;\nconst int kDefaultEndYear = 2023;\nconst int kDefaultPercentageMissed = 25;\nconst int kDefaultTaqwaBuffer = 5;\n\n\n\n# File: ./prayer_record.g.dart\n###############################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./providers/prayer_provider.dart\n#########################################\n\nimport 'package:flutter/foundation.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\nclass PrayerProvider with ChangeNotifier {\n  Map<String, PrayerData> _prayerData = {};\n\n  Map<String, PrayerData> get prayerData => _prayerData;\n\n  Future<void> loadData() async {\n    _prayerData = {};\n\n    for (int year = kDefaultStartYear; year <= kDefaultEndYear; year++) {\n      for (int month = 1; month <= 12; month++) {\n        final key = '$year-$month';\n        _prayerData[key] = PrayerData(\n          year: year,\n          month: month,\n          prayersCompleted: {},\n          prayersMissed: {},\n          totalPrayed: 0,\n          totalMissed: 0,\n          percentagePrayed: 0,\n          percentageMissed: 0,\n        );\n      }\n    }\n\n    notifyListeners();\n  }\n\n  void updatePrayerData(PrayerData updatedData) {\n    _prayerData['${updatedData.year}-${updatedData.month}'] = updatedData;\n    notifyListeners();\n  }\n\n  void incrementPrayer(int year, int month, String prayer) {\n    final key = '$year-$month';\n    if (_prayerData.containsKey(key)) {\n      final data = _prayerData[key]!;\n      data.prayersCompleted[prayer] = (data.prayersCompleted[prayer] ?? 0) + 1;\n      data.totalPrayed++;\n      notifyListeners();\n    }\n  }\n\n  PrayerData getPrayerDataForMonth(int year, int month) {\n    final key = '$year-$month';\n    return _prayerData[key] ??\n        PrayerData(\n          year: year,\n          month: month,\n          prayersCompleted: {},\n          prayersMissed: {},\n          totalPrayed: 0,\n          totalMissed: 0,\n          percentagePrayed: 0,\n          percentageMissed: 0,\n        );\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    final data = getPrayerDataForMonth(year, month);\n    return data.prayersCompleted[prayer] ?? 0;\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    final data = getPrayerDataForMonth(year, month);\n    return data.prayersMissed[prayer] ?? 0;\n  }\n}\n\n\n\n# File: ./models/prayer_record.dart\n####################################\n\nimport 'package:hive/hive.dart';\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n  @HiveField(1)\n  int month;\n  @HiveField(2)\n  int fajrMissed;\n  @HiveField(3)\n  int dhuhrMissed;\n  @HiveField(4)\n  int asrMissed;\n  @HiveField(5)\n  int maghribMissed;\n  @HiveField(6)\n  int ishaMissed;\n// Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./models/prayer_data.dart\n##################################\n\n// File: lib/models/prayer_data.dart\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_data.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerData {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  Map<String, int> prayersCompleted; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(3)\n  Map<String, int> prayersMissed; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(4)\n  int totalPrayed;\n\n  @HiveField(5)\n  int totalMissed;\n\n  @HiveField(6)\n  double percentagePrayed;\n\n  @HiveField(7)\n  double percentageMissed;\n\n  PrayerData({\n    required this.year,\n    required this.month,\n    required this.prayersCompleted,\n    required this.prayersMissed,\n    required this.totalPrayed,\n    required this.totalMissed,\n    required this.percentagePrayed,\n    required this.percentageMissed,\n  });\n\n  factory PrayerData.fromMap(Map<String, dynamic> map) {\n    return PrayerData(\n      year: map['year'],\n      month: map['month'],\n      prayersCompleted: Map<String, int>.from(map['prayersCompleted']),\n      prayersMissed: Map<String, int>.from(map['prayersMissed']),\n      totalPrayed: map['totalPrayed'],\n      totalMissed: map['totalMissed'],\n      percentagePrayed: map['percentagePrayed'],\n      percentageMissed: map['percentageMissed'],\n    );\n  }\n\n  Map<String, dynamic> toMap() {\n    return {\n      'year': year,\n      'month': month,\n      'prayersCompleted': prayersCompleted,\n      'prayersMissed': prayersMissed,\n      'totalPrayed': totalPrayed,\n      'totalMissed': totalMissed,\n      'percentagePrayed': percentagePrayed,\n      'percentageMissed': percentageMissed,\n    };\n  }\n}\n\n\n\n# File: ./models/prayer_data.g.dart\n####################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_data.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerDataAdapter extends TypeAdapter<PrayerData> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerData read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerData(\n      year: fields[0] as int,\n      month: fields[1] as int,\n      prayersCompleted: (fields[2] as Map).cast<String, int>(),\n      prayersMissed: (fields[3] as Map).cast<String, int>(),\n      totalPrayed: fields[4] as int,\n      totalMissed: fields[5] as int,\n      percentagePrayed: fields[6] as double,\n      percentageMissed: fields[7] as double,\n    );\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerData obj) {\n    writer\n      ..writeByte(8)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.prayersCompleted)\n      ..writeByte(3)\n      ..write(obj.prayersMissed)\n      ..writeByte(4)\n      ..write(obj.totalPrayed)\n      ..writeByte(5)\n      ..write(obj.totalMissed)\n      ..writeByte(6)\n      ..write(obj.percentagePrayed)\n      ..writeByte(7)\n      ..write(obj.percentageMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerDataAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./models/prayer_record.g.dart\n######################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./screens/settings_screen.dart\n#######################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_scaffold.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\n\nclass SettingsScreen extends StatefulWidget {\n  @override\n  _SettingsScreenState createState() => _SettingsScreenState();\n}\n\nclass _SettingsScreenState extends State<SettingsScreen> {\n  late TextEditingController _birthYearController;\n\n  @override\n  void initState() {\n    super.initState();\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    _birthYearController =\n        TextEditingController(text: prayerProvider.birthYear.toString());\n  }\n\n  @override\n  void dispose() {\n    _birthYearController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaScaffold(\n      title: 'Settings',\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            AmanaInputField(\n              keyboardType: TextInputType.number,\n              controller: _birthYearController,\n              onChange: (val) {\n                setState(() {\n                  _birthYearController.text = val;\n                });\n              },\n              sufixIcon: Icons.date_range,\n              label: \"Birth Year\",\n            ),\n            SizedBox(height: 16),\n            ElevatedButton(\n              onPressed: () {\n                int birthYear = int.parse(_birthYearController.text);\n                Provider.of<PrayerProvider>(context, listen: false)\n                    .saveBirthYear(birthYear);\n                Navigator.pop(context);\n              },\n              child: Text('Save'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_material.dart\n#####################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardMaterial extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n  final VoidCallback onPrayPressed;\n\n  const PrayerProgressCardMaterial({\n    required this.prayer,\n    required this.year,\n    required this.month,\n    required this.onPrayPressed,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    final completedPrayers =\n        prayerProvider.getCompletedPrayersForMonth(year, month, prayer);\n    final missedPrayers =\n        prayerProvider.getMissedPrayersForMonth(year, month, prayer);\n    final totalPrayers = completedPrayers + missedPrayers;\n\n    return Card(\n      child: Padding(\n        padding: const EdgeInsets.all(14.0),\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: [\n            Text(prayer,\n                style: TextStyle(fontWeight: FontWeight.bold, fontSize: 16)),\n            ClipRRect(\n              borderRadius: BorderRadius.circular(8),\n              child: LinearProgressIndicator(\n                value: totalPrayers > 0 ? completedPrayers / totalPrayers : 0,\n                minHeight: 12,\n                backgroundColor: Colors.grey[300],\n                valueColor: AlwaysStoppedAnimation<Color>(Color(0xff34C759)),\n              ),\n            ),\n            Text(\n                '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                style: TextStyle(fontSize: 14)),\n            Text('$completedPrayers / $totalPrayers',\n                style: TextStyle(fontSize: 12)),\n            ElevatedButton(\n              onPressed: onPrayPressed,\n              child: Text('Pray'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_details_screen.dart\n#############################################\n\nimport 'package:flutter/material.dart';\nimport '../services/hive_service.dart';\nimport '../models/prayer_record.dart';\n\nclass PrayerDetailsScreen extends StatelessWidget {\n  final String prayer;\n  final HiveService _hiveService = HiveService();\n\n  PrayerDetailsScreen({required this.prayer});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('$prayer Details'),\n      ),\n      body: ValueListenableBuilder(\n        valueListenable: _hiveService.prayerBox.listenable(),\n        builder: (context, Box<PrayerRecord> box, _) {\n          final records = _hiveService.getPrayerRecords();\n          // Implement logic to find and increment the oldest missed prayer\n\n          return Column(\n            children: [\n              // Display and update prayer details here\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/edit_details_screen.dart\n###########################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport '../constants.dart';\n\nclass EditDetailsScreen extends StatefulWidget {\n  @override\n  _EditDetailsScreenState createState() => _EditDetailsScreenState();\n}\n\nclass _EditDetailsScreenState extends State<EditDetailsScreen> {\n  int? _selectedYear;\n  int? _selectedMonth;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Edit Details'),\n      ),\n      body: Consumer<PrayerProvider>(\n        builder: (context, provider, _) {\n          final years = List.generate(kDefaultEndYear - kDefaultStartYear + 1,\n              (index) => kDefaultStartYear + index);\n          final months = List.generate(12, (index) => index + 1);\n\n          return ListView(\n            padding: EdgeInsets.all(16.0),\n            children: [\n              // Year dropdown\n              DropdownButtonFormField<int>(\n                value: _selectedYear,\n                items: years.map((year) {\n                  return DropdownMenuItem(\n                    value: year,\n                    child: Text(year.toString()),\n                  );\n                }).toList(),\n                onChanged: (value) {\n                  setState(() {\n                    _selectedYear = value;\n                    _selectedMonth = null;\n                  });\n                },\n                decoration: InputDecoration(\n                  labelText: 'Select Year',\n                ),\n              ),\n              SizedBox(height: 16.0),\n\n              // Month dropdown\n              if (_selectedYear != null)\n                DropdownButtonFormField<int>(\n                  value: _selectedMonth,\n                  items: months.map((month) {\n                    return DropdownMenuItem(\n                      value: month,\n                      child: Text(month.toString()),\n                    );\n                  }).toList(),\n                  onChanged: (value) {\n                    setState(() {\n                      _selectedMonth = value;\n                    });\n                  },\n                  decoration: InputDecoration(\n                    labelText: 'Select Month',\n                  ),\n                ),\n              SizedBox(height: 16.0),\n\n              // Prayer data form fields\n              if (_selectedYear != null && _selectedMonth != null)\n                // Display form fields for editing prayer data\n                Container(),\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/year_selection_screen.dart\n#############################################\n\nimport 'dart:io';\nimport '../constants.dart';\nimport '../widgets/hadith_modal.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_button.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\nimport 'home_screen.dart';\nimport '../models/prayer_data.dart';\n\nclass YearSelectionScreen extends StatefulWidget {\n  const YearSelectionScreen({super.key});\n\n  @override\n  State<YearSelectionScreen> createState() => _YearSelectionScreenState();\n}\n\nclass _YearSelectionScreenState extends State<YearSelectionScreen> {\n  late TextEditingController _startYearController;\n  late TextEditingController _startMonthController;\n  late TextEditingController _endYearController;\n  late TextEditingController _endMonthController;\n  double _averageMissedPrayers = 25;\n\n  @override\n  void initState() {\n    super.initState();\n    final provider = Provider.of<PrayerProvider>(context, listen: false);\n    _startYearController =\n        TextEditingController(text: provider.startYear.toString());\n    _startMonthController = TextEditingController(text: '1');\n    _endYearController =\n        TextEditingController(text: provider.endYear.toString());\n    _endMonthController =\n        TextEditingController(text: DateTime.now().month.toString());\n  }\n\n  @override\n  void dispose() {\n    _startYearController.dispose();\n    _startMonthController.dispose();\n    _endYearController.dispose();\n    _endMonthController.dispose();\n    super.dispose();\n  }\n\n  void _showHadithModal(BuildContext context) {\n    Platform.isIOS\n        ? showCupertinoDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          )\n        : showDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          );\n  }\n\n  void _saveData() {\n    int startYear =\n        int.tryParse(_startYearController.text) ?? kDefaultStartYear;\n    int startMonth = int.tryParse(_startMonthController.text) ?? 1;\n    int endYear = int.tryParse(_endYearController.text) ?? kDefaultEndYear;\n    int endMonth =\n        int.tryParse(_endMonthController.text) ?? DateTime.now().month;\n\n    Map<int, int> percentageMissedByYear = {};\n    for (int year = startYear; year <= endYear; year++) {\n      percentageMissedByYear[year] = _averageMissedPrayers.round();\n    }\n\n    var provider = Provider.of<PrayerProvider>(context, listen: false);\n    provider.saveData(PrayerData(\n      // Fix: Pass a PrayerData object\n      year: startYear,\n      month: startMonth,\n      prayersCompleted: {},\n      prayersMissed: {},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    ));\n    Navigator.pushAndRemoveUntil(\n        context,\n        MaterialPageRoute(builder: (context) => HomeScreen()),\n        (route) => false);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Amana Audit'),\n      ),\n      body: SingleChildScrollView(\n        padding: REdgeInsets.only(top: 24, left: 18, right: 18),\n        child: Column(\n          crossAxisAlignment:\n              kIsWeb ? CrossAxisAlignment.center : CrossAxisAlignment.stretch,\n          children: [\n            SizedBox(height: 24.h),\n            Text(\n              'üïå It\\'s time to catch up on our prayers.',\n              style: TextStyle(\n                fontSize: 20,\n                fontWeight: FontWeight.bold,\n                color: Colors.black,\n              ),\n            ),\n            Text(\n              'üìÖ Select the range of years for which you want to track your missed prayers.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 24.h),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _startMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _startYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Year\",\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _endMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _endYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Year\",\n                  ),\n                ),\n              ],\n            ),\n            SizedBox(height: 24.h),\n            Text(\n              'üïã Set the average percentage of prayers you estimate you missed for the selected years.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            Slider(\n              value: _averageMissedPrayers,\n              min: 0,\n              max: 100,\n              divisions: 20,\n              label: '${_averageMissedPrayers.round()}%',\n              onChanged: (double value) {\n                setState(() {\n                  _averageMissedPrayers = value;\n                });\n              },\n            ),\n            Text(\n              '${_averageMissedPrayers.round()}% of prayers missed',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            AmanaButton(\n              onPress: _saveData,\n              label: \"Save\",\n              isAppLevel: true,\n            ),\n            SizedBox(height: 10),\n            GestureDetector(\n              onTap: () => _showHadithModal(context),\n              child: const Text(\n                'üìñ \"* My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have prescribed upon him...\" Hadith Qudsi 25:40 -Bukhari \\n{Click to read}',\n                style: TextStyle(fontSize: 14.0, color: Colors.blue),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_cupertino.dart\n######################################################\n\n// File: screens/prayer_progress_card_cupertino.dart\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardCupertino extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n\n  const PrayerProgressCardCupertino({\n    required this.prayer,\n    required this.year,\n    required this.month,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    return FutureBuilder<int>(\n      future: Future.value(\n          prayerProvider.getCompletedPrayersForMonth(year, month, prayer)),\n      builder: (context, completedSnapshot) {\n        return FutureBuilder<int>(\n          future: Future.value(\n              prayerProvider.getMissedPrayersForMonth(year, month, prayer)),\n          builder: (context, missedSnapshot) {\n            if (completedSnapshot.connectionState == ConnectionState.waiting ||\n                missedSnapshot.connectionState == ConnectionState.waiting) {\n              return CupertinoActivityIndicator();\n            }\n            final completedPrayers = completedSnapshot.data ?? 0;\n            final missedPrayers = missedSnapshot.data ?? 0;\n            final totalPrayers = completedPrayers + missedPrayers;\n\n            return Container(\n              margin: EdgeInsets.all(8.0),\n              padding: EdgeInsets.all(14.0),\n              decoration: BoxDecoration(\n                color: CupertinoColors.white,\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: CupertinoColors.systemGrey.withOpacity(0.4),\n                    spreadRadius: 1,\n                    blurRadius: 3,\n                    offset: Offset(0, 2),\n                  ),\n                ],\n              ),\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(prayer,\n                      style:\n                          TextStyle(fontWeight: FontWeight.bold, fontSize: 16)),\n                  SizedBox(height: 8),\n                  ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: totalPrayers > 0\n                          ? completedPrayers / totalPrayers\n                          : 0,\n                      minHeight: 12,\n                      backgroundColor: CupertinoColors.systemGrey4,\n                      valueColor: AlwaysStoppedAnimation<Color>(\n                          CupertinoColors.activeGreen),\n                    ),\n                  ),\n                  SizedBox(height: 8),\n                  Text(\n                      '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                      style: TextStyle(fontSize: 14)),\n                  Text('$completedPrayers / $totalPrayers',\n                      style: TextStyle(fontSize: 12)),\n                  SizedBox(height: 8),\n                  CupertinoButton.filled(\n                    onPressed: () => prayerProvider.incrementPrayer(prayer),\n                    child: Text('Pray'),\n                  ),\n                ],\n              ),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n\n\n\n# File: ./screens/home_screen.dart\n###################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport 'prayer_progress_card_material.dart';\n\nclass HomeScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Prayer Tracker'),\n        actions: [\n          IconButton(\n            icon: Icon(Icons.edit),\n            onPressed: () {\n              Navigator.pushNamed(context, '/edit-details');\n            },\n          ),\n        ],\n      ),\n      body: Consumer<PrayerProvider>(\n        builder: (context, provider, _) {\n          final currentYear = DateTime.now().year;\n          final currentMonth = DateTime.now().month;\n          final prayerData =\n              provider.getPrayerDataForMonth(currentYear, currentMonth);\n\n          return ListView(\n            padding: EdgeInsets.all(16.0),\n            children: [\n              // Display total progress\n              LinearProgressIndicator(\n                value: prayerData.totalPrayed /\n                    (prayerData.totalPrayed + prayerData.totalMissed),\n              ),\n              SizedBox(height: 16.0),\n\n              // Display individual prayer cards\n              GridView.count(\n                crossAxisCount: 2,\n                shrinkWrap: true,\n                children: prayerData.prayersCompleted.keys.map((prayer) {\n                  return PrayerProgressCardMaterial(\n                    prayer: prayer,\n                    year: currentYear,\n                    month: currentMonth,\n                    onPrayPressed: () {\n                      provider.incrementPrayer(\n                          currentYear, currentMonth, prayer);\n                    },\n                  );\n                }).toList(),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_button.dart\n#####################################################\n\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaButton extends StatelessWidget {\n  const AmanaButton(\n      {super.key,\n      required this.onPress,\n      required this.label,\n      required this.isAppLevel});\n\n  final VoidCallback onPress;\n  final String label;\n  final bool isAppLevel;\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTap: onPress,\n      child: kIsWeb && isAppLevel\n          ? Container(\n              width: 200,\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            )\n          : Container(\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            ),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_snackbar.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nvoid AmanaSnackBar({required BuildContext context, required Text content}) {\n  if (Theme.of(context).platform == TargetPlatform.iOS) {\n    showCupertinoModalPopup(\n      context: context,\n      builder: (BuildContext context) => CupertinoActionSheet(\n        title: content,\n        cancelButton: CupertinoActionSheetAction(\n          child: const Text('Dismiss'),\n          onPressed: () {\n            Navigator.pop(context);\n          },\n        ),\n      ),\n    );\n  } else {\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(content: Text('Changes saved for the selected year.')),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_alert_dialog.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\n\nclass AmanaAlertDialog extends StatelessWidget {\n  final Widget title;\n  final Widget content;\n  final List<Widget> actions;\n\n  const AmanaAlertDialog(\n      {super.key,\n      required this.title,\n      required this.content,\n      required this.actions});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoAlertDialog(title: title, content: content, actions: actions)\n        : AlertDialog(\n            title: title,\n            content: content,\n            actions: actions,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_drop_down.dart\n########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final int? value;\n  final String labelText;\n  final void Function(int?)? onChanged;\n\n  const AmanaDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(\n                (value == null || value == 0 ? labelText : value.toString())),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as int);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<int>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<int>(\n                      value: e[\"value\"] as int,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Year\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_material_app.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaMaterialApp extends StatelessWidget {\n  final String title;\n  final ThemeData theme;\n  final String initialRoute;\n  final Map<String, WidgetBuilder> routes;\n  final bool debugShowCheckedModeBanner;\n\n  const AmanaMaterialApp(\n      {super.key,\n      required this.title,\n      required this.theme,\n      required this.initialRoute,\n      required this.routes,\n      required this.debugShowCheckedModeBanner});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: Size(430, 930),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (context, _) {\n        return Theme.of(context).platform == TargetPlatform.iOS\n            ? CupertinoApp(\n                title: title,\n                theme: CupertinoThemeData(\n                    scaffoldBackgroundColor: Colors.grey[100],\n                    textTheme: CupertinoTextThemeData(\n                        textStyle: TextStyle(\n                      fontFamily: \"OpenSans\",\n                    )),\n                    primaryColor: theme.primaryColor),\n                initialRoute: initialRoute,\n                // home: HomeScreen(),\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              )\n            : MaterialApp(\n                title: title,\n                theme: theme,\n                initialRoute: initialRoute,\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              );\n      },\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_month_drop_down.dart\n##############################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaMonthDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final String value;\n  final String labelText;\n  final void Function(String?)? onChanged;\n\n  const AmanaMonthDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(value == \"\" ? labelText : value),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as String);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<String>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<String>(\n                      value: e[\"value\"] as String,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Month\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_scaffold.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaScaffold extends StatelessWidget {\n  final String title;\n  final Widget body;\n\n  const AmanaScaffold({super.key, required this.title, required this.body});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoPageScaffold(\n            navigationBar: CupertinoNavigationBar(\n              middle: Text(title),\n            ),\n            child: SafeArea(child: body),\n          )\n        : Scaffold(\n            appBar: AppBar(\n              toolbarHeight: 80.h,\n              centerTitle: true,\n              title: Text(title),\n            ),\n            body: body,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_input_field.dart\n##########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaInputField extends StatefulWidget {\n  const AmanaInputField(\n      {super.key,\n      required this.onChange,\n      required this.sufixIcon,\n      this.hintText = \"\",\n      this.isPassword = false,\n      required this.keyboardType,\n      required this.controller,\n      required this.label});\n\n  final Function(String value) onChange;\n  final IconData sufixIcon;\n  final String hintText;\n  final bool isPassword;\n  final String label;\n  final TextEditingController? controller;\n  final TextInputType keyboardType;\n\n  @override\n  State<AmanaInputField> createState() => _AmanaInputFieldState();\n}\n\nclass _AmanaInputFieldState extends State<AmanaInputField> {\n  bool showPassword = false;\n\n  @override\n  Widget build(BuildContext context) {\n    if (Theme.of(context).platform == TargetPlatform.iOS) {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: CupertinoTextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            placeholder: widget.hintText,\n            prefix: Padding(\n              padding: EdgeInsets.all(8.0),\n              child: Icon(\n                widget.sufixIcon,\n                color: Colors.grey,\n                size: 20,\n              ),\n            ),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    } else {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: TextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                suffixIcon: Icon(\n                  widget.sufixIcon,\n                  color: Colors.grey,\n                  size: 20,\n                ),\n                labelText: widget.label,\n                labelStyle: const TextStyle(color: Colors.grey)),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/flutter_build/dart_plugin_registrant.dart\n###############################################################\n\n//\n// Generated file. Do not edit.\n// This file is generated from template in file `flutter_tools/lib/src/flutter_plugins.dart`.\n//\n\n// @dart = 3.3\n\nimport 'dart:io'; // flutter_ignore: dart_io_import.\nimport 'package:path_provider_android/path_provider_android.dart';\nimport 'package:shared_preferences_android/shared_preferences_android.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_linux/path_provider_linux.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_linux/shared_preferences_linux.dart';\nimport 'package:url_launcher_linux/url_launcher_linux.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_windows/path_provider_windows.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_windows/shared_preferences_windows.dart';\nimport 'package:url_launcher_windows/url_launcher_windows.dart';\n\n@pragma('vm:entry-point')\nclass _PluginRegistrant {\n\n  @pragma('vm:entry-point')\n  static void register() {\n    if (Platform.isAndroid) {\n      try {\n        PathProviderAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isIOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isLinux) {\n      try {\n        PathProviderLinux.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusLinuxPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesLinux.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherLinux.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isMacOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isWindows) {\n      try {\n        PathProviderWindows.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusWindowsPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesWindows.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherWindows.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/dartpad/web_plugin_registrant.dart\n########################################################\n\n// Flutter web plugin registrant file.\n//\n// Generated file. Do not edit.\n//\n\n// @dart = 2.13\n// ignore_for_file: type=lint\n\nimport 'package:share_plus/src/share_plus_web.dart';\nimport 'package:shared_preferences_web/shared_preferences_web.dart';\nimport 'package:url_launcher_web/url_launcher_web.dart';\nimport 'package:flutter_web_plugins/flutter_web_plugins.dart';\n\nvoid registerPlugins([final Registrar? pluginRegistrar]) {\n  final Registrar registrar = pluginRegistrar ?? webPluginRegistrar;\n  SharePlusWebPlugin.registerWith(registrar);\n  SharedPreferencesPlugin.registerWith(registrar);\n  UrlLauncherPlugin.registerWith(registrar);\n  registrar.registerMessageHandler();\n}\n\n\n\n# File: ./.dart_tool/build/entrypoint/build.dart\n#################################################\n\n// ignore_for_file: directives_ordering\n// ignore_for_file: no_leading_underscores_for_library_prefixes\nimport 'package:build_runner_core/build_runner_core.dart' as _i1;\nimport 'package:hive_generator/hive_generator.dart' as _i2;\nimport 'package:source_gen/builder.dart' as _i3;\nimport 'dart:isolate' as _i4;\nimport 'package:build_runner/build_runner.dart' as _i5;\nimport 'dart:io' as _i6;\n\nfinal _builders = <_i1.BuilderApplication>[\n  _i1.apply(\n    r'hive_generator:hive_generator',\n    [_i2.getBuilder],\n    _i1.toDependentsOf(r'hive_generator'),\n    hideOutput: true,\n    appliesBuilders: const [r'source_gen:combining_builder'],\n  ),\n  _i1.apply(\n    r'source_gen:combining_builder',\n    [_i3.combiningBuilder],\n    _i1.toNoneByDefault(),\n    hideOutput: false,\n    appliesBuilders: const [r'source_gen:part_cleanup'],\n  ),\n  _i1.applyPostProcess(\n    r'source_gen:part_cleanup',\n    _i3.partCleanup,\n  ),\n];\nvoid main(\n  List<String> args, [\n  _i4.SendPort? sendPort,\n]) async {\n  var result = await _i5.run(\n    args,\n    _builders,\n  );\n  sendPort?.send(result);\n  _i6.exitCode = result;\n}\n\n\n\n# File: ./services/hive_service.dart\n#####################################\n\n// File: hive_service.dart\n\nimport 'package:hive_flutter/hive_flutter.dart';\n\nclass HiveService {\n  late Box box;\n\n  Future<void> init() async {\n    await Hive.initFlutter();\n    await Hive.deleteBoxFromDisk('prayerBox'); // Clear the existing box\n    box = await Hive.openBox('prayerBox');\n  }\n\n  Future<void> saveData(String key, dynamic value) async {\n    await box.put(key, value);\n  }\n\n  dynamic loadData(String key) {\n    return box.get(key);\n  }\n\n  Future<void> clearData() async {\n    await box.clear();\n  }\n}\n\n\n\n# File: ./services/prayer_service.dart\n#######################################\n\nimport 'hive_service.dart';\nimport 'package:share_plus/share_plus.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\ntypedef PrayerDataUpdateCallback = void Function();\n\nclass PrayerService {\n  final HiveService _hiveService;\n  bool isDataLoaded = false;\n  final List<String> prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];\n  Map<String, PrayerData> prayerData = {};\n  PrayerDataUpdateCallback? onPrayerDataUpdated;\n\n  PrayerService(this._hiveService);\n\n  Future<void> loadData() async {\n    var loadedData = await _hiveService.loadData('prayerData');\n    ;\n\n    if (loadedData != null && loadedData is Map<String, Map<String, dynamic>>) {\n      prayerData = Map<String, PrayerData>.from(\n        loadedData\n            .map((key, value) => MapEntry(key, PrayerData.fromMap(value))),\n      );\n    }\n\n    if (prayerData.isEmpty) {\n      for (int year = kDefaultStartYear; year <= kDefaultEndYear; year++) {\n        for (int month = 1; month <= 12; month++) {\n          prayerData['$year-$month'] = _calculatePrayerData(\n              year, month, 100 - kDefaultPercentageMissed.toDouble());\n        }\n      }\n      await savePrayerData(prayerData.values.first);\n    }\n\n    isDataLoaded = true;\n    print('Loaded data from Hive: $prayerData');\n  }\n\n  Future<void> savePrayerData(PrayerData data) async {\n    prayerData['${data.year}-${data.month}'] = data;\n    await _hiveService.saveData('prayerData', prayerData);\n\n    Map<String, Map<String, dynamic>> unpacked = {};\n    prayerData.forEach((key, value) {\n      unpacked[key] = {\n        'year': value.year,\n        'month': value.month,\n        'prayersCompleted': value.prayersCompleted,\n        'prayersMissed': value.prayersMissed,\n        'totalPrayed': value.totalPrayed,\n        'totalMissed': value.totalMissed,\n        'percentagePrayed': value.percentagePrayed,\n        'percentageMissed': value.percentageMissed,\n      };\n    });\n    print('Updated data: $unpacked');\n    print('Saved data to Hive: $prayerData');\n\n    onPrayerDataUpdated?.call();\n  }\n\n  void incrementPrayer(String prayer) {\n    String? earliestKey;\n    int earliestYear = 9999;\n    int earliestMonth = 12;\n\n    prayerData.forEach((key, data) {\n      if (data.prayersMissed[prayer]! > 0 &&\n          (data.year < earliestYear ||\n              (data.year == earliestYear && data.month < earliestMonth))) {\n        earliestKey = key;\n        earliestYear = data.year;\n        earliestMonth = data.month;\n      }\n    });\n\n    if (earliestKey != null) {\n      final data = prayerData[earliestKey]!;\n      data.prayersMissed[prayer] = data.prayersMissed[prayer]! - 1;\n      data.prayersCompleted[prayer] = data.prayersCompleted[prayer]! + 1;\n      data.totalPrayed++;\n      data.totalMissed--;\n      savePrayerData(data);\n    }\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersCompleted[prayer] ?? 0;\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersMissed[prayer] ?? 0;\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    final key = '$year-$month';\n    var data = prayerData[key];\n    if (data == null) {\n      data = PrayerData(\n        year: year,\n        month: month,\n        prayersCompleted: {for (var prayer in prayers) prayer: 0},\n        prayersMissed: {for (var prayer in prayers) prayer: 0},\n        totalPrayed: 0,\n        totalMissed: 0,\n        percentagePrayed: 0,\n        percentageMissed: 0,\n      );\n      await savePrayerData(data);\n    }\n    return data;\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      if (increaseCompletedCount) {\n        data.prayersCompleted[prayer] =\n            (data.prayersCompleted[prayer] ?? 0) + 1;\n      } else {\n        data.prayersMissed[prayer] = (data.prayersMissed[prayer] ?? 0) + 1;\n      }\n      data.totalPrayed = data.prayersCompleted.values.reduce((a, b) => a + b);\n      data.totalMissed = data.prayersMissed.values.reduce((a, b) => a + b);\n      data.percentagePrayed =\n          (data.totalPrayed / (data.totalPrayed + data.totalMissed)) * 100;\n      data.percentageMissed =\n          (data.totalMissed / (data.totalPrayed + data.totalMissed)) * 100;\n      savePrayerData(data);\n    }\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      final totalPrayers = data.totalPrayed + data.totalMissed;\n      return totalPrayers > 0 ? (data.totalPrayed / totalPrayers) * 100 : 0;\n    }\n    return 0;\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    double totalPercentage = 0;\n    int monthCount = 0;\n    for (int month = 1; month <= 12; month++) {\n      final key = '$year-$month';\n      final data = prayerData[key];\n      if (data != null) {\n        final totalPrayers = data.totalPrayed + data.totalMissed;\n        if (totalPrayers > 0) {\n          totalPercentage += (data.totalPrayed / totalPrayers) * 100;\n          monthCount++;\n        }\n      }\n    }\n    return monthCount > 0 ? totalPercentage / monthCount : 0;\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n\n    for (int month = 1;\n        month <= (year == currentYear ? currentMonth - 1 : 12);\n        month++) {\n      updatePrayerStatsForMonth(year, month, percentageCompleted);\n    }\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    final key = '$year-$month';\n    final data = _calculatePrayerData(year, month, percentageCompleted);\n    prayerData[key] = data;\n    savePrayerData(data);\n  }\n\n  void updateStartAndEndYear(int startYear, int endYear) {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n\n    for (int year = startYear; year <= endYear; year++) {\n      final endMonth = year == currentYear ? currentMonth : 12;\n      for (int month = 1; month <= endMonth; month++) {\n        final key = '$year-$month';\n        if (!prayerData.containsKey(key)) {\n          prayerData[key] = _calculatePrayerData(\n              year, month, 100 - kDefaultPercentageMissed.toDouble());\n        }\n      }\n    }\n    savePrayerData(prayerData.values.first);\n  }\n\n  Future<Map<String, dynamic>> getAggregatedPrayerData() async {\n    int totalPrayed = 0;\n    int totalPossible = 0;\n\n    for (final data in prayerData.values) {\n      totalPrayed += data.totalPrayed;\n      totalPossible += data.totalPrayed + data.totalMissed;\n    }\n\n    return {\n      'totalPrayed': totalPrayed,\n      'totalPossible': totalPossible,\n    };\n  }\n\n  void _setDefaultPrayerData() {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n    prayerData['$currentYear-$currentMonth'] = PrayerData(\n      year: currentYear,\n      month: currentMonth,\n      prayersCompleted: {for (var prayer in prayers) prayer: 0},\n      prayersMissed: {for (var prayer in prayers) prayer: 0},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    );\n  }\n\n  Future<bool> resetApplication() async {\n    prayerData = {};\n    _setDefaultPrayerData();\n    await _hiveService.clearData();\n    return true;\n  }\n\n  PrayerData _calculatePrayerData(\n      int year, int month, double percentageCompleted) {\n    final totalDays = DateTime(year, month + 1, 0).day;\n    final totalPrayers = totalDays * prayers.length;\n    final completedPrayers = (totalPrayers * percentageCompleted / 100).round();\n    final missedPrayers = totalPrayers - completedPrayers;\n\n    final prayersCompleted = {\n      for (var prayer in prayers)\n        prayer: (totalDays * percentageCompleted / 100).round()\n    };\n    final prayersMissed = {\n      for (var prayer in prayers) prayer: totalDays - prayersCompleted[prayer]!\n    };\n\n    return PrayerData(\n      year: year,\n      month: month,\n      prayersCompleted: prayersCompleted,\n      prayersMissed: prayersMissed,\n      totalPrayed: completedPrayers,\n      totalMissed: missedPrayers,\n      percentagePrayed: percentageCompleted,\n      percentageMissed: 100 - percentageCompleted,\n    );\n  }\n\n  void sharePrayerData() {\n    String shareText = 'My Prayer Progress:\\n\\n';\n    // Implement logic to generate the share text\n    Share.share(shareText);\n  }\n}\n\n\n\n# File: ./widgets/progress_bar.dart\n####################################\n\nimport 'package:flutter/material.dart';\n\nclass ProgressBar extends StatelessWidget {\n  final double value;\n\n  ProgressBar({required this.value});\n\n  @override\n  Widget build(BuildContext context) {\n    return LinearProgressIndicator(value: value);\n  }\n}\n\n\n\n# File: ./widgets/hadith_modal.dart\n####################################\n\n// hadith_modal.dart\nimport '../platform_specific_widget/amana_alert_dialog.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass HadithModal extends StatelessWidget {\n  const HadithModal({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaAlertDialog(\n      title: Text(\n        'Hadith Qudsi 25:40',\n        style: TextStyle(color: Colors.black),\n      ),\n      content: SingleChildScrollView(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Text(\n              'On the authority of Abu Hurayrah (may Allah be pleased with him), who said that the Messenger of Allah (Ô∑∫) said:\\n\\n'\n              'Allah (mighty and sublime be He) said: Whosoever shows enmity to someone devoted to Me, I shall be at war with him. My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have perscribed upon him, and My servant continues to draw near to Me with voluntary acts of worship so that I shall love him. When I love him I am his hearing with which he hears, his seeing with which he sees, his hand with which he strikes and his foot with which he walks. Were he to ask [something] of Me, I would surely give it to him, and were he to ask Me for refuge, I would surely grant him it. I do not hesitate about anything as much as I hesitate about [seizing] the soul of My faithful servant: he hates death and I hate hurting him.',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n            Text(\n              'ÿπŸéŸÜŸí ÿ£Ÿéÿ®ŸêŸä ŸáŸèÿ±ŸéŸäŸíÿ±Ÿéÿ©Ÿé ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸëŸéŸáŸè ÿπŸéŸÜŸíŸáŸè ŸÇŸéÿßŸÑŸé: ŸÇŸéÿßŸÑŸé ÿ±Ÿéÿ≥ŸèŸàŸÑŸè ÿßŸÑŸÑŸëŸéŸáŸê ÿµŸéŸÑŸëŸéŸâ ÿßŸÑŸÑŸëŸéŸáŸè ÿπŸéŸÑŸéŸäŸíŸáŸê ŸàŸéÿ≥ŸéŸÑŸëŸéŸÖŸé: \" ÿ•ŸêŸÜŸëŸé ÿßŸÑŸÑŸëŸéŸáŸé ÿπŸéÿ≤ŸëŸé ŸàŸéÿ¨ŸéŸÑŸëŸé ŸÇŸéÿßŸÑŸé: ŸÖŸéŸÜŸí ÿπŸéÿßÿØŸéŸâ ŸÑŸêŸä ŸàŸéŸÑŸêŸäŸëŸãÿßÿå ŸÅŸéŸÇŸéÿØŸí ÿ¢ÿ∞ŸéŸÜŸíÿ™ŸèŸáŸè ÿ®ŸêÿßŸÑŸíÿ≠Ÿéÿ±Ÿíÿ®Ÿêÿå ŸàŸéŸÖŸéÿß ÿ™ŸéŸÇŸéÿ±ŸëŸéÿ®Ÿé ÿ•ŸêŸÑŸéŸäŸëŸé ÿπŸéÿ®ŸíÿØŸêŸä ÿ®Ÿêÿ¥ŸéŸäŸíÿ°Ÿç ÿ£Ÿéÿ≠Ÿéÿ®ŸëŸé ÿ•ŸêŸÑŸéŸäŸëŸé ŸÖŸêŸÖŸëŸéÿß ÿßŸÅŸíÿ™Ÿéÿ±Ÿéÿ∂Ÿíÿ™Ÿè ÿπŸéŸÑŸéŸäŸíŸáŸêÿå ŸàŸéŸÖŸéÿß ŸäŸéÿ≤ŸéÿßŸÑŸè ÿπŸéÿ®ŸíÿØŸêŸä ŸäŸéÿ™ŸéŸÇŸéÿ±ŸëŸéÿ®Ÿè ÿ•ŸêŸÑŸéŸäŸëŸé ÿ®ŸêÿßŸÑŸÜŸëŸéŸàŸéÿßŸÅŸêŸÑŸê ÿ≠Ÿéÿ™ŸëŸéŸâ ÿ£Ÿèÿ≠Ÿêÿ®ŸëŸéŸáŸèÿå ŸÅŸéÿ•Ÿêÿ∞Ÿéÿß ÿ£Ÿéÿ≠Ÿíÿ®Ÿéÿ®Ÿíÿ™ŸèŸáŸèÿå ŸÉŸèŸÜŸíÿ™Ÿè ÿ≥ŸéŸÖŸíÿπŸéŸáŸè ÿßŸÑŸëŸéÿ∞ŸêŸä ŸäŸéÿ≥ŸíŸÖŸéÿπŸè ÿ®ŸêŸáŸêÿå ŸàŸéÿ®ŸéÿµŸéÿ±ŸéŸáŸè ÿßŸÑŸëŸéÿ∞ŸêŸä ŸäŸèÿ®ŸíÿµŸêÿ±Ÿè ÿ®ŸêŸáŸêÿå ŸàŸéŸäŸéÿØŸéŸáŸè ÿßŸÑŸëŸéÿ™ŸêŸä ŸäŸéÿ®Ÿíÿ∑Ÿêÿ¥Ÿè ÿ®ŸêŸáŸéÿßÿå ŸàŸéÿ±Ÿêÿ¨ŸíŸÑŸéŸáŸè ÿßŸÑŸëŸéÿ™ŸêŸä ŸäŸéŸÖŸíÿ¥ŸêŸä ÿ®ŸêŸáŸéÿßÿå ŸàŸéÿ•ŸêŸÜŸí ÿ≥Ÿéÿ£ŸéŸÑŸéŸÜŸêŸä ŸÑŸéÿ£ŸèÿπŸíÿ∑ŸêŸäŸéŸÜŸëŸéŸáŸèÿå ŸàŸéŸÑŸéÿ¶ŸêŸÜŸí ÿßÿ≥Ÿíÿ™ŸéÿπŸéÿßÿ∞ŸéŸÜŸêŸä ŸÑŸéÿ£ŸèÿπŸêŸäÿ∞ŸéŸÜŸëŸéŸáŸèÿå ŸàŸéŸÖŸéÿß ÿ™Ÿéÿ±ŸéÿØŸëŸéÿØŸíÿ™Ÿè ÿπŸéŸÜŸí ÿ¥ŸéŸäŸíÿ°Ÿç ÿ£ŸéŸÜŸéÿß ŸÅŸéÿßÿπŸêŸÑŸèŸáŸè ÿ™Ÿéÿ±ŸéÿØŸëŸèÿØŸêŸä ÿπŸéŸÜŸí ŸÜŸéŸÅŸíÿ≥Ÿê ÿπŸéÿ®ŸíÿØŸêŸä ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸêÿå ŸäŸéŸÉŸíÿ±ŸéŸáŸè ÿßŸÑŸíŸÖŸéŸàŸíÿ™Ÿé ŸàŸéÿ£ŸéŸÜŸéÿß ÿ£ŸéŸÉŸíÿ±ŸéŸáŸè ŸÖŸéÿ≥Ÿéÿßÿ°Ÿéÿ™ŸéŸáŸè - ÿ±ŸàÿßŸá ÿßŸÑÿ®ÿÆÿßÿ±Ÿä',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n          ],\n        ),\n      ),\n      actions: [\n        ElevatedButton.icon(\n          onPressed: () {\n            Navigator.of(context).pop();\n          },\n          icon: const Icon(\n            Icons.favorite,\n            color: Color(0xff34C759),\n          ),\n          label: const Text(\n            'Close',\n            style: TextStyle(color: Color(0xff34C759)),\n          ),\n        ),\n      ],\n    );\n  }\n}\n\n",
      "created_at": "2024-06-05T15:00:15.734416",
      "sequence_order": 0,
      "parent_id": "5329a3a1-6277-4d62-bbe7-f307241d673f",
      "metadata": {
        "status": "finished_successfully",
        "weight": 1,
        "end_turn": null
      }
    },
    {
      "id": "bbad2fd5-30a3-4706-8bae-1a9289388dd6",
      "role": "assistant",
      "content": "Let's collaborate to resolve the errors and enhance the functionality of your Flutter application. Here are the key points to address:\n\n### Analyzing the Errors\nThe primary error message:\n```plaintext\nUnsupported operation: Infinity or NaN toInt\n```\nThis suggests a calculation is producing an `Infinity` or `NaN` value which is then being converted to an integer, particularly within the `LinearProgressIndicator`.\n\n### Potential Cause\nThe error might be occurring because the `totalPrayers` in `PrayerProgressCardMaterial` is zero, resulting in a division by zero when calculating the value for `LinearProgressIndicator`.\n\n### Fixes\n\n#### 1. Ensure Valid `totalPrayers`\nUpdate the widget to handle cases where `totalPrayers` is zero:\n```dart\nClipRRect(\n  borderRadius: BorderRadius.circular(8),\n  child: LinearProgressIndicator(\n    value: totalPrayers > 0 ? completedPrayers / totalPrayers : 0,\n    minHeight: 12,\n    backgroundColor: Colors.grey[300],\n    valueColor: AlwaysStoppedAnimation<Color>(Color(0xff34C759)),\n  ),\n),\n```\n\n### Improving the Provider and Service Structure\n\n#### 2. Improving PrayerProvider\nEnsure all imports and functions handle potential `null` values and unexpected cases:\n\n```dart\nclass PrayerProvider with ChangeNotifier {\n  final PrayerService _prayerService;\n\n  PrayerProvider(this._prayerService) {\n    _prayerService.onPrayerDataUpdated = _onPrayerDataUpdated;\n  }\n\n  void _onPrayerDataUpdated() {\n    notifyListeners();\n  }\n\n  Map<String, PrayerData> _prayerData = {};\n  Map<String, PrayerData> get prayerData => _prayerData;\n\n  int get startYear => kDefaultStartYear;\n  int get endYear => kDefaultEndYear;\n\n  bool get isDataLoaded => _prayerService.isDataLoaded;\n  List<String> get prayers => _prayerService.prayers;\n\n  Future<void> loadData() async {\n    await _prayerService.loadData();\n    _prayerData = _prayerService.prayerData;\n    notifyListeners();\n  }\n\n  Future<void> saveData(PrayerData data) async {\n    await _prayerService.savePrayerData(data);\n    _prayerData['${data.year}-${data.month}'] = data;\n    notifyListeners();\n  }\n\n  void incrementPrayer(String prayer) {\n    _prayerService.incrementPrayer(prayer);\n    notifyListeners();\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getCompletedPrayersForMonth(year, month, prayer);\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getMissedPrayersForMonth(year, month, prayer);\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    return await _prayerService.getPrayerDataForMonth(year, month);\n  }\n\n  void updatePrayerStats(int year, int month, String prayer, bool increaseCompletedCount) {\n    _prayerService.updatePrayerStats(year, month, prayer, increaseCompletedCount);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForYear(year, percentageCompleted);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForMonth(int year, int month, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForMonth(year, month, percentageCompleted);\n    notifyListeners();\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    return _prayerService.getPrayerCompletionPercentageForMonth(year, month);\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    return _prayerService.getPrayerCompletionPercentageForYear(year);\n  }\n\n  Future<Map<String, dynamic>> getAggregatedPrayerData() async {\n    return await _prayerService.getAggregatedPrayerData();\n  }\n\n  void updateStartAndEndYear(int startYear, int endYear) {\n    _prayerService.updateStartAndEndYear(startYear, endYear);\n    notifyListeners();\n  }\n}\n```\n\n#### 3. Update the Main Application File\nEnsure proper initialization of Hive service and providers:\n\n```dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'services/hive_service.dart';\nimport 'providers/prayer_provider.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/edit_details_screen.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final hiveService = HiveService();\n  await hiveService.init();\n\n  runApp(MyApp(hiveService: hiveService));\n}\n\nclass MyApp extends StatelessWidget {\n  final HiveService hiveService;\n\n  const MyApp({Key? key, required this.hiveService}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        Provider<HiveService>.value(value: hiveService),\n        ChangeNotifierProvider<PrayerProvider>(\n          create: (_) => PrayerProvider(PrayerService(hiveService)),\n        ),\n      ],\n      child: Consumer<PrayerProvider>(\n        builder: (context, prayerProvider, _) {\n          return MaterialApp(\n            title: 'Amana Audit',\n            debugShowCheckedModeBanner: false,\n            theme: ThemeData(\n              fontFamily: \"OpenSans\",\n              scaffoldBackgroundColor: Colors.grey[100],\n              primarySwatch: Colors.blue,\n            ),\n            initialRoute: '/',\n            routes: {\n              '/': (context) => const HomeScreen(),\n              '/year-selection': (context) => const YearSelectionScreen(),\n              '/edit-details': (context) => const EditDetailsScreen(),\n            },\n          );\n        },\n      ),\n    );\n  }\n}\n```\n\n### Conclusion\n\nBy making these adjustments, your application should handle zero or invalid values more gracefully and reduce the likelihood of encountering unsupported operations. Additionally, restructuring the provider and services ensures a cleaner, more maintainable codebase. If further errors arise, consider adding more specific error handling and logging to diagnose and resolve issues effectively.",
      "created_at": "2024-06-05T15:01:15.214463",
      "sequence_order": 1,
      "parent_id": "aaa2deb6-7d9c-4e45-933a-53d012488fa1",
      "metadata": {
        "status": "finished_successfully",
        "weight": 1,
        "end_turn": true
      }
    },
    {
      "id": "aaa2c08f-64e3-4cf9-805d-f2c3d454d346",
      "role": "user",
      "content": "return all files in their totality getting errors:\n\nlib/providers/prayer_provider.dart:6:9: Error: Type 'PrayerService' not found.\n  final PrayerService _prayerService;\n        ^^^^^^^^^^^^^\nlib/main.dart:42:39: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n              '/': (context) => const HomeScreen(),\n                                      ^^^^^^^^^^\nlib/main.dart:43:53: Error: Couldn't find constructor 'YearSelectionScreen'.\n              '/year-selection': (context) => const YearSelectionScreen(),\n                                                    ^^^^^^^^^^^^^^^^^^^\nlib/main.dart:44:51: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n              '/edit-details': (context) => const EditDetailsScreen(),\n                                                  ^^^^^^^^^^^^^^^^^\nlib/main.dart:27:41: Error: The method 'PrayerService' isn't defined for the class 'MyApp'.\n - 'MyApp' is from 'package:amana/main.dart' ('lib/main.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'PrayerService'.\n          create: (_) => PrayerProvider(PrayerService(hiveService)),\n                                        ^^^^^^^^^^^^^\nlib/providers/prayer_provider.dart:6:9: Error: 'PrayerService' isn't a type.\n  final PrayerService _prayerService;\n        ^^^^^^^^^^^^^\nlib/screens/home_screen.dart:33:35: Error: The getter 'totalPrayed' isn't defined for the class 'Future<PrayerData>'.\n - 'Future' is from 'dart:async'.\n - 'PrayerData' is from 'package:amana/models/prayer_data.dart' ('lib/models/prayer_data.dart').\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'totalPrayed'.\n                value: prayerData.totalPrayed /\n                                  ^^^^^^^^^^^\nlib/screens/home_screen.dart:34:33: Error: The getter 'totalPrayed' isn't defined for the class 'Future<PrayerData>'.\n - 'Future' is from 'dart:async'.\n - 'PrayerData' is from 'package:amana/models/prayer_data.dart' ('lib/models/prayer_data.dart').\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'totalPrayed'.\n                    (prayerData.totalPrayed + prayerData.totalMissed),\n                                ^^^^^^^^^^^\nlib/screens/home_screen.dart:34:58: Error: The getter 'totalMissed' isn't defined for the class 'Future<PrayerData>'.\n - 'Future' is from 'dart:async'.\n - 'PrayerData' is from 'package:amana/models/prayer_data.dart' ('lib/models/prayer_data.dart').\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'totalMissed'.\n                    (prayerData.totalPrayed + prayerData.totalMissed),\n                                                         ^^^^^^^^^^^\nlib/screens/home_screen.dart:42:38: Error: The getter 'prayersCompleted' isn't defined for the class 'Future<PrayerData>'.\n - 'Future' is from 'dart:async'.\n - 'PrayerData' is from 'package:amana/models/prayer_data.dart' ('lib/models/prayer_data.dart').\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'prayersCompleted'.\n                children: prayerData.prayersCompleted.keys.map((prayer) {\n                                     ^^^^^^^^^^^^^^^^\nlib/screens/home_screen.dart:48:47: Error: Too many positional arguments: 1 allowed, but 3 found.\nTry removing the extra positional arguments.\n                      provider.incrementPrayer(\n                                              ^\n\n# File: ./myApp.dart\n#####################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'platform_specific_widget/amana_material_app.dart';\nimport 'providers/prayer_provider.dart';\nimport 'services/prayer_service.dart';\nimport 'services/hive_service.dart';\nimport 'screens/edit_details_screen.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/year_selection_screen.dart';\n\nclass MyApp extends StatelessWidget {\n  final HiveService hiveService;\n\n  const MyApp({super.key, required this.hiveService});\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        Provider<HiveService>.value(value: hiveService),\n        ChangeNotifierProvider<PrayerProvider>(\n          create: (_) => PrayerProvider(PrayerService(hiveService)),\n        ),\n      ],\n      child: Consumer<PrayerProvider>(\n        builder: (context, prayerProvider, _) {\n          prayerProvider.loadData();\n          return AmanaMaterialApp(\n            title: 'Amana Audit',\n            debugShowCheckedModeBanner: false,\n            theme: ThemeData(\n              fontFamily: \"OpenSans\",\n              scaffoldBackgroundColor: Colors.grey[100],\n              primarySwatch: Colors.blue,\n            ),\n            initialRoute: '/',\n            routes: {\n              '/': (context) => const HomeScreen(),\n              '/year-selection': (context) => const YearSelectionScreen(),\n              '/edit-details': (context) => const EditDetailsScreen(),\n            },\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./prayer_record.dart\n#############################\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  int fajrMissed;\n\n  @HiveField(3)\n  int dhuhrMissed;\n\n  @HiveField(4)\n  int asrMissed;\n\n  @HiveField(5)\n  int maghribMissed;\n\n  @HiveField(6)\n  int ishaMissed;\n\n  // Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./main.dart\n####################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'services/hive_service.dart';\nimport 'providers/prayer_provider.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/edit_details_screen.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final hiveService = HiveService();\n  await hiveService.init();\n\n  runApp(MyApp(hiveService: hiveService));\n}\n\nclass MyApp extends StatelessWidget {\n  final HiveService hiveService;\n\n  const MyApp({Key? key, required this.hiveService}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        Provider<HiveService>.value(value: hiveService),\n        ChangeNotifierProvider<PrayerProvider>(\n          create: (_) => PrayerProvider(PrayerService(hiveService)),\n        ),\n      ],\n      child: Consumer<PrayerProvider>(\n        builder: (context, prayerProvider, _) {\n          return MaterialApp(\n            title: 'Amana Audit',\n            debugShowCheckedModeBanner: false,\n            theme: ThemeData(\n              fontFamily: \"OpenSans\",\n              scaffoldBackgroundColor: Colors.grey[100],\n              primarySwatch: Colors.blue,\n            ),\n            initialRoute: '/',\n            routes: {\n              '/': (context) => const HomeScreen(),\n              '/year-selection': (context) => const YearSelectionScreen(),\n              '/edit-details': (context) => const EditDetailsScreen(),\n            },\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./constants.dart\n#########################\n\n//constants.dart\nconst int kDefaultStartYear = 2022;\nconst int kDefaultEndYear = 2023;\nconst int kDefaultPercentageMissed = 25;\nconst int kDefaultTaqwaBuffer = 5;\n\n\n\n# File: ./prayer_record.g.dart\n###############################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./providers/prayer_provider.dart\n#########################################\n\nimport 'package:flutter/foundation.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\nclass PrayerProvider with ChangeNotifier {\n  final PrayerService _prayerService;\n\n  PrayerProvider(this._prayerService) {\n    _prayerService.onPrayerDataUpdated = _onPrayerDataUpdated;\n  }\n\n  void _onPrayerDataUpdated() {\n    notifyListeners();\n  }\n\n  Map<String, PrayerData> _prayerData = {};\n  Map<String, PrayerData> get prayerData => _prayerData;\n\n  int get startYear => kDefaultStartYear;\n  int get endYear => kDefaultEndYear;\n\n  bool get isDataLoaded => _prayerService.isDataLoaded;\n  List<String> get prayers => _prayerService.prayers;\n\n  Future<void> loadData() async {\n    await _prayerService.loadData();\n    _prayerData = _prayerService.prayerData;\n    notifyListeners();\n  }\n\n  Future<void> saveData(PrayerData data) async {\n    await _prayerService.savePrayerData(data);\n    _prayerData['${data.year}-${data.month}'] = data;\n    notifyListeners();\n  }\n\n  void incrementPrayer(String prayer) {\n    _prayerService.incrementPrayer(prayer);\n    notifyListeners();\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getCompletedPrayersForMonth(year, month, prayer);\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getMissedPrayersForMonth(year, month, prayer);\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    return await _prayerService.getPrayerDataForMonth(year, month);\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    _prayerService.updatePrayerStats(\n        year, month, prayer, increaseCompletedCount);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForYear(year, percentageCompleted);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForMonth(year, month, percentageCompleted);\n    notifyListeners();\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    return _prayerService.getPrayerCompletionPercentageForMonth(year, month);\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    return _prayerService.getPrayerCompletionPercentageForYear(year);\n  }\n\n  Future<Map<String, dynamic>> getAggregatedPrayerData() async {\n    return await _prayerService.getAggregatedPrayerData();\n  }\n\n  void updateStartAndEndYear(int startYear, int endYear) {\n    _prayerService.updateStartAndEndYear(startYear, endYear);\n    notifyListeners();\n  }\n}\n\n\n\n# File: ./models/prayer_record.dart\n####################################\n\nimport 'package:hive/hive.dart';\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n  @HiveField(1)\n  int month;\n  @HiveField(2)\n  int fajrMissed;\n  @HiveField(3)\n  int dhuhrMissed;\n  @HiveField(4)\n  int asrMissed;\n  @HiveField(5)\n  int maghribMissed;\n  @HiveField(6)\n  int ishaMissed;\n// Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./models/prayer_data.dart\n##################################\n\n// File: lib/models/prayer_data.dart\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_data.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerData {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  Map<String, int> prayersCompleted; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(3)\n  Map<String, int> prayersMissed; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(4)\n  int totalPrayed;\n\n  @HiveField(5)\n  int totalMissed;\n\n  @HiveField(6)\n  double percentagePrayed;\n\n  @HiveField(7)\n  double percentageMissed;\n\n  PrayerData({\n    required this.year,\n    required this.month,\n    required this.prayersCompleted,\n    required this.prayersMissed,\n    required this.totalPrayed,\n    required this.totalMissed,\n    required this.percentagePrayed,\n    required this.percentageMissed,\n  });\n\n  factory PrayerData.fromMap(Map<String, dynamic> map) {\n    return PrayerData(\n      year: map['year'],\n      month: map['month'],\n      prayersCompleted: Map<String, int>.from(map['prayersCompleted']),\n      prayersMissed: Map<String, int>.from(map['prayersMissed']),\n      totalPrayed: map['totalPrayed'],\n      totalMissed: map['totalMissed'],\n      percentagePrayed: map['percentagePrayed'],\n      percentageMissed: map['percentageMissed'],\n    );\n  }\n\n  Map<String, dynamic> toMap() {\n    return {\n      'year': year,\n      'month': month,\n      'prayersCompleted': prayersCompleted,\n      'prayersMissed': prayersMissed,\n      'totalPrayed': totalPrayed,\n      'totalMissed': totalMissed,\n      'percentagePrayed': percentagePrayed,\n      'percentageMissed': percentageMissed,\n    };\n  }\n}\n\n\n\n# File: ./models/prayer_data.g.dart\n####################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_data.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerDataAdapter extends TypeAdapter<PrayerData> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerData read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerData(\n      year: fields[0] as int,\n      month: fields[1] as int,\n      prayersCompleted: (fields[2] as Map).cast<String, int>(),\n      prayersMissed: (fields[3] as Map).cast<String, int>(),\n      totalPrayed: fields[4] as int,\n      totalMissed: fields[5] as int,\n      percentagePrayed: fields[6] as double,\n      percentageMissed: fields[7] as double,\n    );\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerData obj) {\n    writer\n      ..writeByte(8)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.prayersCompleted)\n      ..writeByte(3)\n      ..write(obj.prayersMissed)\n      ..writeByte(4)\n      ..write(obj.totalPrayed)\n      ..writeByte(5)\n      ..write(obj.totalMissed)\n      ..writeByte(6)\n      ..write(obj.percentagePrayed)\n      ..writeByte(7)\n      ..write(obj.percentageMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerDataAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./models/prayer_record.g.dart\n######################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./screens/settings_screen.dart\n#######################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_scaffold.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\n\nclass SettingsScreen extends StatefulWidget {\n  @override\n  _SettingsScreenState createState() => _SettingsScreenState();\n}\n\nclass _SettingsScreenState extends State<SettingsScreen> {\n  late TextEditingController _birthYearController;\n\n  @override\n  void initState() {\n    super.initState();\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    _birthYearController =\n        TextEditingController(text: prayerProvider.birthYear.toString());\n  }\n\n  @override\n  void dispose() {\n    _birthYearController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaScaffold(\n      title: 'Settings',\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            AmanaInputField(\n              keyboardType: TextInputType.number,\n              controller: _birthYearController,\n              onChange: (val) {\n                setState(() {\n                  _birthYearController.text = val;\n                });\n              },\n              sufixIcon: Icons.date_range,\n              label: \"Birth Year\",\n            ),\n            SizedBox(height: 16),\n            ElevatedButton(\n              onPressed: () {\n                int birthYear = int.parse(_birthYearController.text);\n                Provider.of<PrayerProvider>(context, listen: false)\n                    .saveBirthYear(birthYear);\n                Navigator.pop(context);\n              },\n              child: Text('Save'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_material.dart\n#####################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardMaterial extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n  final VoidCallback onPrayPressed;\n\n  const PrayerProgressCardMaterial({\n    required this.prayer,\n    required this.year,\n    required this.month,\n    required this.onPrayPressed,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    final completedPrayers =\n        prayerProvider.getCompletedPrayersForMonth(year, month, prayer);\n    final missedPrayers =\n        prayerProvider.getMissedPrayersForMonth(year, month, prayer);\n    final totalPrayers = completedPrayers + missedPrayers;\n\n    return Card(\n      child: Padding(\n        padding: const EdgeInsets.all(14.0),\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n          children: [\n            Text(prayer,\n                style: TextStyle(fontWeight: FontWeight.bold, fontSize: 16)),\n            ClipRRect(\n              borderRadius: BorderRadius.circular(8),\n              child: LinearProgressIndicator(\n                value: totalPrayers > 0 ? completedPrayers / totalPrayers : 0,\n                minHeight: 12,\n                backgroundColor: Colors.grey[300],\n                valueColor: AlwaysStoppedAnimation<Color>(Color(0xff34C759)),\n              ),\n            ),\n            Text(\n                '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                style: TextStyle(fontSize: 14)),\n            Text('$completedPrayers / $totalPrayers',\n                style: TextStyle(fontSize: 12)),\n            ElevatedButton(\n              onPressed: onPrayPressed,\n              child: Text('Pray'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_details_screen.dart\n#############################################\n\nimport 'package:flutter/material.dart';\nimport '../services/hive_service.dart';\nimport '../models/prayer_record.dart';\n\nclass PrayerDetailsScreen extends StatelessWidget {\n  final String prayer;\n  final HiveService _hiveService = HiveService();\n\n  PrayerDetailsScreen({required this.prayer});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('$prayer Details'),\n      ),\n      body: ValueListenableBuilder(\n        valueListenable: _hiveService.prayerBox.listenable(),\n        builder: (context, Box<PrayerRecord> box, _) {\n          final records = _hiveService.getPrayerRecords();\n          // Implement logic to find and increment the oldest missed prayer\n\n          return Column(\n            children: [\n              // Display and update prayer details here\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/edit_details_screen.dart\n###########################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport '../constants.dart';\n\nclass EditDetailsScreen extends StatefulWidget {\n  @override\n  _EditDetailsScreenState createState() => _EditDetailsScreenState();\n}\n\nclass _EditDetailsScreenState extends State<EditDetailsScreen> {\n  int? _selectedYear;\n  int? _selectedMonth;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Edit Details'),\n      ),\n      body: Consumer<PrayerProvider>(\n        builder: (context, provider, _) {\n          final years = List.generate(kDefaultEndYear - kDefaultStartYear + 1,\n              (index) => kDefaultStartYear + index);\n          final months = List.generate(12, (index) => index + 1);\n\n          return ListView(\n            padding: EdgeInsets.all(16.0),\n            children: [\n              // Year dropdown\n              DropdownButtonFormField<int>(\n                value: _selectedYear,\n                items: years.map((year) {\n                  return DropdownMenuItem(\n                    value: year,\n                    child: Text(year.toString()),\n                  );\n                }).toList(),\n                onChanged: (value) {\n                  setState(() {\n                    _selectedYear = value;\n                    _selectedMonth = null;\n                  });\n                },\n                decoration: InputDecoration(\n                  labelText: 'Select Year',\n                ),\n              ),\n              SizedBox(height: 16.0),\n\n              // Month dropdown\n              if (_selectedYear != null)\n                DropdownButtonFormField<int>(\n                  value: _selectedMonth,\n                  items: months.map((month) {\n                    return DropdownMenuItem(\n                      value: month,\n                      child: Text(month.toString()),\n                    );\n                  }).toList(),\n                  onChanged: (value) {\n                    setState(() {\n                      _selectedMonth = value;\n                    });\n                  },\n                  decoration: InputDecoration(\n                    labelText: 'Select Month',\n                  ),\n                ),\n              SizedBox(height: 16.0),\n\n              // Prayer data form fields\n              if (_selectedYear != null && _selectedMonth != null)\n                // Display form fields for editing prayer data\n                Container(),\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/year_selection_screen.dart\n#############################################\n\nimport 'dart:io';\nimport '../constants.dart';\nimport '../widgets/hadith_modal.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_button.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\nimport 'home_screen.dart';\nimport '../models/prayer_data.dart';\n\nclass YearSelectionScreen extends StatefulWidget {\n  const YearSelectionScreen({super.key});\n\n  @override\n  State<YearSelectionScreen> createState() => _YearSelectionScreenState();\n}\n\nclass _YearSelectionScreenState extends State<YearSelectionScreen> {\n  late TextEditingController _startYearController;\n  late TextEditingController _startMonthController;\n  late TextEditingController _endYearController;\n  late TextEditingController _endMonthController;\n  double _averageMissedPrayers = 25;\n\n  @override\n  void initState() {\n    super.initState();\n    final provider = Provider.of<PrayerProvider>(context, listen: false);\n    _startYearController =\n        TextEditingController(text: provider.startYear.toString());\n    _startMonthController = TextEditingController(text: '1');\n    _endYearController =\n        TextEditingController(text: provider.endYear.toString());\n    _endMonthController =\n        TextEditingController(text: DateTime.now().month.toString());\n  }\n\n  @override\n  void dispose() {\n    _startYearController.dispose();\n    _startMonthController.dispose();\n    _endYearController.dispose();\n    _endMonthController.dispose();\n    super.dispose();\n  }\n\n  void _showHadithModal(BuildContext context) {\n    Platform.isIOS\n        ? showCupertinoDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          )\n        : showDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          );\n  }\n\n  void _saveData() {\n    int startYear =\n        int.tryParse(_startYearController.text) ?? kDefaultStartYear;\n    int startMonth = int.tryParse(_startMonthController.text) ?? 1;\n    int endYear = int.tryParse(_endYearController.text) ?? kDefaultEndYear;\n    int endMonth =\n        int.tryParse(_endMonthController.text) ?? DateTime.now().month;\n\n    Map<int, int> percentageMissedByYear = {};\n    for (int year = startYear; year <= endYear; year++) {\n      percentageMissedByYear[year] = _averageMissedPrayers.round();\n    }\n\n    var provider = Provider.of<PrayerProvider>(context, listen: false);\n    provider.saveData(PrayerData(\n      // Fix: Pass a PrayerData object\n      year: startYear,\n      month: startMonth,\n      prayersCompleted: {},\n      prayersMissed: {},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    ));\n    Navigator.pushAndRemoveUntil(\n        context,\n        MaterialPageRoute(builder: (context) => HomeScreen()),\n        (route) => false);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Amana Audit'),\n      ),\n      body: SingleChildScrollView(\n        padding: REdgeInsets.only(top: 24, left: 18, right: 18),\n        child: Column(\n          crossAxisAlignment:\n              kIsWeb ? CrossAxisAlignment.center : CrossAxisAlignment.stretch,\n          children: [\n            SizedBox(height: 24.h),\n            Text(\n              'üïå It\\'s time to catch up on our prayers.',\n              style: TextStyle(\n                fontSize: 20,\n                fontWeight: FontWeight.bold,\n                color: Colors.black,\n              ),\n            ),\n            Text(\n              'üìÖ Select the range of years for which you want to track your missed prayers.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 24.h),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _startMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _startYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Year\",\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _endMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _endYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Year\",\n                  ),\n                ),\n              ],\n            ),\n            SizedBox(height: 24.h),\n            Text(\n              'üïã Set the average percentage of prayers you estimate you missed for the selected years.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            Slider(\n              value: _averageMissedPrayers,\n              min: 0,\n              max: 100,\n              divisions: 20,\n              label: '${_averageMissedPrayers.round()}%',\n              onChanged: (double value) {\n                setState(() {\n                  _averageMissedPrayers = value;\n                });\n              },\n            ),\n            Text(\n              '${_averageMissedPrayers.round()}% of prayers missed',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            AmanaButton(\n              onPress: _saveData,\n              label: \"Save\",\n              isAppLevel: true,\n            ),\n            SizedBox(height: 10),\n            GestureDetector(\n              onTap: () => _showHadithModal(context),\n              child: const Text(\n                'üìñ \"* My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have prescribed upon him...\" Hadith Qudsi 25:40 -Bukhari \\n{Click to read}',\n                style: TextStyle(fontSize: 14.0, color: Colors.blue),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_cupertino.dart\n######################################################\n\n// File: screens/prayer_progress_card_cupertino.dart\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardCupertino extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n\n  const PrayerProgressCardCupertino({\n    required this.prayer,\n    required this.year,\n    required this.month,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    return FutureBuilder<int>(\n      future: Future.value(\n          prayerProvider.getCompletedPrayersForMonth(year, month, prayer)),\n      builder: (context, completedSnapshot) {\n        return FutureBuilder<int>(\n          future: Future.value(\n              prayerProvider.getMissedPrayersForMonth(year, month, prayer)),\n          builder: (context, missedSnapshot) {\n            if (completedSnapshot.connectionState == ConnectionState.waiting ||\n                missedSnapshot.connectionState == ConnectionState.waiting) {\n              return CupertinoActivityIndicator();\n            }\n            final completedPrayers = completedSnapshot.data ?? 0;\n            final missedPrayers = missedSnapshot.data ?? 0;\n            final totalPrayers = completedPrayers + missedPrayers;\n\n            return Container(\n              margin: EdgeInsets.all(8.0),\n              padding: EdgeInsets.all(14.0),\n              decoration: BoxDecoration(\n                color: CupertinoColors.white,\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: CupertinoColors.systemGrey.withOpacity(0.4),\n                    spreadRadius: 1,\n                    blurRadius: 3,\n                    offset: Offset(0, 2),\n                  ),\n                ],\n              ),\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(prayer,\n                      style:\n                          TextStyle(fontWeight: FontWeight.bold, fontSize: 16)),\n                  SizedBox(height: 8),\n                  ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: totalPrayers > 0\n                          ? completedPrayers / totalPrayers\n                          : 0,\n                      minHeight: 12,\n                      backgroundColor: CupertinoColors.systemGrey4,\n                      valueColor: AlwaysStoppedAnimation<Color>(\n                          CupertinoColors.activeGreen),\n                    ),\n                  ),\n                  SizedBox(height: 8),\n                  Text(\n                      '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                      style: TextStyle(fontSize: 14)),\n                  Text('$completedPrayers / $totalPrayers',\n                      style: TextStyle(fontSize: 12)),\n                  SizedBox(height: 8),\n                  CupertinoButton.filled(\n                    onPressed: () => prayerProvider.incrementPrayer(prayer),\n                    child: Text('Pray'),\n                  ),\n                ],\n              ),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n\n\n\n# File: ./screens/home_screen.dart\n###################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport 'prayer_progress_card_material.dart';\n\nclass HomeScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Prayer Tracker'),\n        actions: [\n          IconButton(\n            icon: Icon(Icons.edit),\n            onPressed: () {\n              Navigator.pushNamed(context, '/edit-details');\n            },\n          ),\n        ],\n      ),\n      body: Consumer<PrayerProvider>(\n        builder: (context, provider, _) {\n          final currentYear = DateTime.now().year;\n          final currentMonth = DateTime.now().month;\n          final prayerData =\n              provider.getPrayerDataForMonth(currentYear, currentMonth);\n\n          return ListView(\n            padding: EdgeInsets.all(16.0),\n            children: [\n              // Display total progress\n              LinearProgressIndicator(\n                value: prayerData.totalPrayed /\n                    (prayerData.totalPrayed + prayerData.totalMissed),\n              ),\n              SizedBox(height: 16.0),\n\n              // Display individual prayer cards\n              GridView.count(\n                crossAxisCount: 2,\n                shrinkWrap: true,\n                children: prayerData.prayersCompleted.keys.map((prayer) {\n                  return PrayerProgressCardMaterial(\n                    prayer: prayer,\n                    year: currentYear,\n                    month: currentMonth,\n                    onPrayPressed: () {\n                      provider.incrementPrayer(\n                          currentYear, currentMonth, prayer);\n                    },\n                  );\n                }).toList(),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_button.dart\n#####################################################\n\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaButton extends StatelessWidget {\n  const AmanaButton(\n      {super.key,\n      required this.onPress,\n      required this.label,\n      required this.isAppLevel});\n\n  final VoidCallback onPress;\n  final String label;\n  final bool isAppLevel;\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTap: onPress,\n      child: kIsWeb && isAppLevel\n          ? Container(\n              width: 200,\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            )\n          : Container(\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            ),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_snackbar.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nvoid AmanaSnackBar({required BuildContext context, required Text content}) {\n  if (Theme.of(context).platform == TargetPlatform.iOS) {\n    showCupertinoModalPopup(\n      context: context,\n      builder: (BuildContext context) => CupertinoActionSheet(\n        title: content,\n        cancelButton: CupertinoActionSheetAction(\n          child: const Text('Dismiss'),\n          onPressed: () {\n            Navigator.pop(context);\n          },\n        ),\n      ),\n    );\n  } else {\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(content: Text('Changes saved for the selected year.')),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_alert_dialog.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\n\nclass AmanaAlertDialog extends StatelessWidget {\n  final Widget title;\n  final Widget content;\n  final List<Widget> actions;\n\n  const AmanaAlertDialog(\n      {super.key,\n      required this.title,\n      required this.content,\n      required this.actions});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoAlertDialog(title: title, content: content, actions: actions)\n        : AlertDialog(\n            title: title,\n            content: content,\n            actions: actions,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_drop_down.dart\n########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final int? value;\n  final String labelText;\n  final void Function(int?)? onChanged;\n\n  const AmanaDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(\n                (value == null || value == 0 ? labelText : value.toString())),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as int);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<int>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<int>(\n                      value: e[\"value\"] as int,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Year\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_material_app.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaMaterialApp extends StatelessWidget {\n  final String title;\n  final ThemeData theme;\n  final String initialRoute;\n  final Map<String, WidgetBuilder> routes;\n  final bool debugShowCheckedModeBanner;\n\n  const AmanaMaterialApp(\n      {super.key,\n      required this.title,\n      required this.theme,\n      required this.initialRoute,\n      required this.routes,\n      required this.debugShowCheckedModeBanner});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: Size(430, 930),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (context, _) {\n        return Theme.of(context).platform == TargetPlatform.iOS\n            ? CupertinoApp(\n                title: title,\n                theme: CupertinoThemeData(\n                    scaffoldBackgroundColor: Colors.grey[100],\n                    textTheme: CupertinoTextThemeData(\n                        textStyle: TextStyle(\n                      fontFamily: \"OpenSans\",\n                    )),\n                    primaryColor: theme.primaryColor),\n                initialRoute: initialRoute,\n                // home: HomeScreen(),\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              )\n            : MaterialApp(\n                title: title,\n                theme: theme,\n                initialRoute: initialRoute,\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              );\n      },\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_month_drop_down.dart\n##############################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaMonthDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final String value;\n  final String labelText;\n  final void Function(String?)? onChanged;\n\n  const AmanaMonthDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(value == \"\" ? labelText : value),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as String);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<String>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<String>(\n                      value: e[\"value\"] as String,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Month\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_scaffold.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaScaffold extends StatelessWidget {\n  final String title;\n  final Widget body;\n\n  const AmanaScaffold({super.key, required this.title, required this.body});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoPageScaffold(\n            navigationBar: CupertinoNavigationBar(\n              middle: Text(title),\n            ),\n            child: SafeArea(child: body),\n          )\n        : Scaffold(\n            appBar: AppBar(\n              toolbarHeight: 80.h,\n              centerTitle: true,\n              title: Text(title),\n            ),\n            body: body,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_input_field.dart\n##########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaInputField extends StatefulWidget {\n  const AmanaInputField(\n      {super.key,\n      required this.onChange,\n      required this.sufixIcon,\n      this.hintText = \"\",\n      this.isPassword = false,\n      required this.keyboardType,\n      required this.controller,\n      required this.label});\n\n  final Function(String value) onChange;\n  final IconData sufixIcon;\n  final String hintText;\n  final bool isPassword;\n  final String label;\n  final TextEditingController? controller;\n  final TextInputType keyboardType;\n\n  @override\n  State<AmanaInputField> createState() => _AmanaInputFieldState();\n}\n\nclass _AmanaInputFieldState extends State<AmanaInputField> {\n  bool showPassword = false;\n\n  @override\n  Widget build(BuildContext context) {\n    if (Theme.of(context).platform == TargetPlatform.iOS) {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: CupertinoTextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            placeholder: widget.hintText,\n            prefix: Padding(\n              padding: EdgeInsets.all(8.0),\n              child: Icon(\n                widget.sufixIcon,\n                color: Colors.grey,\n                size: 20,\n              ),\n            ),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    } else {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: TextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                suffixIcon: Icon(\n                  widget.sufixIcon,\n                  color: Colors.grey,\n                  size: 20,\n                ),\n                labelText: widget.label,\n                labelStyle: const TextStyle(color: Colors.grey)),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/flutter_build/dart_plugin_registrant.dart\n###############################################################\n\n//\n// Generated file. Do not edit.\n// This file is generated from template in file `flutter_tools/lib/src/flutter_plugins.dart`.\n//\n\n// @dart = 3.3\n\nimport 'dart:io'; // flutter_ignore: dart_io_import.\nimport 'package:path_provider_android/path_provider_android.dart';\nimport 'package:shared_preferences_android/shared_preferences_android.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_linux/path_provider_linux.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_linux/shared_preferences_linux.dart';\nimport 'package:url_launcher_linux/url_launcher_linux.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_windows/path_provider_windows.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_windows/shared_preferences_windows.dart';\nimport 'package:url_launcher_windows/url_launcher_windows.dart';\n\n@pragma('vm:entry-point')\nclass _PluginRegistrant {\n\n  @pragma('vm:entry-point')\n  static void register() {\n    if (Platform.isAndroid) {\n      try {\n        PathProviderAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isIOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isLinux) {\n      try {\n        PathProviderLinux.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusLinuxPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesLinux.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherLinux.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isMacOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isWindows) {\n      try {\n        PathProviderWindows.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusWindowsPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesWindows.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherWindows.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/dartpad/web_plugin_registrant.dart\n########################################################\n\n// Flutter web plugin registrant file.\n//\n// Generated file. Do not edit.\n//\n\n// @dart = 2.13\n// ignore_for_file: type=lint\n\nimport 'package:share_plus/src/share_plus_web.dart';\nimport 'package:shared_preferences_web/shared_preferences_web.dart';\nimport 'package:url_launcher_web/url_launcher_web.dart';\nimport 'package:flutter_web_plugins/flutter_web_plugins.dart';\n\nvoid registerPlugins([final Registrar? pluginRegistrar]) {\n  final Registrar registrar = pluginRegistrar ?? webPluginRegistrar;\n  SharePlusWebPlugin.registerWith(registrar);\n  SharedPreferencesPlugin.registerWith(registrar);\n  UrlLauncherPlugin.registerWith(registrar);\n  registrar.registerMessageHandler();\n}\n\n\n\n# File: ./.dart_tool/build/entrypoint/build.dart\n#################################################\n\n// ignore_for_file: directives_ordering\n// ignore_for_file: no_leading_underscores_for_library_prefixes\nimport 'package:build_runner_core/build_runner_core.dart' as _i1;\nimport 'package:hive_generator/hive_generator.dart' as _i2;\nimport 'package:source_gen/builder.dart' as _i3;\nimport 'dart:isolate' as _i4;\nimport 'package:build_runner/build_runner.dart' as _i5;\nimport 'dart:io' as _i6;\n\nfinal _builders = <_i1.BuilderApplication>[\n  _i1.apply(\n    r'hive_generator:hive_generator',\n    [_i2.getBuilder],\n    _i1.toDependentsOf(r'hive_generator'),\n    hideOutput: true,\n    appliesBuilders: const [r'source_gen:combining_builder'],\n  ),\n  _i1.apply(\n    r'source_gen:combining_builder',\n    [_i3.combiningBuilder],\n    _i1.toNoneByDefault(),\n    hideOutput: false,\n    appliesBuilders: const [r'source_gen:part_cleanup'],\n  ),\n  _i1.applyPostProcess(\n    r'source_gen:part_cleanup',\n    _i3.partCleanup,\n  ),\n];\nvoid main(\n  List<String> args, [\n  _i4.SendPort? sendPort,\n]) async {\n  var result = await _i5.run(\n    args,\n    _builders,\n  );\n  sendPort?.send(result);\n  _i6.exitCode = result;\n}\n\n\n\n# File: ./services/hive_service.dart\n#####################################\n\n// File: hive_service.dart\n\nimport 'package:hive_flutter/hive_flutter.dart';\n\nclass HiveService {\n  late Box box;\n\n  Future<void> init() async {\n    await Hive.initFlutter();\n    await Hive.deleteBoxFromDisk('prayerBox'); // Clear the existing box\n    box = await Hive.openBox('prayerBox');\n  }\n\n  Future<void> saveData(String key, dynamic value) async {\n    await box.put(key, value);\n  }\n\n  dynamic loadData(String key) {\n    return box.get(key);\n  }\n\n  Future<void> clearData() async {\n    await box.clear();\n  }\n}\n\n\n\n# File: ./services/prayer_service.dart\n#######################################\n\nimport 'hive_service.dart';\nimport 'package:share_plus/share_plus.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\ntypedef PrayerDataUpdateCallback = void Function();\n\nclass PrayerService {\n  final HiveService _hiveService;\n  bool isDataLoaded = false;\n  final List<String> prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];\n  Map<String, PrayerData> prayerData = {};\n  PrayerDataUpdateCallback? onPrayerDataUpdated;\n\n  PrayerService(this._hiveService);\n\n  Future<void> loadData() async {\n    var loadedData = await _hiveService.loadData('prayerData');\n    ;\n\n    if (loadedData != null && loadedData is Map<String, Map<String, dynamic>>) {\n      prayerData = Map<String, PrayerData>.from(\n        loadedData\n            .map((key, value) => MapEntry(key, PrayerData.fromMap(value))),\n      );\n    }\n\n    if (prayerData.isEmpty) {\n      for (int year = kDefaultStartYear; year <= kDefaultEndYear; year++) {\n        for (int month = 1; month <= 12; month++) {\n          prayerData['$year-$month'] = _calculatePrayerData(\n              year, month, 100 - kDefaultPercentageMissed.toDouble());\n        }\n      }\n      await savePrayerData(prayerData.values.first);\n    }\n\n    isDataLoaded = true;\n    print('Loaded data from Hive: $prayerData');\n  }\n\n  Future<void> savePrayerData(PrayerData data) async {\n    prayerData['${data.year}-${data.month}'] = data;\n    await _hiveService.saveData('prayerData', prayerData);\n\n    Map<String, Map<String, dynamic>> unpacked = {};\n    prayerData.forEach((key, value) {\n      unpacked[key] = {\n        'year': value.year,\n        'month': value.month,\n        'prayersCompleted': value.prayersCompleted,\n        'prayersMissed': value.prayersMissed,\n        'totalPrayed': value.totalPrayed,\n        'totalMissed': value.totalMissed,\n        'percentagePrayed': value.percentagePrayed,\n        'percentageMissed': value.percentageMissed,\n      };\n    });\n    print('Updated data: $unpacked');\n    print('Saved data to Hive: $prayerData');\n\n    onPrayerDataUpdated?.call();\n  }\n\n  void incrementPrayer(String prayer) {\n    String? earliestKey;\n    int earliestYear = 9999;\n    int earliestMonth = 12;\n\n    prayerData.forEach((key, data) {\n      if (data.prayersMissed[prayer]! > 0 &&\n          (data.year < earliestYear ||\n              (data.year == earliestYear && data.month < earliestMonth))) {\n        earliestKey = key;\n        earliestYear = data.year;\n        earliestMonth = data.month;\n      }\n    });\n\n    if (earliestKey != null) {\n      final data = prayerData[earliestKey]!;\n      data.prayersMissed[prayer] = data.prayersMissed[prayer]! - 1;\n      data.prayersCompleted[prayer] = data.prayersCompleted[prayer]! + 1;\n      data.totalPrayed++;\n      data.totalMissed--;\n      savePrayerData(data);\n    }\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersCompleted[prayer] ?? 0;\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersMissed[prayer] ?? 0;\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    final key = '$year-$month';\n    var data = prayerData[key];\n    if (data == null) {\n      data = PrayerData(\n        year: year,\n        month: month,\n        prayersCompleted: {for (var prayer in prayers) prayer: 0},\n        prayersMissed: {for (var prayer in prayers) prayer: 0},\n        totalPrayed: 0,\n        totalMissed: 0,\n        percentagePrayed: 0,\n        percentageMissed: 0,\n      );\n      await savePrayerData(data);\n    }\n    return data;\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      if (increaseCompletedCount) {\n        data.prayersCompleted[prayer] =\n            (data.prayersCompleted[prayer] ?? 0) + 1;\n      } else {\n        data.prayersMissed[prayer] = (data.prayersMissed[prayer] ?? 0) + 1;\n      }\n      data.totalPrayed = data.prayersCompleted.values.reduce((a, b) => a + b);\n      data.totalMissed = data.prayersMissed.values.reduce((a, b) => a + b);\n      data.percentagePrayed =\n          (data.totalPrayed / (data.totalPrayed + data.totalMissed)) * 100;\n      data.percentageMissed =\n          (data.totalMissed / (data.totalPrayed + data.totalMissed)) * 100;\n      savePrayerData(data);\n    }\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      final totalPrayers = data.totalPrayed + data.totalMissed;\n      return totalPrayers > 0 ? (data.totalPrayed / totalPrayers) * 100 : 0;\n    }\n    return 0;\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    double totalPercentage = 0;\n    int monthCount = 0;\n    for (int month = 1; month <= 12; month++) {\n      final key = '$year-$month';\n      final data = prayerData[key];\n      if (data != null) {\n        final totalPrayers = data.totalPrayed + data.totalMissed;\n        if (totalPrayers > 0) {\n          totalPercentage += (data.totalPrayed / totalPrayers) * 100;\n          monthCount++;\n        }\n      }\n    }\n    return monthCount > 0 ? totalPercentage / monthCount : 0;\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n\n    for (int month = 1;\n        month <= (year == currentYear ? currentMonth - 1 : 12);\n        month++) {\n      updatePrayerStatsForMonth(year, month, percentageCompleted);\n    }\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    final key = '$year-$month';\n    final data = _calculatePrayerData(year, month, percentageCompleted);\n    prayerData[key] = data;\n    savePrayerData(data);\n  }\n\n  void updateStartAndEndYear(int startYear, int endYear) {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n\n    for (int year = startYear; year <= endYear; year++) {\n      final endMonth = year == currentYear ? currentMonth : 12;\n      for (int month = 1; month <= endMonth; month++) {\n        final key = '$year-$month';\n        if (!prayerData.containsKey(key)) {\n          prayerData[key] = _calculatePrayerData(\n              year, month, 100 - kDefaultPercentageMissed.toDouble());\n        }\n      }\n    }\n    savePrayerData(prayerData.values.first);\n  }\n\n  Future<Map<String, dynamic>> getAggregatedPrayerData() async {\n    int totalPrayed = 0;\n    int totalPossible = 0;\n\n    for (final data in prayerData.values) {\n      totalPrayed += data.totalPrayed;\n      totalPossible += data.totalPrayed + data.totalMissed;\n    }\n\n    return {\n      'totalPrayed': totalPrayed,\n      'totalPossible': totalPossible,\n    };\n  }\n\n  void _setDefaultPrayerData() {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n    prayerData['$currentYear-$currentMonth'] = PrayerData(\n      year: currentYear,\n      month: currentMonth,\n      prayersCompleted: {for (var prayer in prayers) prayer: 0},\n      prayersMissed: {for (var prayer in prayers) prayer: 0},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    );\n  }\n\n  Future<bool> resetApplication() async {\n    prayerData = {};\n    _setDefaultPrayerData();\n    await _hiveService.clearData();\n    return true;\n  }\n\n  PrayerData _calculatePrayerData(\n      int year, int month, double percentageCompleted) {\n    final totalDays = DateTime(year, month + 1, 0).day;\n    final totalPrayers = totalDays * prayers.length;\n    final completedPrayers = (totalPrayers * percentageCompleted / 100).round();\n    final missedPrayers = totalPrayers - completedPrayers;\n\n    final prayersCompleted = {\n      for (var prayer in prayers)\n        prayer: (totalDays * percentageCompleted / 100).round()\n    };\n    final prayersMissed = {\n      for (var prayer in prayers) prayer: totalDays - prayersCompleted[prayer]!\n    };\n\n    return PrayerData(\n      year: year,\n      month: month,\n      prayersCompleted: prayersCompleted,\n      prayersMissed: prayersMissed,\n      totalPrayed: completedPrayers,\n      totalMissed: missedPrayers,\n      percentagePrayed: percentageCompleted,\n      percentageMissed: 100 - percentageCompleted,\n    );\n  }\n\n  void sharePrayerData() {\n    String shareText = 'My Prayer Progress:\\n\\n';\n    // Implement logic to generate the share text\n    Share.share(shareText);\n  }\n}\n\n\n\n# File: ./widgets/progress_bar.dart\n####################################\n\nimport 'package:flutter/material.dart';\n\nclass ProgressBar extends StatelessWidget {\n  final double value;\n\n  ProgressBar({required this.value});\n\n  @override\n  Widget build(BuildContext context) {\n    return LinearProgressIndicator(value: value);\n  }\n}\n\n\n\n# File: ./widgets/hadith_modal.dart\n####################################\n\n// hadith_modal.dart\nimport '../platform_specific_widget/amana_alert_dialog.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass HadithModal extends StatelessWidget {\n  const HadithModal({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaAlertDialog(\n      title: Text(\n        'Hadith Qudsi 25:40',\n        style: TextStyle(color: Colors.black),\n      ),\n      content: SingleChildScrollView(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Text(\n              'On the authority of Abu Hurayrah (may Allah be pleased with him), who said that the Messenger of Allah (Ô∑∫) said:\\n\\n'\n              'Allah (mighty and sublime be He) said: Whosoever shows enmity to someone devoted to Me, I shall be at war with him. My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have perscribed upon him, and My servant continues to draw near to Me with voluntary acts of worship so that I shall love him. When I love him I am his hearing with which he hears, his seeing with which he sees, his hand with which he strikes and his foot with which he walks. Were he to ask [something] of Me, I would surely give it to him, and were he to ask Me for refuge, I would surely grant him it. I do not hesitate about anything as much as I hesitate about [seizing] the soul of My faithful servant: he hates death and I hate hurting him.',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n            Text(\n              'ÿπŸéŸÜŸí ÿ£Ÿéÿ®ŸêŸä ŸáŸèÿ±ŸéŸäŸíÿ±Ÿéÿ©Ÿé ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸëŸéŸáŸè ÿπŸéŸÜŸíŸáŸè ŸÇŸéÿßŸÑŸé: ŸÇŸéÿßŸÑŸé ÿ±Ÿéÿ≥ŸèŸàŸÑŸè ÿßŸÑŸÑŸëŸéŸáŸê ÿµŸéŸÑŸëŸéŸâ ÿßŸÑŸÑŸëŸéŸáŸè ÿπŸéŸÑŸéŸäŸíŸáŸê ŸàŸéÿ≥ŸéŸÑŸëŸéŸÖŸé: \" ÿ•ŸêŸÜŸëŸé ÿßŸÑŸÑŸëŸéŸáŸé ÿπŸéÿ≤ŸëŸé ŸàŸéÿ¨ŸéŸÑŸëŸé ŸÇŸéÿßŸÑŸé: ŸÖŸéŸÜŸí ÿπŸéÿßÿØŸéŸâ ŸÑŸêŸä ŸàŸéŸÑŸêŸäŸëŸãÿßÿå ŸÅŸéŸÇŸéÿØŸí ÿ¢ÿ∞ŸéŸÜŸíÿ™ŸèŸáŸè ÿ®ŸêÿßŸÑŸíÿ≠Ÿéÿ±Ÿíÿ®Ÿêÿå ŸàŸéŸÖŸéÿß ÿ™ŸéŸÇŸéÿ±ŸëŸéÿ®Ÿé ÿ•ŸêŸÑŸéŸäŸëŸé ÿπŸéÿ®ŸíÿØŸêŸä ÿ®Ÿêÿ¥ŸéŸäŸíÿ°Ÿç ÿ£Ÿéÿ≠Ÿéÿ®ŸëŸé ÿ•ŸêŸÑŸéŸäŸëŸé ŸÖŸêŸÖŸëŸéÿß ÿßŸÅŸíÿ™Ÿéÿ±Ÿéÿ∂Ÿíÿ™Ÿè ÿπŸéŸÑŸéŸäŸíŸáŸêÿå ŸàŸéŸÖŸéÿß ŸäŸéÿ≤ŸéÿßŸÑŸè ÿπŸéÿ®ŸíÿØŸêŸä ŸäŸéÿ™ŸéŸÇŸéÿ±ŸëŸéÿ®Ÿè ÿ•ŸêŸÑŸéŸäŸëŸé ÿ®ŸêÿßŸÑŸÜŸëŸéŸàŸéÿßŸÅŸêŸÑŸê ÿ≠Ÿéÿ™ŸëŸéŸâ ÿ£Ÿèÿ≠Ÿêÿ®ŸëŸéŸáŸèÿå ŸÅŸéÿ•Ÿêÿ∞Ÿéÿß ÿ£Ÿéÿ≠Ÿíÿ®Ÿéÿ®Ÿíÿ™ŸèŸáŸèÿå ŸÉŸèŸÜŸíÿ™Ÿè ÿ≥ŸéŸÖŸíÿπŸéŸáŸè ÿßŸÑŸëŸéÿ∞ŸêŸä ŸäŸéÿ≥ŸíŸÖŸéÿπŸè ÿ®ŸêŸáŸêÿå ŸàŸéÿ®ŸéÿµŸéÿ±ŸéŸáŸè ÿßŸÑŸëŸéÿ∞ŸêŸä ŸäŸèÿ®ŸíÿµŸêÿ±Ÿè ÿ®ŸêŸáŸêÿå ŸàŸéŸäŸéÿØŸéŸáŸè ÿßŸÑŸëŸéÿ™ŸêŸä ŸäŸéÿ®Ÿíÿ∑Ÿêÿ¥Ÿè ÿ®ŸêŸáŸéÿßÿå ŸàŸéÿ±Ÿêÿ¨ŸíŸÑŸéŸáŸè ÿßŸÑŸëŸéÿ™ŸêŸä ŸäŸéŸÖŸíÿ¥ŸêŸä ÿ®ŸêŸáŸéÿßÿå ŸàŸéÿ•ŸêŸÜŸí ÿ≥Ÿéÿ£ŸéŸÑŸéŸÜŸêŸä ŸÑŸéÿ£ŸèÿπŸíÿ∑ŸêŸäŸéŸÜŸëŸéŸáŸèÿå ŸàŸéŸÑŸéÿ¶ŸêŸÜŸí ÿßÿ≥Ÿíÿ™ŸéÿπŸéÿßÿ∞ŸéŸÜŸêŸä ŸÑŸéÿ£ŸèÿπŸêŸäÿ∞ŸéŸÜŸëŸéŸáŸèÿå ŸàŸéŸÖŸéÿß ÿ™Ÿéÿ±ŸéÿØŸëŸéÿØŸíÿ™Ÿè ÿπŸéŸÜŸí ÿ¥ŸéŸäŸíÿ°Ÿç ÿ£ŸéŸÜŸéÿß ŸÅŸéÿßÿπŸêŸÑŸèŸáŸè ÿ™Ÿéÿ±ŸéÿØŸëŸèÿØŸêŸä ÿπŸéŸÜŸí ŸÜŸéŸÅŸíÿ≥Ÿê ÿπŸéÿ®ŸíÿØŸêŸä ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸêÿå ŸäŸéŸÉŸíÿ±ŸéŸáŸè ÿßŸÑŸíŸÖŸéŸàŸíÿ™Ÿé ŸàŸéÿ£ŸéŸÜŸéÿß ÿ£ŸéŸÉŸíÿ±ŸéŸáŸè ŸÖŸéÿ≥Ÿéÿßÿ°Ÿéÿ™ŸéŸáŸè - ÿ±ŸàÿßŸá ÿßŸÑÿ®ÿÆÿßÿ±Ÿä',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n          ],\n        ),\n      ),\n      actions: [\n        ElevatedButton.icon(\n          onPressed: () {\n            Navigator.of(context).pop();\n          },\n          icon: const Icon(\n            Icons.favorite,\n            color: Color(0xff34C759),\n          ),\n          label: const Text(\n            'Close',\n            style: TextStyle(color: Color(0xff34C759)),\n          ),\n        ),\n      ],\n    );\n  }\n}\n\n",
      "created_at": "2024-06-05T15:10:27.371205",
      "sequence_order": 2,
      "parent_id": "bbad2fd5-30a3-4706-8bae-1a9289388dd6",
      "metadata": {
        "status": "finished_successfully",
        "weight": 1,
        "end_turn": null
      }
    },
    {
      "id": "7a0140bc-7c63-4fda-b15e-a18e2dbe9ca1",
      "role": "assistant",
      "content": "Let's review the errors and suggest solutions for each one:\n\n### Error 1\n```\nlib/providers/prayer_provider.dart:6:9: Error: Type 'PrayerService' not found.\nfinal PrayerService _prayerService;\n      ^^^^^^^^^^^^^\n```\n\n**Solution**:\nEnsure that `PrayerService` is correctly imported in the `prayer_provider.dart` file. \n\n```dart\nimport '../services/prayer_service.dart';\n```\n\n### Error 2\n```\nlib/main.dart:42:39: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n'/': (context) => const HomeScreen(),\n                            ^^^^^^^^^^\n```\n\n**Solution**:\nMake sure `HomeScreen` is a `const` constructor if possible, otherwise, remove the `const` keyword. Similar adjustments need to be made for `YearSelectionScreen` and `EditDetailsScreen`.\n\n```dart\nclass HomeScreen extends StatelessWidget {\n  const HomeScreen({Key? key}) : super(key: key); // Ensure this constructor is const\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      // Your widget code\n    );\n  }\n}\n```\n\n### Error 3\n```\nlib/main.dart:43:53: Error: Couldn't find constructor 'YearSelectionScreen'.\n'/year-selection': (context) => const YearSelectionScreen(),\n                                            ^^^^^^^^^^^^^^^^^^^\n```\n\n**Solution**:\nEnsure `YearSelectionScreen` has a const constructor. If not possible, remove the `const` keyword.\n\n### Error 4\n```\nlib/main.dart:44:51: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n'/edit-details': (context) => const EditDetailsScreen(),\n                                            ^^^^^^^^^^^^^^\n```\n\n**Solution**:\nEnsure `EditDetailsScreen` has a const constructor. If not possible, remove the `const` keyword.\n\n### Error 5\n```\nlib/main.dart:27:41: Error: The method 'PrayerService' isn't defined for the class 'MyApp'.\n- 'MyApp' is from 'package:amana/main.dart' ('lib/main.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'PrayerService'.\ncreate: (_) => PrayerProvider(PrayerService(hiveService)),\n                                  ^^^^^^^^^^^^^\n```\n\n**Solution**:\nEnsure the `PrayerService` class is correctly imported and used. Make sure the `PrayerService` class exists in the right path.\n\n```dart\nimport 'services/prayer_service.dart';\n```\n\n### Errors in `home_screen.dart`\n```\nlib/screens/home_screen.dart:33:35: Error: The getter 'totalPrayed' isn't defined for the class 'Future<PrayerData>'.\n - 'Future' is from 'dart:async'.\n - 'PrayerData' is from 'package:amana/models/prayer_data.dart' ('lib/models/prayer_data.dart').\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'totalPrayed'.\n                value: prayerData.totalPrayed /\n                                ^^^^^^^^^^^\n```\nEnsure you await the Future or handle the async data properly. \n\n**Solution**:\nModify the code to correctly handle asynchronous data. For example:\n\n```dart\nbody: FutureBuilder<PrayerData>(\n  future: provider.getPrayerDataForMonth(currentYear, currentMonth),\n  builder: (context, snapshot) {\n    if (snapshot.connectionState == ConnectionState.waiting) {\n      return CircularProgressIndicator();\n    } else if (snapshot.hasError) {\n      return Text('Error: ${snapshot.error}');\n    } else if (!snapshot.hasData) {\n      return Text('No data');\n    } else {\n      final prayerData = snapshot.data!;\n      return LinearProgressIndicator(\n        value: prayerData.totalPrayed / (prayerData.totalPrayed + prayerData.totalMissed),\n      );\n    }\n  },\n),\n```\n\n### Multiple Files\nEnsure all your files are structured correctly and that the necessary dependencies and imports are in place. Also, double-check class and constructor definitions.\n\n### Review Imports\nEnsure all your files import the necessary dependencies and files. Example:\n\n```dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'services/hive_service.dart';\nimport 'providers/prayer_provider.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/edit_details_screen.dart';\nimport 'screens/year_selection_screen.dart';\n```\n\nBy addressing these issues and ensuring proper imports and class definitions, you should be able to resolve these errors.",
      "created_at": "2024-06-05T15:11:20.027979",
      "sequence_order": 3,
      "parent_id": "aaa2c08f-64e3-4cf9-805d-f2c3d454d346",
      "metadata": {
        "status": "finished_successfully",
        "weight": 1,
        "end_turn": true
      }
    }
  ]
}