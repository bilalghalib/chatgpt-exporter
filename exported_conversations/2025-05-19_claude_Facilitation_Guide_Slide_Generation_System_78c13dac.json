{
  "id": "78c13dac-efee-488e-b12c-f6b62e677233",
  "source": "claude",
  "title": "Facilitation Guide Slide Generation System",
  "created_at": "2025-05-19T12:26:53.023383Z",
  "updated_at": "2025-05-19T12:27:58.060962Z",
  "summary": "",
  "message_count": 2,
  "messages": [
    {
      "id": "df3808d8-9ed6-4aa1-ad13-5e1f580b5cba",
      "role": "human",
      "content": "Review the attached components and come back with a whole file and set of prompt(s), also please return the template slide plan for a \"generic day\" as well as examples of when to use what graph or chart, examples of valid mermaid and anything else helpful for the LLM to take our facilitator guide and generate a slide.md file with inline mermaid for the day / days i ask for - review my request, break down my intent inferred and explicit and help me achieve that with whatever way you think is the best approach, give me suggestions for files and prompts to add to the context - rahter than my big mess, what could the best most structured logical efficient way can be. i have so much material, my facilitation guide, other people's slides, mermaid type explanations, prompts, etc i need help reviewing our idea and materials and deciding on how to get to the goal of exporting useful md files that has slides that a facilitator can use to operationalize the facilitation guide in our project context",
      "created_at": "2025-05-19T12:26:54.511554Z",
      "sequence_order": 0,
      "metadata": {
        "content": [
          {
            "start_timestamp": "2025-05-19T12:26:54.508290Z",
            "stop_timestamp": "2025-05-19T12:26:54.508290Z",
            "flags": null,
            "type": "text",
            "text": "Review the attached components and come back with a whole file and set of prompt(s), also please return the template slide plan for a \"generic day\" as well as examples of when to use what graph or chart, examples of valid mermaid and anything else helpful for the LLM to take our facilitator guide and generate a slide.md file with inline mermaid for the day / days i ask for - review my request, break down my intent inferred and explicit and help me achieve that with whatever way you think is the best approach, give me suggestions for files and prompts to add to the context - rahter than my big mess, what could the best most structured logical efficient way can be. i have so much material, my facilitation guide, other people's slides, mermaid type explanations, prompts, etc i need help reviewing our idea and materials and deciding on how to get to the goal of exporting useful md files that has slides that a facilitator can use to operationalize the facilitation guide in our project context",
            "citations": []
          }
        ],
        "updated_at": "2025-05-19T12:26:54.511554Z",
        "attachments": [
          {
            "file_name": "paste.txt",
            "file_size": 109011,
            "file_type": "txt",
            "extracted_content": "\nI need your help refining my prompt to generate a good set of slides, can you review our facilitation notes and the KESK solar training, the mosul solar training and the module 2 training for how they do their slides and help me come up with a prompt to generate our slides, right now it's like this although it needs to be better:[[[ Review the KESK and Module 2 solar energy and energy modeling.txt training presentations. We want to make a presentation using markdown and mermaid JS inline for our solar training that is defined in BEIT solar energy facilitation guide. Review all material necessary and determine the ideal number of types of charts to produce based on the slide recommendations project instructions. Then procede to make an artifact as a markdown file with inline mermaid js between three backticks \n so i can process it and generate my slides using my script makeslides.py \n\\]]]\n\nI'm still having problems with the sizes of slides being off and the diagrams falling off the edge. I want the prompt to review the days it's being requested to make, to think about the strategy of what the slides will be, to think which diagrams and which types of diagrams here is al ist it can be :[[[✅ 1. Flowchart\nUsed to represent workflows, processes, or decision trees.\n\nSyntax: graph TD (Top-down), graph LR (Left-right), etc.\n\n✅ 2. Sequence Diagram\nModels interactions between participants in a time sequence.\n\nSyntax: sequenceDiagram\n\n✅ 3. Gantt Chart\nRepresents project schedules and timelines.\n\nSyntax: gantt\n\n✅ 4. Class Diagram\nRepresents object-oriented classes and their relationships.\n\nSyntax: classDiagram\n\n✅ 5. State Diagram\nRepresents states and transitions in a finite state machine.\n\nSyntax: stateDiagram-v2 (v2 is recommended for latest features)\n\n✅ 6. Entity Relationship Diagram (ERD)\nModels database entities and their relationships.\n\nSyntax: erDiagram\n\n✅ 7. Pie Chart\nDisplays parts of a whole as slices.\n\nSyntax: pie\n\n✅ 8. Requirement Diagram\nModels system requirements and relationships between them.\n\nSyntax: requirementDiagram\n\n✅ 9. Git Graph\nVisualizes Git branches and commits.\n\nSyntax: gitGraph\n\n✅ 10. Journey Diagram\nMaps user journeys across different stages.\n\nSyntax: journey\n\n✅ 11. Mindmap\nVisualizes hierarchical information in a tree structure.\n\nSyntax: mindmap\n\n✅ 12. Timeline\nRepresents a series of events over time.\n\nSyntax: timeline\n\n✅ 13. Quadrant Chart\nUsed for strategic prioritization (e.g., impact vs. effort).\n\nSyntax: quadrantChart\n\n✅ 14. C4 Diagrams (experimental)\nDescribes software architecture using the C4 model.\n\nSyntax: C4Context, C4Container, C4Component, etc.\n\nNote: This is still experimental and may require enabling it explicitly.\n\n✅ 15. Sankey Diagram (experimental)\nVisualizes flow and volume between nodes.\n\nSyntax: sankey\n\nStill in experimental stages.\n\n✅ 16. Requirement Diagram (experimental)\nUseful for modeling system and business requirements.\n\nSyntax: requirementDiagram\n\n✅ 17. XY Chart (experimental)\nPlots data points on X/Y axis.\n\nSyntax: xyChart\n\nNotes:]]]\n\nShould it be in two prompts to o3 or just one prompt? \nthe issue with the sizing is still present, you can see that here: \n\nAn example of our slides that isn't working and has issues with class diagrams and errors in the pie chart is here: [[[---\nmarp: true\ntheme: default\npaginate: true\nbackgroundColor: #fafafa\nbackgroundImage: url('https://marp.app/assets/hero-background.jpg')\nheader: 'Solar Energy System Design & Installation Training'\nfooter: 'BEIT Project - Mosul, Iraq'\nstyle: |\n  section {\n    font-size: 30px;\n  }\n  h1 {\n    color: #1e88e5;\n  }\n  h2 {\n    color: #26a69a;\n  }\n  img.mermaid-diagram {\n    display: block;\n    margin: 0 auto;\n    border-radius: 5px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n    background-color: white;\n    padding: 10px;\n  }\n  .chart-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 70%;\n  }\n---\n\n<!-- \nTRAINER NOTES:\n- This slide deck covers Days 1-3 of the 6-day training\n- Hidden notes are for trainer guidance only\n- Customize examples to match local Mosul conditions\n- Real-time demonstrations should supplement slides\n- Encourage questions throughout each session\n-->\n\n# Solar Energy System Design & Installation Training\n\n## Days 1-3: Core Fundamentals\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1597045315639-9df6c171e73b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n---\n\n# Training Overview\n\n## Six-Day Comprehensive Program\n\nmermaid\ntimeline\n    title Training Program Schedule\n    section Week 1\n      Day 1: Site Assessment & Load Analysis : Fundamentals\n      Day 2: System Sizing & Financial Analysis : Design\n      Day 3: Component Selection & Safety : Selection\n    section Week 2\n      Day 4: Installation & Safety Protocols : Installation\n      Day 5: Commissioning & Maintenance : Operations\n      Day 6: Business Models & Capstone Project : Business\n\n\n<!-- \nNOTES: \n- Emphasize the comprehensive nature of the training\n- Connect how each day builds on previous knowledge\n- Highlight the balance of theory (mornings) and practice (afternoons)\n- Point out that certification requires attendance at all sessions\n- Mention the practical rotation system for hands-on portions\n-->\n\n---\n\n# Trainer Introduction\n\n- Name and background\n- Experience in solar industry\n- Contact information\n- Local projects completed in Mosul\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Share your personal experience with solar in Iraq\n- Show photos of your own installations in Mosul if possible\n- Discuss challenges you've overcome in local conditions\n- Establish credibility with practical examples\n- Mention any certification/training credentials you hold\n-->\n\n---\n\n# Trainee Introductions\n\nPlease share:\n- Your name\n- Your background/experience\n- Why you're interested in solar\n- What you hope to learn\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1529448005898-b19fc13465b7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Keep introductions brief (30-60 seconds per person)\n- Note participants with prior experience for potential peer teaching\n- Ask about specific skills (electrical, construction, sales)\n- Create a mental map of skill levels in the room\n- Consider forming balanced groups for later activities\n-->\n\n---\n\n# Training Ground Rules\n\n- Safety is always the top priority\n- Phones on silent but available for apps\n- Questions encouraged anytime\n- Respect all participants\n- Attendance required for certification\n- Everyone must participate in hands-on work\n\n![bg right:30% 80%](https://images.unsplash.com/photo-1555963966-b7ae5404b6ed?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Emphasize that certification requires both attendance and participation\n- Discuss specific safety rules for electrical components\n- Set expectations for start/end times and breaks\n- Explain bathroom locations and other logistics\n- Mention the daily morning review question system\n-->\n\n---\n\n# Teaching Approach\n\n## Based on Expert Iraqi Solar Trainers\n\n- Morning theory, afternoon practice\n- Daily review question each morning\n- Work in rotating groups of 4-5 trainees\n- Peer teaching of components and concepts\n- Real-world case studies from Mosul\n- Everyone must physically handle components\n\n![bg right:30% 80%](https://images.unsplash.com/photo-1530099486328-e021101a494a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1347&q=80)\n\n<!-- \nNOTES:\n- Based on methods from experienced Iraqi solar trainers\n- This approach ensures everyone gets hands-on experience\n- Rotation system prevents some trainees from just watching\n- Peer teaching improves retention and understanding\n- Case studies connect theory to local market realities\n-->\n\n---\n\n# DAY 1: SITE ASSESSMENT & LOAD ANALYSIS\n\n![bg](https://images.unsplash.com/photo-1611365892117-bdd4d0dactbd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n<!-- \nNOTES:\n- Day 1 focuses on understanding the site and customer needs\n- This is the foundation for all system designs\n- Emphasize that poor assessment leads to poor system design\n- Many system failures in Mosul stem from inadequate site assessment\n-->\n\n---\n\n# Iraq's Solar Opportunity\n\nmermaid\nquadrantChart\n    title Mosul's Energy Situation\n    x-axis Lower Cost → Higher Cost\n    y-axis Less Reliable → More Reliable\n    quadrant-1 High Cost, High Reliability\n    quadrant-2 Low Cost, High Reliability\n    quadrant-3 Low Cost, Low Reliability\n    quadrant-4 High Cost, Low Reliability\n    Solar Systems[0.7, 0.9]\n    National Grid[0.2, 0.3]\n    Diesel Generators[0.9, 0.6]\n\n\n<!-- \nNOTES:\n- Iraq has exceptional solar resources (5-5.5 peak sun hours)\n- Connect solar benefits to daily challenges Mosul residents face\n- The diesel price continues to increase (up to 1,200 IQD/liter)\n- Central Bank now offers preferential loans for green projects\n- Property value increases are a selling point many installers miss\n-->\n\n---\n\n# Solar Market in Mosul\n\nmermaid\npie\n    title \"Current Power Sources in Mosul Homes\"\n    \"National Grid\" : 45\n    \"Diesel Generators\" : 50\n    \"Solar Systems\" : 5\n\n\n- Market is in early growth stage (~5% penetration)\n- High reliance on neighborhood generators\n- Primary customer concern: reliability over cost\n- Most systems are hybrid (grid + battery backup)\n- Typical system size: 1-3 kW for residential\n\n<!-- \nNOTES:\n- Share local market information from experienced installers\n- Discuss current penetration rate and growth trend\n- Explain that many customers prioritize reliability over cost savings\n- Discuss common battery capacity requests (1-2 days autonomy)\n- Mention price sensitivity and financing challenges\n-->\n\n---\n\n# Solar Basics\n\n## How Solar PV Works\n\nmermaid\nflowchart LR\n    A[Sunlight] -->|Photovoltaic Effect| B[DC Electricity]\n    B -->|MPPT| C[Charge Controller]\n    C --> D[Battery Storage]\n    C --> E[DC to AC Inverter]\n    E --> F[AC Appliances]\n    D --> E\n    style A fill:#ffeb3b,stroke:#f57f17\n    style B fill:#bbdefb,stroke:#1976d2\n    style C fill:#c8e6c9,stroke:#388e3c\n    style D fill:#e1bee7,stroke:#8e24aa\n    style E fill:#ffcdd2,stroke:#d32f2f\n    style F fill:#ffe0b2,stroke:#f57c00\n\n\n<!-- \nNOTES:\n- Keep the explanation simple but scientifically accurate\n- EMPHASIZE that panels produce but DON'T store energy\n- This is a common misconception noted by interviewed experts\n- Use the analogy of water flow for electricity if helpful\n- Show physical components if available during explanation\n-->\n\n---\n\n# System Types\n\nmermaid\nclassDiagram\n    class \"Solar PV Systems\" {\n        +Types\n    }\n    class \"Grid-tied\" {\n        +No batteries\n        +Grid backup\n        +Exports excess\n    }\n    class \"Off-grid\" {\n        +Battery storage\n        +No grid connection\n        +Generator backup\n    }\n    class \"Hybrid (Most Common in Mosul)\" {\n        +Grid connection\n        +Battery backup\n        +Flexible operation\n    }\n    \n    \"Solar PV Systems\" <|-- \"Grid-tied\"\n    \"Solar PV Systems\" <|-- \"Off-grid\"\n    \"Solar PV Systems\" <|-- \"Hybrid (Most Common in Mosul)\"\n\n\n<!-- \nNOTES:\n- Explain each system type thoroughly with examples\n- Highlight that hybrid systems are most common in Mosul\n- Discuss advantages and limitations of each type\n- Explain current net metering potential in Iraq (limited)\n- Show local examples of each system type if possible\n-->\n\n---\n\n# System Types Comparison\n\n| Type | Grid Connection | Batteries | Cost | Common Use in Mosul |\n|------|----------------|-----------|------|------------|\n| **Grid-tied** | Yes | No | Lowest | Rare (unreliable grid) |\n| **Off-grid** | No | Yes | Highest | Remote locations |\n| **Hybrid** | Yes | Yes | Medium | **Most residential systems** |\n\n<!-- \nNOTES:\n- Highlight that hybrid systems make up 90%+ of Mosul installations\n- Discuss how each system type would perform during power outages\n- Explain component differences between system types\n- Emphasize cost differences and payback implications\n- Draw from experience of local installers interviewed\n-->\n\n---\n\n# ACTIVITY: Solar System Identification\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1548348361-16c1b5695825?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n1. Form groups of 3-4\n2. Examine the system photos provided\n3. Identify system type (grid-tied, off-grid, hybrid)\n4. List the components you can identify\n5. Discuss advantages for that specific installation\n6. Present your findings (2 minutes per group)\n\n<!-- \nNOTES:\n- Distribute printed photos of different actual Mosul installations\n- Include clear component labels on some, unlabeled on others\n- Have groups present their analysis to the class\n- Use this to assess initial knowledge levels\n- Correct misconceptions gently during presentations\n-->\n\n---\n\n# Site Assessment Process\n\nmermaid\nmindmap\n    root((Site Assessment))\n        Physical\n            Roof Structure\n            Available Space\n            Orientation & Tilt\n            Structural Integrity\n        Electrical\n            Existing Panel\n            Grounding System\n            Wiring Capacity\n            Connection Points\n        Environmental\n            Shading Analysis\n            Dust & Wind Patterns\n            Temperature Extremes\n            Seasonal Variations\n        Customer\n            Energy Needs\n            Budget\n            Expansion Plans\n            Critical Loads\n\n\n<!-- \nNOTES:\n- Walk through this assessment process step by step\n- Emphasize the importance of thorough documentation\n- Note that incomplete assessments lead to system problems\n- Many system failures in Iraq stem from poor site assessment\n- Share examples of assessment-related failures you've seen\n-->\n\n---\n\n# Roof & Structure Assessment\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1598763555653-84a20b225962?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Critical Checks:\n- Roof condition and material\n- Structural integrity for wind loads\n- Available unshaded area\n- Orientation and tilt angle\n- Access for installation and maintenance\n- Seasonal weather exposure\n\n<!-- \nNOTES:\n- Discuss common Mosul rooftop types and structural concerns\n- Show examples of properly assessed vs. problematic roofs\n- Emphasize importance of wind load calculations\n- Discuss how Mosul's dust storms affect mounting decisions\n- Many system failures in Iraq stem from inadequate mounting\n-->\n\n---\n\n# Wind Load Considerations for Mosul\n\n- Mosul experiences dust storms with winds up to 50 m/s\n- Common mounting failure: concrete blocks without proper anchoring\n- **CRITICAL**: All mountings must be properly secured to structure\n- Wind creates both uplift and lateral forces\n- Rule of thumb: 25kg ballast per panel is insufficient\n\n![bg right:40% 90%](https://i.ibb.co/qR3B0LY/wind-load.jpg)\n\n<!-- \nNOTES:\n- This slide addresses a critical issue mentioned by both experts\n- Many failures involve improper mounting that cannot handle wind\n- Show examples of failed mounts if available\n- Demonstrate proper anchoring techniques\n- Emphasize that this is a life safety issue, not just performance\n-->\n\n---\n\n# Shading Analysis\n\n![width:900px](https://i.ibb.co/VNcssK3/shading-analysis.png)\n\n- Even partial shading can reduce system output by 25-50%\n- String systems are particularly vulnerable to shading\n- Winter shading differs from summer (sun path changes)\n- Document ALL potential shade sources in all seasons\n- Common shaders in Mosul: TV antennas, water tanks, neighboring buildings\n\n<!-- \nNOTES:\n- Explain how one shaded panel affects entire string\n- Demonstrate shadow casting throughout the year\n- Show how to use a sun path diagram specific to Mosul\n- Demonstrate how to create a horizon sketch\n- Discuss mitigation strategies (microinverters, optimizers)\n-->\n\n---\n\n# Site Assessment Tools\n\n![bg right:40% 80%](https://i.ibb.co/LJRDgfS/site-assessment-tools.jpg)\n\n## Essential Tools:\n- Compass (physical or app)\n- Clinometer app for angle measurement\n- Sun path calculator\n- Solar pathfinder (or equivalent)\n- Measuring tape\n- Camera for documentation\n- Site assessment forms\n\n<!-- \nNOTES:\n- Demonstrate how to use each tool properly\n- Show smartphone app alternatives for each tool\n- Emphasize importance of proper photographic documentation\n- Show what a complete site assessment form looks like\n- Distribute assessment forms to be used in next activity\n-->\n\n---\n\n# ☕ BREAK TIME (15 minutes)\n\n![bg](https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=1337&q=80)\n\n<!-- \nNOTES:\n- Set up for the site survey practice during the break\n- Prepare clipboards and assessment forms\n- Ensure measurement tools are ready for each group\n- This is a good time to answer individual questions\n-->\n\n---\n\n# ACTIVITY: Site Assessment Practice\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1572175316347-1a00ae0a1b06?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Form teams of 4-5\n2. Complete a site assessment of assigned area\n3. Document all observations on forms\n4. Take photos of potential issues\n5. Return to classroom after 45 minutes\n6. Team presentations (3 minutes each)\n\n<!-- \nNOTES:\n- Assign different areas of the training site to each team\n- Ensure each team has necessary assessment tools\n- Circulate between teams to provide guidance\n- Focus on proper tool usage and documentation\n- Have teams capture real photos for discussion\n-->\n\n---\n\n# Load Analysis Fundamentals\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1535868463750-9704e8be26b8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Why Load Analysis Matters\n- Determines system size requirements\n- Prevents over/under-sizing\n- Identifies critical vs. non-critical loads\n- Establishes customer expectations\n- Informs battery sizing decisions\n\n<!-- \nNOTES:\n- Emphasize that accurate load analysis is the foundation of good design\n- Under-sizing leads to customer disappointment\n- Over-sizing wastes customer money and reduces ROI\n- Discuss how to handle seasonal variations (AC in summer)\n- Share examples of load analysis failures you've seen\n-->\n\n---\n\n# Load Calculation Process\n\nmermaid\nflowchart TD\n    subgraph \"Data Collection\"\n        A[Identify All Appliances]\n        B[Determine Power Rating]\n        C[Estimate Hours of Use]\n    end\n    \n    subgraph \"Calculation\"\n        D[Calculate Daily Energy]\n        E[Apply Safety Factor]\n        F[Separate Critical Loads]\n    end\n    \n    subgraph \"Design Inputs\"\n        G[Array Sizing]\n        H[Battery Capacity]\n        I[Inverter Size]\n    end\n    \n    A --> B --> C --> D --> E --> F\n    F --> G & H & I\n    \n    style A fill:#e3f2fd,stroke:#1976d2\n    style B fill:#e3f2fd,stroke:#1976d2\n    style C fill:#e3f2fd,stroke:#1976d2\n    style D fill:#e8f5e9,stroke:#388e3c\n    style E fill:#e8f5e9,stroke:#388e3c\n    style F fill:#e8f5e9,stroke:#388e3c\n    style G fill:#fff3e0,stroke:#e65100\n    style H fill:#fff3e0,stroke:#e65100\n    style I fill:#fff3e0,stroke:#e65100\n\n\n<!-- \nNOTES:\n- Walk through the calculation process step by step\n- Explain how to find appliance power ratings when not marked\n- Discuss duty cycles for intermittent appliances like refrigerators\n- Emphasize importance of realistic usage estimates\n- Show how to handle varying seasonal loads\n-->\n\n---\n\n# Load Calculation Method\n\nBasic formula: **Power (Watts) × Time (hours) = Energy (Watt-hours)**\n\nExample for typical Mosul home:\n- 8 LED lights (10W each) × 5 hours = 400 Wh\n- Refrigerator (150W) × 24h × 0.4 (duty cycle) = 1,440 Wh\n- 2 Ceiling fans (70W each) × 8 hours = 1,120 Wh\n- TV (120W) × 6 hours = 720 Wh\n- **Total = 3,680 Wh = 3.68 kWh daily**\n\nSafety factor: 3.68 kWh × 1.2 = **4.42 kWh**\n\n<!-- \nNOTES:\n- Walk through each calculation step by step\n- Explain the concept of duty cycle for refrigeration\n- Discuss seasonal variations in load (AC in summer)\n- Emphasize importance of safety factor for unexpected loads\n- This example uses actual typical appliances in Mosul homes\n-->\n\n---\n\n# Measuring Actual Loads\n\n![width:900px](https://i.ibb.co/27nqQQP/watt-meter.jpg)\n\n- Don't rely on device ratings (often inaccurate)\n- Use a plug-in watt meter for accurate measurements\n- Measure actual power consumption and duty cycles\n- Track for 24+ hours if possible\n- Note startup surges for motors and compressors\n\n<!-- \nNOTES:\n- Show an actual watt meter and how to use it\n- Explain that these are inexpensive tools that pay for themselves\n- Demonstrate how to record readings in a load table\n- Discuss common surprises found during actual measurements\n- Many installers in Iraq skip this step but shouldn't\n-->\n\n---\n\n# Common Iraqi Household Loads\n\n| Appliance | Typical Power | Daily Hours | Energy/Day |\n|-----------|--------------|------------|------------|\n| AC (1.5 ton) | 1,500W | 8h (summer) | 12 kWh |\n| Refrigerator | 150W | 24h (40% duty) | 1.44 kWh |\n| Water pump | 750W | 2h | 1.5 kWh |\n| LED lighting | 10W per bulb | 5h | 0.05 kWh/bulb |\n| TV | 120W | 6h | 0.72 kWh |\n| Washing machine | 500W | 1h | 0.5 kWh |\n\n<!-- \nNOTES:\n- These values are typical for Mosul households (locally verified)\n- Actual values will vary by specific appliance models\n- Air conditioning is the largest consumer in summer\n- Water pumps have high surge current requirements\n- Use this table as a starting point for estimates\n-->\n\n---\n\n# Critical vs. Non-critical Loads\n\nmermaid\npie\n    title \"Typical Load Distribution in Mosul Home\"\n    \"Air Conditioning\" : 55\n    \"Refrigeration\" : 15\n    \"Lighting\" : 10\n    \"Entertainment\" : 8\n    \"Water Pump\" : 7\n    \"Other\" : 5\n\n\n## Critical (Essential)\n- Refrigeration\n- Essential lighting\n- Communication devices\n- Medical equipment\n- Water pumps\n\n<!-- \nNOTES:\n- Explain that critical loads get backup power during outages\n- Discuss creating separate critical-load circuits\n- This affects both system design and customer expectations\n- Budget often determines what's considered \"critical\"\n- Ask trainees what they consider essential in their homes\n-->\n\n---\n\n# ACTIVITY: Load Calculation Workshop\n\n1. Form pairs or groups of three\n2. Complete the load analysis worksheet for:\n   - Your own home OR\n   - The case study provided\n3. Calculate total daily energy requirement\n4. Add appropriate safety factor\n5. Identify which loads are critical\n6. Compare results with other groups\n\n<!-- \nNOTES:\n- Distribute load calculation worksheets\n- Provide calculators if needed\n- Circulate to assist with calculations\n- Look for common errors in calculations\n- This is a fundamental skill that everyone must master\n-->\n\n---\n\n# Customer Interview Techniques\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Effective Questions:\n- \"What are your main power problems right now?\"\n- \"Which appliances are most essential for you?\"\n- \"How much do you spend monthly on generator fuel?\"\n- \"How many hours of backup do you need?\"\n- \"Do you plan to add more appliances in future?\"\n\n<!-- \nNOTES:\n- This slide added based on expert interviews\n- Good customer interviews improve system design\n- Understand customer priorities (reliability vs. cost)\n- Document current generator expenses for comparison\n- Identify potential future expansion needs\n-->\n\n---\n\n# Sun Path Analysis\n\n![width:900px](https://i.ibb.co/LzFVnfk/sun-path-diagram.png)\n\n- Sun path changes seasonally:\n  - Summer: higher arc, longer days\n  - Winter: lower arc, shorter days\n- Mosul latitude: 36.3°N\n- Use sun path diagram to predict shading\n- Critical production hours: 9am - 3pm\n\n<!-- \nNOTES:\n- Explain how sun path diagrams work\n- Show examples specific to Mosul's latitude\n- Connect sun path to seasonal production differences\n- Demonstrate how to use the diagram with horizon sketches\n- Emphasize importance of winter sun path (lower in sky)\n-->\n\n---\n\n# ACTIVITY: Sun Path Exercise\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1592833167960-303e8113f6aa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Using sun path charts for Mosul's latitude\n2. Create horizon sketch at designated location\n3. Mark major obstructions (buildings, trees)\n4. Analyze shading impact throughout year\n5. Identify optimal array placement\n6. Discuss findings as a group\n\n<!-- \nNOTES:\n- Take trainees outside for this activity\n- Demonstrate proper horizon sketching technique\n- Show how to align sketch with sun path diagram\n- Discuss implications of findings for system design\n- This is a critical skill for preventing shading problems\n-->\n\n---\n\n# Day 1 Summary\n\n- Understood solar fundamentals and system types\n- Completed comprehensive site assessments\n- Calculated accurate load profiles\n- Analyzed sun path and shading impacts\n- Prepared foundation for system sizing\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1566093097221-ac2b55652b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Briefly review key concepts from Day 1\n- Address any outstanding questions\n- Preview Day 2 topics\n- Remind about any homework assignments\n- Explain the morning question process for tomorrow\n-->\n\n---\n\n# Day 1 Assessment\n\nPlease complete:\n- Site assessment forms\n- Load calculation worksheet\n- Sun path analysis\n\nThese will be reviewed at the start of Day 2.\n\n**REMINDER:** One question from today's material will be asked tomorrow morning!\n\n<!-- \nNOTES:\n- Collect completed worksheets for review\n- Mark areas for improvement on each submission\n- Identify trainees who may need additional support\n- Prepare feedback to deliver at start of Day 2\n- Select morning question for tomorrow\n-->\n\n---\n\n# DAY 2: SYSTEM SIZING & FINANCIAL ANALYSIS\n\n![bg](https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1404&q=80)\n\n<!-- \nNOTES:\n- Day 2 focuses on translating site and load data into system design\n- This bridges technical design with financial considerations\n- Many installers in Iraq struggle with accurate sizing calculations\n- Financial analysis is critical for customer decision-making\n-->\n\n---\n\n# Day 1 Recap & Morning Question\n\n## Question: What are three key factors in a site assessment that affect system design?\n\nDiscuss with your neighbor, then we'll share answers.\n\n<!-- \nNOTES:\n- This implements Muayad's \"morning question\" technique\n- Ask for volunteers to answer or call on specific trainees\n- Use this to reinforce key concepts from Day 1\n- Address any misconceptions that emerge\n- This technique improves retention and engagement\n-->\n\n---\n\n# System Sizing Overview\n\nmermaid\nflowchart TD\n    A[Load Analysis<br>Daily kWh] --> B[Array<br>Sizing]\n    A --> C[Battery<br>Sizing] \n    A --> D[Inverter<br>Sizing]\n    \n    B --> B1[Solar Resource]\n    B --> B2[System Losses]\n    \n    C --> C1[Days of Autonomy]\n    C --> C2[Battery Type]\n    \n    D --> D1[Peak Load]\n    D --> D2[Surge Capacity]\n    \n    B & C & D --> E[Complete System]\n    \n    style A fill:#bbdefb,stroke:#1976d2,stroke-width:2px\n    style B fill:#c8e6c9,stroke:#388e3c\n    style C fill:#f8bbd0,stroke:#c2185b\n    style D fill:#ffecb3,stroke:#ff8f00\n    style E fill:#e1f5fe,stroke:#0288d1,stroke-width:2px\n\n\n<!-- \nNOTES:\n- Explain that this is a systematic process\n- Each step builds on calculations from Day 1\n- The sequence remains consistent regardless of system size\n- The process is iterative - sometimes requires adjustments\n- Document each step for customer proposals\n-->\n\n---\n\n# Key Calculation Factors\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1593526492327-b071f3d5ce8c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Location-Specific for Mosul:\n- **Peak Sun Hours (PSH)**: 5-5.5 hours average\n- **Seasonal variation**: 4.2 (winter) to 6.8 (summer)\n- **System Losses**: 20-25% (higher than global average)\n- **Temperature Derating**: 15-20% in 45°C+ summer\n- **Dust/Soiling Losses**: 5-10% between cleanings\n- **Days of Autonomy**: Typically 1-2 days for residential\n\n<!-- \nNOTES:\n- These factors are specific to Mosul's conditions\n- Use local data rather than global averages\n- Explain seasonal PSH variation and its impact\n- Emphasize higher losses in Iraq's harsh conditions\n- Discuss dust accumulation patterns specific to Mosul\n-->\n\n---\n\n# Array Sizing Calculation\n\nBasic formula: \n**Array Size (Wp) = Daily Energy Need ÷ PSH × Loss Factor**\n\nExample for typical Mosul home:\n- Daily need: 5 kWh\n- Mosul PSH: 5 hours\n- System losses: 20% (1.2 factor)\n\n**Array Size = 5 kWh ÷ 5h × 1.2 = 1.2 kWp**\n\nFor 400W panels: **1,200W ÷ 400W = 3 panels**\n\n<!-- \nNOTES:\n- Work through this calculation step by step\n- Explain why we always round up (never partial panels)\n- Discuss impact of different loss factors\n- Show how panel selection affects panel quantity\n- Do some example calculations with different values\n-->\n\n---\n\n# Battery Sizing Calculation\n\nBasic formula:\n**Battery Capacity = Daily Load × Days of Autonomy ÷ DoD**\n\nExample for typical Mosul home:\n- Daily load: 5 kWh\n- Autonomy: 1 day\n- Battery type: Lithium (80% DoD)\n\n**Battery Size = 5 kWh × 1 ÷ 0.8 = 6.25 kWh**\n\nFor Lead-acid batteries (50% DoD):\n**Battery Size = 5 kWh × 1 ÷ 0.5 = 10 kWh**\n\n<!-- \nNOTES:\n- Explain the concept of Depth of Discharge (DoD)\n- Show clear difference between lead-acid and lithium batteries\n- Explain why DoD matters for battery lifespan\n- Discuss cost implications of battery type selection\n- Connection to customer budget constraints\n-->\n\n---\n\n# Battery Type Comparison for Mosul\n\nmermaid\nquadrantChart\n    title Battery Technology Comparison\n    x-axis Lower Cost → Higher Cost\n    y-axis Lower Performance → Higher Performance\n    quadrant-1 Premium Option\n    quadrant-2 Best Value\n    quadrant-3 Budget Option\n    quadrant-4 Poor Value\n    \"Lithium Ion\"[0.8, 0.9]\n    \"AGM Lead-Acid\"[0.5, 0.5]\n    \"Flooded Lead-Acid\"[0.2, 0.3]\n    \"Gel Lead-Acid\"[0.6, 0.6]\n\n\n<!-- \nNOTES:\n- This slide addresses a critical issue mentioned by both experts\n- Battery counterfeit problems are widespread in Iraq\n- Prices are current as of training date for Mosul market\n- Discuss how to identify genuine vs counterfeit batteries\n- Weight is often a telltale sign (counterfeits lighter)\n-->\n\n---\n\n# Inverter Sizing\n\nBasic formula:\n**Inverter Size = Maximum Simultaneous Load × 1.25**\n\nConsiderations for Mosul installations:\n- Must handle surge requirements (3× for water pumps)\n- Should match battery bank voltage (usually 24V or 48V)\n- Consider future expansion (add 20% capacity)\n- Pure sine wave essential for sensitive electronics\n- Hybrid inverters most common for Mosul homes\n\n<!-- \nNOTES:\n- Explain difference between continuous and surge ratings\n- Discuss why inverter sizing is about peak load, not daily energy\n- Mention importance of selecting DC voltage (12V, 24V, 48V)\n- Discuss compatibility with battery type\n- Show examples of properly/improperly sized systems\n-->\n\n---\n\n# System Voltage Considerations\n\nmermaid\nflowchart TD\n    A{System Size} -->|< 1 kW| B[12V System]\n    A -->|1-3 kW| C[24V System]\n    A -->|> 3 kW| D[48V System]\n    \n    B --> B1[Pro: Simpler, Common Parts]\n    B --> B2[Con: Larger Cables, Higher Current]\n    \n    C --> C1[Pro: Standard, Good Availability]\n    C --> C2[Con: Medium Current, Medium Cables]\n    \n    D --> D1[Pro: Lowest Current, Small Cables]\n    D --> D2[Con: Higher Component Costs]\n    \n    style A fill:#bbdefb,stroke:#1976d2\n    style B fill:#c8e6c9,stroke:#388e3c\n    style C fill:#fff9c4,stroke:#fbc02d\n    style D fill:#ffccbc,stroke:#e64a19\n\n\n<!-- \nNOTES:\n- Explain that higher voltage means lower current for same power\n- Lower current means smaller cables and less loss\n- Most residential systems in Mosul should be 24V or 48V\n- 48V systems are becoming standard for 3kW+ systems\n- Discuss safety considerations with higher voltages\n-->\n\n---\n\n# ☕ BREAK TIME (15 minutes)\n\n![bg](https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=1337&q=80)\n\n<!-- \nNOTES:\n- Set up for the system sizing workshop during the break\n- Prepare calculators and worksheets\n- This is a good time to identify trainees who may need extra help\n- Prepare group rotation assignments for afternoon\n-->\n\n---\n\n# ACTIVITY: System Sizing Workshop\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1592833167960-303e8113f6aa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Use your load calculation from Day 1\n2. Calculate required array size\n3. Determine battery capacity needed\n4. Select appropriate inverter size\n5. Complete system specification sheet\n6. Compare results with other groups\n\n<!-- \nNOTES:\n- Distribute system sizing worksheets\n- Use actual component specifications available in Mosul\n- Circulate to assist with calculations\n- Look for common errors and address them\n- This is a fundamental skill that everyone must master\n-->\n\n---\n\n# Financial Analysis Fundamentals\n\nmermaid\nmindmap\n    root((Financial Analysis))\n        Initial Investment\n            System Cost\n            Installation Cost\n            Permitting\n        Operational Costs\n            Maintenance\n            Cleaning\n            Component Replacement\n        Benefits\n            Generator Fuel Savings\n            Maintenance Savings\n            Increased Property Value\n            Reliability Value\n        Return Metrics\n            Payback Period\n            ROI\n            NPV\n            LCOE\n\n\n<!-- \nNOTES:\n- Emphasize importance of financial analysis in customer decisions\n- Many installers focus only on technical aspects, missing sales\n- Financial arguments often convince hesitant customers\n- Different approaches work for different customer types\n- This is what converts technical specs into sales\n-->\n\n---\n\n# System Cost Components\n\nmermaid\npie\n    title \"Typical System Cost Breakdown (5kWh System)\"\n    \"Solar Panels\" : 30\n    \"Batteries\" : 35\n    \"Inverter\" : 15\n    \"Mounting Hardware\" : 10\n    \"Protection Devices\" : 5\n    \"Installation Labor\" : 5\n\n\n<!-- \nNOTES:\n- These are current Mosul market prices as of training date\n- Emphasize price variability based on quality and brand\n- Discuss counterfeit issues and price variations\n- Mention sources for up-to-date pricing\n- Explain markup strategies for different components\n-->\n\n---\n\n# Generator Cost Analysis\n\n## Typical Residential Generator Costs in Mosul\n\n- Fuel consumption: ~1 liter diesel per 3 kWh\n- Current diesel price: ~1,000-1,200 IQD/liter\n- Maintenance: Oil changes, filters, repairs (~150,000 IQD/year)\n- Replacement: 3-5 years for residential generators\n\n## Annual costs for 5 kWh daily usage:\n- Fuel: 5 kWh ÷ 3 kWh/L × 1,000 IQD/L × 365 days = 608,333 IQD\n- Maintenance: ~150,000 IQD/year\n- **Total annual cost: ~758,333 IQD**\n\n<!-- \nNOTES:\n- These calculations provide strong selling points for customers\n- Many customers underestimate their true generator costs\n- Emphasize rising fuel prices over time (show historical trend)\n- Discuss maintenance and replacement costs often forgotten\n- These are actual Mosul costs verified with local installers\n-->\n\n---\n\n# Solar vs. Generator: 10-Year Comparison\n\nmermaid\ngitGraph\n    commit id: \"Initial Investment\"\n    branch \"Solar\"\n    branch \"Generator\"\n    checkout \"Solar\"\n    commit id: \"6,500,000 IQD Initial Cost\"\n    checkout \"Generator\"\n    commit id: \"2,000,000 IQD Initial Cost\"\n    checkout \"Solar\"\n    commit id: \"100,000 IQD Year 1\"\n    commit id: \"100,000 IQD Year 2\"\n    commit id: \"100,000 IQD Year 3\"\n    checkout \"Generator\"\n    commit id: \"758,333 IQD Year 1\"\n    commit id: \"758,333 IQD Year 2\"\n    commit id: \"758,333 IQD Year 3\"\n    commit id: \"758,333 IQD Year 4\"\n    commit id: \"758,333 IQD Year 5\"\n    checkout \"Solar\"\n    commit id: \"100,000 IQD Year 4\"\n    commit id: \"100,000 IQD Year 5\"\n    checkout \"Generator\"\n    commit id: \"2,000,000 IQD Replacement\"\n    commit id: \"758,333 IQD Year 6\"\n    checkout \"Solar\"\n    commit id: \"100,000 IQD Year 6\"\n    commit id: \"100,000 IQD Year 7\"\n    checkout \"Generator\"\n    commit id: \"758,333 IQD Year 7\"\n    commit id: \"758,333 IQD Year 8\"\n    checkout \"Solar\"\n    commit id: \"100,000 IQD Year 8\"\n    commit id: \"3,000,000 IQD Battery Replacement\"\n    checkout \"Generator\"\n    commit id: \"758,333 IQD Year 9\"\n    commit id: \"758,333 IQD Year 10\"\n    checkout \"Solar\"\n    commit id: \"100,000 IQD Year 9\"\n    commit id: \"100,000 IQD Year 10\"\n\n\n<!-- \nNOTES:\n- This shows the cumulative costs over time\n- Initial investment is higher for solar, but operating costs much lower\n- Generator requires replacement around year 5\n- Battery replacement is the major solar expense after 8-10 years\n- Break-even point is typically around year 7-8\n-->\n\n---\n\n# Payback Calculation\n\nmermaid\nquadrantChart\n    title Solar vs. Generator Cost Analysis\n    x-axis Short Term ← → Long Term\n    y-axis Lower Cost ← → Higher Cost\n    quadrant-1 Long-Term Expensive\n    quadrant-2 Long-Term Economical\n    quadrant-3 Short-Term Economical\n    quadrant-4 Short-Term Expensive\n    \"Solar (Initial)\"[0.1, 0.9]\n    \"Generator (Initial)\"[0.1, 0.4]\n    \"Solar (5 Years)\"[0.5, 0.7]\n    \"Generator (5 Years)\"[0.5, 0.6]\n    \"Solar (10 Years)\"[0.9, 0.5]\n    \"Generator (10 Years)\"[0.9, 0.8]\n\n\n<!-- \nNOTES:\n- This diagram shows how costs compare over different timeframes\n- Generator is cheaper initially but more expensive long-term\n- Solar is more expensive initially but cheaper long-term\n- Explain simple payback vs. more sophisticated analysis\n- Emphasis that rising diesel prices improve solar ROI\n-->\n\n---\n\n# Simple Payback Calculation\n\n**Payback Period = System Cost ÷ Annual Savings**\n\nExample for 5 kWh/day system in Mosul:\n- System cost: 6,500,000 IQD\n- Annual generator savings: 758,333 IQD\n\n**Payback Period = 6,500,000 ÷ 758,333 = 8.6 years**\n\nFactors affecting payback:\n- Rising diesel prices (shortens payback)\n- Panel cleaning regularity (affects output)\n- Quality of components (affects longevity)\n- Actual usage patterns\n\n<!-- \nNOTES:\n- Work through this calculation step by step\n- Emphasize this is simple payback (doesn't account for financing)\n- Discuss factors that can shorten actual payback\n- Connect to customer decision-making process\n- Note that good maintenance improves real ROI\n-->\n\n---\n\n# Convincing the Customer\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Beyond Financial Arguments:\n- Reliability during outages\n- Zero noise compared to generators\n- No pollution or fumes\n- Minimal maintenance\n- Property value increase\n- Modern image and status\n- Central Bank green loans available\n\n<!-- \nNOTES:\n- This slide added based on expert interviews\n- Many customers make decisions on factors beyond ROI\n- Reliability is often the #1 concern in areas with poor grid\n- Social proof is powerful - show examples of neighbors' systems\n- Different selling points work for different customers\n-->\n\n---\n\n# ACTIVITY: Financial Analysis Workshop\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1494607239400-ff147086c95a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Using the system you sized earlier\n2. Calculate complete system cost\n3. Determine current generator expenses\n4. Calculate simple payback period\n5. Create a 5-year savings projection\n6. Develop a brief customer presentation\n\n<!-- \nNOTES:\n- Distribute financial analysis worksheets\n- Provide current component pricing\n- Circulate to assist with calculations\n- Encourage realistic rather than optimistic projections\n- Have groups practice delivering their pitch to others\n-->\n\n---\n\n# Digital Tools for System Design\n\n![bg right:40% 80%](https://i.ibb.co/6sWZ9zD/pvwatts.png)\n\n## Available Tools:\n- **PVWatts**: Free online calculator\n- **Spreadsheet calculators**: For system sizing\n- **HOMER**: For hybrid system simulation (advanced)\n- **PVsyst**: Professional design software (advanced)\n\n## Benefits:\n- Validate manual calculations\n- Create professional reports for customers\n- Compare different configurations\n- Provide visual data for better convincing\n\n<!-- \nNOTES:\n- Demonstrate accessing basic tools like PVWatts\n- Show sample outputs from different tools\n- Explain progression from simple to advanced tools\n- Emphasize that tools supplement but don't replace understanding\n- These create professional documentation for customers\n-->\n\n---\n\n# DEMONSTRATION: PVWatts Calculator\n\n![width:900px](https://i.ibb.co/5x4YN7V/pvwatts-demo.png)\n\n<!-- \nNOTES:\n- Do a live demonstration of PVWatts\n- Use Mosul's location data (36.3°N, 43.1°E)\n- Show how to input system parameters\n- Interpret results for the group\n- Compare to manual calculations done earlier\n-->\n\n---\n\n# ACTIVITY: Digital Tools Practice\n\n1. Access PVWatts calculator\n2. Enter your system specifications\n3. Use Mosul location (latitude 36.3°N, longitude 43.1°E)\n4. Set appropriate system losses (20% minimum)\n5. Generate monthly production estimate\n6. Compare with your manual calculations\n7. Create a customer-friendly output\n\n<!-- \nNOTES:\n- Guide trainees through using the tool\n- Help those who have difficulty with computers\n- Discuss any significant differences from manual calculations\n- Explain how to incorporate results into customer proposals\n- This creates professional documentation for customers\n-->\n\n---\n\n# Component Selection Basics\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1579463762501-2ddb0281dce8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n## Selection Principles:\n- Match specifications to design requirements\n- Consider local availability for replacements\n- Balance quality and cost appropriately\n- Ensure component compatibility\n- Verify authenticity of components\n- Plan for future expansion\n\n<!-- \nNOTES:\n- This bridges to Day 3 content\n- Focus on principles rather than specific products\n- Discuss importance of compatibility between components\n- Emphasize quality considerations for Mosul's climate\n- Begin discussion on counterfeit component issues\n-->\n\n---\n\n# Day 2 Summary\n\n- Calculated complete system sizing requirements\n- Determined appropriate component quantities\n- Analyzed financial aspects and payback period\n- Used digital tools to validate calculations\n- Prepared foundation for component selection\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1533062618053-5a4b18825d82?ixlib=rb-1.2.1&auto=format&fit=crop&w=1354&q=80)\n\n<!-- \nNOTES:\n- Briefly review key concepts from Day 2\n- Address any outstanding questions\n- Preview Day 3 topics\n- Remind about any homework assignments\n- Prepare morning question for tomorrow\n-->\n\n---\n\n# Day 2 Assessment\n\nPlease complete:\n- System sizing calculations (±5% accuracy)\n- Financial analysis worksheet\n- PVWatts simulation results\n\nThese will be reviewed at the start of Day 3.\n\n**REMINDER:** One question from today's material will be asked tomorrow morning!\n\n<!-- \nNOTES:\n- Collect completed worksheets for review\n- Mark areas for improvement on each submission\n- Identify trainees who may need additional support\n- Prepare feedback to deliver at start of Day 3\n- Select the morning question for tomorrow\n-->\n\n---\n\n# DAY 3: COMPONENT SELECTION & SAFETY\n\n![bg](https://images.unsplash.com/photo-1473308822086-710304d7d30c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1406&q=80)\n\n<!-- \nNOTES:\n- Day 3 focuses on selecting appropriate components and safety\n- This builds on sizing calculations from Day 2\n- Component selection is critical for system performance and longevity\n- Safety is essential for both installers and customers\n-->\n\n---\n\n# Day 2 Recap & Morning Question\n\n## Question: What factors affect the payback period of a solar system in Mosul?\n\nDiscuss with your neighbor, then we'll share answers.\n\n<!-- \nNOTES:\n- This continues Muayad's \"morning question\" technique\n- Ask for volunteers to answer or call on specific trainees\n- Use this to reinforce key financial concepts from Day 2\n- Address any misconceptions that emerge\n- This technique improves retention and engagement\n-->\n\n---\n\n# Component Selection Process\n\nmermaid\nmindmap\n    root((Component Selection))\n        Technical Requirements\n            Match System Specs\n            Compatibility\n            Performance\n            Climate Suitability\n        Quality Factors\n            Brand Reputation\n            Certifications\n            Warranty Terms\n            Authenticity Verification\n        Budget Constraints\n            Initial Cost\n            Lifetime Cost\n            Value Proposition\n            Financing Options\n        Local Considerations\n            Availability\n            Support\n            Maintenance\n            Replacement Parts\n\n\n<!-- \nNOTES:\n- Explain this as a systematic selection framework\n- Each branch represents important considerations\n- Technical match is necessary but not sufficient\n- Quality verification is critical in the Iraqi market\n- Availability of replacement parts is essential\n-->\n\n---\n\n# Reading Specification Sheets\n\n![bg right:40% 90%](https://i.ibb.co/KWkM7CC/panel-spec.jpg)\n\n## Critical Parameters for Panels:\n- Power output (Wp, Wattage)\n- Voltage specifications (Voc, Vmp)\n- Current specifications (Isc, Imp)\n- Temperature coefficients\n- Physical dimensions and weight\n- Warranty terms and conditions\n- Certifications (look for IEC, TÜV)\n\n<!-- \nNOTES:\n- Show actual specification sheets while discussing\n- Explain each parameter in detail with practical relevance\n- Connect to system sizing calculations from Day 2\n- Discuss importance of temperature coefficients in Mosul's climate\n- Explain certification markings that indicate quality\n-->\n\n---\n\n# Solar Panel Technologies\n\nmermaid\nquadrantChart\n    title Panel Technology Comparison\n    x-axis Lower Efficiency → Higher Efficiency\n    y-axis Poor Heat Performance → Good Heat Performance\n    quadrant-1 Ideal for Mosul\n    quadrant-2 Good Value\n    quadrant-3 Budget Option\n    quadrant-4 Not Recommended\n    \"Monocrystalline PERC\"[0.9, 0.8]\n    \"Standard Mono\"[0.7, 0.7]\n    \"Polycrystalline\"[0.5, 0.5]\n    \"Thin Film\"[0.4, 0.9]\n    \"Bifacial\"[0.8, 0.7]\n\n\n<!-- \nNOTES:\n- Explain differences between technologies in detail\n- Show samples of each type if available\n- Discuss cost vs. performance tradeoffs\n- Recommend monocrystalline for Mosul's heat\n- Show actual examples from local market\n-->\n\n---\n\n# Authentic vs. Counterfeit Panels\n\n![width:850px](https://i.ibb.co/QdFP8cq/fake-vs-real.jpg)\n\n- Check serial number format and registration\n- Examine label quality and information\n- Check for certification markings (IEC, TÜV)\n- Verify backsheet manufacturing details\n- Inspect junction box quality and sealing\n- Verify weight (counterfeits often lighter)\n- Buy from authorized dealers only\n\n<!-- \nNOTES:\n- This is a critical issue highlighted by both expert interviews\n- Show specific examples of counterfeit vs. genuine if available\n- Discuss telltale signs of counterfeit panels\n- Explain how to verify authenticity with manufacturers\n- Share experiences with counterfeit failures\n-->\n\n---\n\n# Battery Technologies\n\nmermaid\nclassDiagram\n    class BatteryTechnologies {\n        +Types\n        +Selection Criteria\n    }\n    \n    class \"Lithium Ion\" {\n        +80% DoD\n        +3000-5000 cycles\n        +No maintenance\n        +High upfront cost\n        +Better temperature tolerance\n        +High counterfeit risk\n    }\n    \n    class \"AGM Lead-Acid\" {\n        +50% DoD\n        +1000-1500 cycles\n        +Low maintenance\n        +Medium cost\n        +Temperature sensitive\n        +Medium counterfeit risk\n    }\n    \n    class \"Flooded Lead-Acid\" {\n        +50% DoD\n        +500-1000 cycles\n        +High maintenance\n        +Lowest cost\n        +Temperature sensitive\n        +Low counterfeit risk\n    }\n    \n    BatteryTechnologies <|-- \"Lithium Ion\"\n    BatteryTechnologies <|-- \"AGM Lead-Acid\"\n    BatteryTechnologies <|-- \"Flooded Lead-Acid\"\n\n\n<!-- \nNOTES:\n- Compare battery technologies in detail\n- Discuss maintenance requirements for each type\n- Explain why lithium is better despite higher cost\n- Discuss counterfeit battery issues in Iraqi market\n- Show warning signs of counterfeit batteries\n-->\n\n---\n\n# Battery Counterfeit Detection\n\n![width:900px](https://i.ibb.co/gdc57wm/fake-battery.jpg)\n\n## Warning Signs:\n- Unusually low prices (more than 25% below market)\n- Weight discrepancies (counterfeits lighter)\n- Poor terminal construction\n- Missing or poorly printed labels\n- Incorrect or inconsistent serial numbers\n- Unusual packaging or shipping damage\n- Rapid capacity degradation\n\n<!-- \nNOTES:\n- This is a serious issue in the Iraqi market\n- Show examples of counterfeit products if available\n- Discuss how to verify authentic products\n- Share trusted supplier contacts in Mosul\n- Emphasize that counterfeits can be dangerous (fire risk)\n-->\n\n---\n\n# Inverter Technologies\n\nmermaid\nmindmap\n    root((Inverter Types))\n        String Inverters\n            Lower Cost\n            No Battery Integration\n            Single/Few MPPT\n            Grid-Tied Focus\n        Hybrid Inverters\n            Battery Integration\n            Multiple Operating Modes\n            Backup Capability\n            Most Common in Mosul\n        Microinverters\n            Panel-Level MPPT\n            No Single Point of Failure\n            Higher Cost\n            Rare in Iraq\n        Power Optimizers\n            Panel-Level MPPT\n            Works with String Inverter\n            Better Shade Tolerance\n            Medium Cost Increase\n\n\n<!-- \nNOTES:\n- Compare inverter technologies in detail with actual examples\n- Explain MPPT (Maximum Power Point Tracking)\n- Discuss pure sine wave vs. modified sine wave\n- Hybrid inverters most common in Mosul installations\n- Show examples of each type if available\n-->\n\n---\n\n# ACTIVITY: Specification Comparison\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1512758017271-d7b84c2113f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Form groups of 3-4\n2. Compare specification sheets provided\n3. Identify key differences between components\n4. Create comparison matrix\n5. Determine best option for Mosul conditions\n6. Present your recommendations (2 min per group)\n\n<!-- \nNOTES:\n- Distribute specification sheets for different components\n- Include some counterfeit/suspicious specifications\n- Have groups identify quality indicators\n- Discuss findings and recommendations as a class\n- Highlight good observations during presentations\n-->\n\n---\n\n# ☕ BREAK TIME (15 minutes)\n\n![bg](https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=1337&q=80)\n\n<!-- \nNOTES:\n- Set up for the Bill of Materials workshop during break\n- Prepare price lists and templates\n- This is a good time to answer individual questions\n- Prepare component stations for afternoon activities\n-->\n\n---\n\n# Creating a Bill of Materials\n\nmermaid\nmindmap\n    root((Bill of Materials))\n        Major Components\n            Solar Panels\n            Inverters\n            Batteries\n            Charge Controllers\n        Mounting System\n            Rails\n            Clamps\n            Fasteners\n            Structural Supports\n        Electrical\n            DC Cables\n            AC Cables\n            MC4 Connectors\n            Junction Boxes\n        Protection Devices\n            DC Breakers\n            AC Breakers\n            Surge Protection\n            Fuses\n            Grounding\n        Documentation\n            Labels\n            Schematics\n            User Manual\n            Warranties\n\n\n<!-- \nNOTES:\n- Emphasize comprehensive BoM as mark of professionalism\n- Discuss common forgotten items that cause delays\n- Show example of complete professional BoM\n- Explain how thorough BoM prevents unnecessary site visits\n- These omissions were specifically mentioned by experts\n-->\n\n---\n\n# Levelized Cost of Energy (LCOE)\n\n**LCOE = Total Lifetime Cost ÷ Total Lifetime Energy Production**\n\nComponents of lifetime cost:\n- Initial system cost\n- Replacement components (batteries, inverter)\n- Maintenance and cleaning\n- Financing costs (if applicable)\n\nFor 5kWh/day Mosul system:\n- 25-year production: 5 kWh × 365 × 25 = 45,625 kWh\n- Total lifetime cost: ~10,000,000 IQD\n- **LCOE = 10,000,000 ÷ 45,625 = 219 IQD/kWh**\n\n<!-- \nNOTES:\n- Explain LCOE as \"true cost per kWh\" over system life\n- Work through example calculation on whiteboard\n- Compare with generator (250-300 IQD/kWh) and grid (70 IQD/kWh)\n- Discuss how to use LCOE in customer presentations\n- This is a powerful selling tool when properly calculated\n-->\n\n---\n\n# ACTIVITY: Bill of Materials Workshop\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n1. Using the system you sized on Day 2\n2. Create complete bill of materials\n3. Include ALL necessary components\n4. Research current prices in Mosul\n5. Calculate total system cost\n6. Calculate LCOE over 25-year lifespan\n7. Compare with generator electricity cost\n\n<!-- \nNOTES:\n- Distribute BoM templates and price lists\n- Ensure groups include all necessary components\n- Check for forgotten items (cables, connectors, etc.)\n- Provide feedback on completeness and accuracy\n- Emphasize professional presentation of BoM\n-->\n\n---\n\n# DC vs. AC Electrical Safety\n\nmermaid\nclassDiagram\n    class \"DC Characteristics\" {\n        +Doesn't cross zero\n        +Arcs don't self-extinguish\n        +Special disconnects required\n        +Higher voltage in solar (up to 600V+)\n        +Different fault behavior\n    }\n    \n    class \"AC Characteristics\" {\n        +Crosses zero 100-120 times per second\n        +Arcs self-extinguish\n        +Standard disconnects work\n        +Household voltage (220-240V)\n        +Predictable fault behavior\n    }\n    \n    class \"Safety Implications\" {\n        +AC breakers CANNOT be used for DC\n        +DC requires special equipment\n        +Improper components cause fires\n        +AC experience doesn't transfer to DC\n        +Different PPE requirements\n    }\n    \n    \"DC Characteristics\" --> \"Safety Implications\"\n    \"AC Characteristics\" --> \"Safety Implications\"\n\n\n<!-- \nNOTES:\n- This is extremely important safety information\n- Emphasize that many fires in Iraq caused by improper components\n- Show photos of failures if available\n- Be graphic about consequences to emphasize seriousness\n- This was highlighted as a critical issue by both experts\n-->\n\n---\n\n# DC-Specific Components\n\n| Component | Requirements | Common Mistakes in Iraq |\n|-----------|--------------|----------------|\n| **Cables** | Double-insulated, UV-resistant, 90°C+ | Using AC house wiring |\n| **Connectors** | MC4 or equivalent, proper crimping | Hand-twisted connections |\n| **Breakers** | DC-rated for system voltage | Using AC breakers |\n| **Disconnects** | DC-rated with proper interruption capacity | Using AC disconnects |\n| **Fuses** | gPV-rated for solar applications | Using standard fuses |\n\n<!-- \nNOTES:\n- Explain each component's requirements in detail\n- Show examples of proper vs. improper components\n- Emphasize that proper components cost more but are essential\n- Discuss local availability of proper components\n- Show actual examples if possible during this section\n-->\n\n---\n\n# DC vs AC Component Example\n\n![width:900px](https://i.ibb.co/0mkLLvd/dc-ac-breaker.jpg)\n\n- Left: Proper DC circuit breaker\n- Right: AC circuit breaker (UNSAFE for solar)\n- DC-rated costs more but prevents fires\n- Improper components are leading cause of solar fires in Iraq\n- Never substitute AC components to save money\n\n<!-- \nNOTES:\n- Show physical examples of these components if available\n- Explain visible differences between them\n- Discuss why AC breakers fail in DC applications\n- Share specific examples of failures if available\n- This is a critical safety issue that must be understood\n-->\n\n---\n\n# DEMONSTRATION: DC Safety\n\n![bg right:40% 90%](https://i.ibb.co/r4dQVf7/safety-demo.jpg)\n\n## Observer Safety Demonstration:\n- Proper vs. improper connectors\n- Proper cable stripping technique\n- MC4 connector assembly\n- Testing connection security\n- Protection device operation\n\n<!-- \nNOTES:\n- Perform live demonstration of proper techniques\n- Show common mistakes to avoid\n- Emphasize safety at every step\n- Discuss personal protective equipment requirements\n- Have each trainee practice if time and equipment allow\n-->\n\n---\n\n# Panel Cleaning Requirements\n\n![width:900px](https://i.ibb.co/TtDVP0h/panel-cleaning.jpg)\n\n- Dust reduces output by 5-10% in Mosul conditions\n- Clean panels regularly (monthly minimum)\n- Clean only at dawn/dusk (avoid thermal shock)\n- Use soft brushes and appropriate cleaning solutions\n- Document output before and after cleaning\n- Create cleaning contracts for additional revenue\n\n<!-- \nNOTES:\n- This addresses a key issue raised by both expert interviews\n- Many systems in Iraq fail due to inadequate cleaning\n- Demonstrate proper cleaning techniques if possible\n- Show before/after performance examples\n- This can be additional revenue stream for installers\n-->\n\n---\n\n# ACTIVITY: Component Stations Rotation\n\nmermaid\nflowchart TD\n    subgraph \"Station Rotation System\"\n        A[20 Trainees] --> B[4 Stations × 5 People]\n        B --> C[Station 1:<br>Panels & Mounting]\n        B --> D[Station 2:<br>Batteries & Wiring]\n        B --> E[Station 3:<br>Inverters & Controllers]\n        B --> F[Station 4:<br>Safety & Testing]\n        \n        C & D & E & F --> G[Rotate Every 20 Minutes]\n        G --> H[Complete All Stations]\n    end\n    \n    style A fill:#e3f2fd,stroke:#1976d2\n    style B fill:#e3f2fd,stroke:#1976d2\n    style G fill:#e8f5e9,stroke:#388e3c\n    style H fill:#e1f5fe,stroke:#0288d1\n\n\n<!-- \nNOTES:\n- This implements Muayad's rotation system\n- Ensure each station has necessary materials and tools\n- Assign an assistant to each station if possible\n- Ensure everyone gets hands-on experience\n- This is critical practical knowledge for all participants\n-->\n\n---\n\n# Wiring and Connections\n\n![width:900px](https://i.ibb.co/JvfSP3T/wiring.jpg)\n\n## Critical Factors:\n- Proper wire sizing (ampacity, voltage drop)\n- UV and weather resistance\n- Secure connections (MC4, terminal blocks)\n- Proper grounding\n- Physical protection and conduit\n- Label all connections\n\n<!-- \nNOTES:\n- Explain proper wire sizing calculation\n- Demonstrate MC4 connector assembly\n- Discuss proper grounding techniques\n- Show examples of good and poor connections\n- Emphasize importance of proper torque on connections\n-->\n\n---\n\n# DEMONSTRATION: MC4 Connector Assembly\n\n![width:850px](https://i.ibb.co/VJnChbq/mc4-assembly.png)\n\n<!-- \nNOTES:\n- Perform live demonstration of MC4 assembly\n- Show proper stripping technique (exact measurements)\n- Demonstrate proper crimping\n- Explain weather sealing importance\n- Let trainees examine assembled connectors\n- Have trainees practice if equipment available\n-->\n\n---\n\n# Quality Control Checklist\n\nmermaid\nmindmap\n    root((Quality Control))\n        Components\n            Match Specifications\n            No Physical Damage\n            Authentic Products\n            Proper Documentation\n        Installation\n            Secure Mounting\n            Proper Wire Routing\n            Component Spacing\n            Weather Protection\n        Electrical\n            Correct Polarity\n            Proper Torque\n            Voltage Verification\n            Continuity Testing\n        Documentation\n            System Diagram\n            Component Manuals\n            Warranty Information\n            Maintenance Schedule\n\n\n<!-- \nNOTES:\n- Emphasize importance of quality control throughout process\n- Show example of comprehensive QC checklist\n- Discuss common quality failures in the field\n- Explain importance of proper documentation\n- This separates professionals from amateurs\n-->\n\n---\n\n# Day 3 Summary\n\n- Selected appropriate components based on specifications\n- Created comprehensive bill of materials\n- Understood critical DC safety requirements\n- Learned to identify counterfeit components\n- Practiced proper wiring and connection techniques\n- Explored station-based hands-on learning\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1498429089284-41f8cf3ffd39?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Briefly review key concepts from Day 3\n- Address any outstanding questions\n- Preview Day 4 topics\n- Remind about any homework assignments\n- Prepare morning question for tomorrow\n-->\n\n---\n\n# Day 3 Assessment\n\nPlease complete:\n- Component selection matrix\n- Bill of materials with all components\n- LCOE calculation\n- DC safety quiz\n\nThese will be reviewed at the start of Day 4.\n\n<!-- \nNOTES:\n- Collect completed worksheets for review\n- Mark areas for improvement on each submission\n- Identify trainees who may need additional support\n- Prepare feedback to deliver at start of Day 4\n- Explain the expectations for Day 4\n-->\n\n---\n\n# Coming in Days 4-6...\n\nmermaid\ntimeline\n    title Training Program: Coming Next\n    section Day 4\n        Installation Practices : \"Hands-on mounting, wiring, connections\"\n        Safety Protocols : \"Live demonstration of installation safety\"\n    section Day 5\n        Commissioning : \"Testing and activation\"\n        Maintenance : \"Regular service, cleaning, troubleshooting\"\n    section Day 6\n        Business Models : \"Sales, operations, customer service\"\n        Capstone Project : \"Complete system design and presentation\"\n\n\n<!-- \nNOTES:\n- Preview the remaining training days\n- Emphasize the progression from theory to practice\n- Mention the capstone project requirements\n- Build excitement for the hands-on portions\n- Ensure everyone knows what to bring tomorrow\n-->\n\n---\n\n# Questions Before We Continue?\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Take time for any remaining questions\n- Address any concepts that seem unclear\n- This is a good time to check understanding before proceeding\n- Consider a quick verbal quiz to assess comprehension\n- Identify any topics that need reinforcement tomorrow\n-->\n\n---\n\n# Thank You for Days 1-3!\n\n![bg right:30% 80%](https://images.unsplash.com/photo-1544377193-33dcf4d68fb5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n## Next Session:\n- Hands-on installation practices\n- Mounting systems and wind-load calculations\n- Wiring and connections\n- Quality assurance and documentation\n\n**Reminder: Bring appropriate clothing for practical work**\n\n<!-- \nNOTES:\n- Ensure everyone knows the schedule for the next session\n- Remind about appropriate clothing for installation work\n- Collect all assessment materials\n- Thank participants for their engagement\n- Build excitement for the next phase of training\n-->]]]\nChatGPT said:\nThanks for the detailed background. Here’s a refined version of your prompt that:\nTakes into account slide sizing and visual issues,\nAdds reasoning steps before diagram generation,\nClarifies the review scope (KESK, Module 2, Mosul facilitation guide),\nIncorporates strategic selection from all valid Mermaid diagram types,\nOutputs code correctly for your makeslides.py process.\n✅ REFINED SLIDE GENERATION PROMPT (for GPT-4 or o3)\nPrompt Title: Generate BEIT Solar Training Slides in Markdown with Mermaid Diagrams\nPrompt:\nYou are an expert instructional designer preparing technical training slides for a Solar Energy Installation Program in Iraq. You will:\n1. INPUT MATERIALS\nReview the following training content:\nBEIT Solar Energy Facilitation Guide (main structure and trainer script)\nKESK Solar Training Curriculum (reference for technical flow and vocabulary)\nModule 2: Solar Energy and Energy Modeling (content inspiration and modeling tools)\nPrevious slide markdown (1-3.md) and its issues with sizing/mermaid rendering\n2. SLIDE STRATEGY\nBefore generating slides, consider:\nWhat are the learning objectives and daily themes for the specified day(s)?\nWhat is the best visual representation for each concept (e.g., flowchart, quadrant, mindmap)?\nLimit diagrams to max 1 per slide and ensure they fit within the frame (avoid overflow).\nAvoid experimental Mermaid types unless well-supported and critical (e.g., skip C4, Sankey unless justified).\nOnly use diagrams that visually reinforce understanding or simplify comparisons.\nFor pie charts, ensure values total to ~100% and match real data where possible.\n3. DIAGRAM TYPES CONSIDERED (mermaid.js):\n✅ Flowchart, ✅ Sequence Diagram, ✅ Timeline, ✅ Pie, ✅ Quadrant, ✅ Class Diagram, ✅ Mindmap, ✅ GitGraph, ✅ Gantt (only if appropriate for timing)\n4. SLIDE OUTPUT FORMAT\nProduce a markdown document with the following format:\n---\nmarp: true\ntheme: default\npaginate: true\nbackgroundColor: #fafafa\nheader: \"Solar Energy System Design & Installation Training\"\nfooter: \"BEIT Project – Mosul, Iraq\"\nstyle: |\n  section {\n    font-size: 30px;\n  }\n  h1 {\n    color: #1e88e5;\n  }\n  h2 {\n    color: #26a69a;\n  }\n  img.mermaid-diagram {\n    display: block;\n    margin: 0 auto;\n    max-width: 90%;\n    border-radius: 5px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n    background-color: white;\n    padding: 10px;\n  }\n---\n\n# Slide Title\n\nSlide content here.\n\n```mermaid\n[valid diagram here]\n<!-- TRAINER NOTES: - Add 2–3 talking points for the trainer here. -->\n\n---\n\n### 5. OUTPUT\nReturn the complete markdown file for the requested **training day(s)** only. Think carefully about:\n- Which diagrams help most (e.g., a quadrant to compare battery types, mindmap for assessment steps),\n- The order of explanation and flow,\n- Realistic Mosul-based examples.\n\n---\n\nLet me know which day(s) you want to run this for (e.g. \"Day 4 only\" or \"Intro + Days 1-2\") and I can insert your specific request into this format. Want me to prepare that next?\nYou said:\nwhat are the slide strategies that we can take from the facilitation guide so we can sort of have a \"template\" for what slides we should have for each day - since the days have a sort of pattern - maybe review the day by day structure for each day and see if there can be a \"templated\" pattern we can derive from it \nChatGPT said:\n\nThought for 14 seconds\nHere’s a “day-by-day” slide template distilled from the facilitation guide’s recurring patterns. You can use this as a blueprint for every training day:\n1. Daily Slide‐Deck Template\n\nSlide #\tSlide Type\tPurpose\n1\tDay X Title & Agenda\tIntroduce the day’s theme, timings & major modules.\n2\tMorning Review Question\tSingle‐question recall from previous day to prime learners.\n3\tLearning Objectives\t3–5 clear “By the end of today you will…” bullets.\n4\tMaterials & Setup\tWhat you’ll need (tools, worksheets, stations).\n5\tModule 1: Concept\tKey theory / principle—lean on visuals (e.g. diagram).\n6\tModule 1: Demo / Diagram\tOne Mermaid (flowchart, class, quadrant, etc.) or photo.\n7\tModule 1: Activity\tGroup size, timing, instructions, expected deliverable.\n8\tModule 2: Concept\tNext technical concept, theory → practice link.\n9\tModule 2: Demo / Diagram\tAnother visual (mind-map, pie chart, sequence, etc.).\n10\tModule 2: Activity\tHands-on/practical exercise instructions.\n11\tPost-Module Assessment\t“Revisit morning scenario” or quiz instructions.\n12\tDaily Review & Reflection\tSticky-note prompts: “What I learned / Interesting / Questions.”\n13\tPreview & Homework\tQuick “Tomorrow we will…” + any prep or take-aways.\n2. Slide‐Design Strategies\n\nConsistency of Structure\n– Every day starts with a title/agenda and ends with a reflection & preview.\n– Use identical slide layouts each morning and afternoon so trainees know what to expect.\nLean Text + Strong Visuals\n– Keep text to bullet-points (no more than 5 per slide).\n– Whenever you introduce a concept, follow immediately with a visual:\n– Flowchart for processes (site assessment, load calc)\n– Quadrant for tech comparisons (battery or inverter trade-offs)\n– Mind-map for multi-factor assessments (site assessment checklist)\n– Pie or bar to show local data (market share, load distribution)\nAnchor in Local Context\n– Use real Mosul examples: “Diesel generators at 12,000 IQD/amp,”\n– Photos of local failures (dust-clogged panels, shifted racks)\n– Maps or sun-path diagrams specific to Mosul (36.3° N).\nClear Activity Slides\n– Title (“Activity: Load Calculation Workshop”)\n– Steps numbered 1–6\n– Group size and timing (“Pairs for 20 min”)\n– Materials call-out (“Watt-meters, worksheets, calculators”)\nFormative Checks Built In\n– Morning review: 1 question from yesterday.\n– Post-Module quiz or scenario revisit.\n– Daily reflection: sticky-notes on “What I Learned / Interesting / Questions.”\nTrainer Notes in Comments\n– Hidden notes with facilitation tips: common questions, local anecdotes, timing reminders.\n3. Example: Day 1 “Site Assessment & Load Analysis”\n\nSlide #\tContent Summary\tVisual / Format\n1\tDay 1 • Site Assessment & Load Analysis\nAgenda: 9:30 – Intro, 10:00 – Components, …\tText + simple timeline mermaid\n2\tMorning Review\nQ: “What are 3 key site-assessment factors?”\tSingle-question text\n3\tObjectives\n• Perform roof walk-through\n• Use compass & clinometer\n• Calculate amp-based load\t3–5 bullets\n4\tMaterials & Stations\nCompass, clinometer-apps, Google Earth, site forms\tPhoto icons + list\n5\tModule 1: Site Assessment Principles\nKey factors (Physical, Electrical, Environmental, Customer)\tMermaid mindmap\n6\tDemo: Wind & Shade\nHow 50 m/s gusts shift racks; partial shade → 25–50% loss\tPhoto + short caption\n7\tActivity: Site Survey\nTeams of 4–5, 45 min, tools, deliver photos & forms\tNumbered instructions + timer icon\n8\tModule 2: Load Calculation Fundamentals\nWhy amp-focus in Mosul\tBullet + small formula call-out\n9\tDemo: Watt-Meter Use\nPlug-in meter photo + sample reading table\tPhoto + table\n10\tActivity: Load Workshop\nPairs, 30 min, calculate your home / case-study\tWorksheet link + steps\n11\tPost-Module Assessment\nRevisit Ahmed’s Coffee Shop scenario\tScenario text + response prompts\n12\tDaily Review\nYellow: Learned, Green: Interesting, Pink: Questions\tSticky-note graphic\n13\tPreview Day 2\nSystem Sizing & Financial Analysis; bring calculators\t1-line text + icon\nBy following this template and these design strategies, every day’s deck will feel familiar, focused, and highly interactive—just like the facilitation guide itself.\nYou said:\ncan you review this guide for slides - think about the prompt we need to be able to take our facilitation guide and generate slides from it, should we have an intermediate step where we make a table? or should we go straight for the MD? \nMaybe we should have the prompt first review the days, decide the general outline based on the template, think about the graphs and slides that might be necessary to help operationalize it, compare it with kesk and other training guides and then producing the markdown with the mermaid inside o fit? review the whole document and reflect on 5 pros and 5 cons for how to use it produce an output of markdown with mermaid that's valid, that has some nice visuals, that doesn't have images svgs that expand outside the edge of the frame, that has nice photos when needed and return the whole slide generator as an MD that i can add as context to a prompt and thne copy and paste the prompt and update the day i want it to produce - what do you think? Slides Guide: \nwhat are the slide strategies that we can take from the facilitation guide so we can sort of have a \"template\" for what slides we should have for each day - since the days have a sort of pattern - maybe review the day by day structure for each day and see if there can be a \"templated\" pattern we can derive from it \nChatGPT said:\nThought for 14 seconds\nHere’s a “day-by-day” slide template distilled from the facilitation guide’s recurring patterns. You can use this as a blueprint for every training day:\n\n1. Daily Slide‐Deck Template\nSlide #\nSlide Type\nPurpose\n1\nDay X Title & Agenda\nIntroduce the day’s theme, timings & major modules.\n2\nMorning Review Question\nSingle‐question recall from previous day to prime learners.\n3\nLearning Objectives\n3–5 clear “By the end of today you will…” bullets.\n4\nMaterials & Setup\nWhat you’ll need (tools, worksheets, stations).\n5\nModule 1: Concept\nKey theory / principle—lean on visuals (e.g. diagram).\n6\nModule 1: Demo / Diagram\nOne Mermaid (flowchart, class, quadrant, etc.) or photo.\n7\nModule 1: Activity\nGroup size, timing, instructions, expected deliverable.\n8\nModule 2: Concept\nNext technical concept, theory → practice link.\n9\nModule 2: Demo / Diagram\nAnother visual (mind-map, pie chart, sequence, etc.).\n10\nModule 2: Activity\nHands-on/practical exercise instructions.\n11\nPost-Module Assessment\n“Revisit morning scenario” or quiz instructions.\n12\nDaily Review & Reflection\nSticky-note prompts: “What I learned / Interesting / Questions.”\n13\nPreview & Homework\nQuick “Tomorrow we will…” + any prep or take-aways.\n\n\n2. Slide‐Design Strategies\nConsistency of Structure\n– Every day starts with a title/agenda and ends with a reflection & preview.\n– Use identical slide layouts each morning and afternoon so trainees know what to expect.\nLean Text + Strong Visuals\n– Keep text to bullet-points (no more than 5 per slide).\n– Whenever you introduce a concept, follow immediately with a visual:\n– Flowchart for processes (site assessment, load calc)\n– Quadrant for tech comparisons (battery or inverter trade-offs)\n– Mind-map for multi-factor assessments (site assessment checklist)\n– Pie or bar to show local data (market share, load distribution)\nAnchor in Local Context\n– Use real Mosul examples: “Diesel generators at 12,000 IQD/amp,”\n– Photos of local failures (dust-clogged panels, shifted racks)\n– Maps or sun-path diagrams specific to Mosul (36.3° N).\nClear Activity Slides\n– Title (“Activity: Load Calculation Workshop”)\n– Steps numbered 1–6\n– Group size and timing (“Pairs for 20 min”)\n– Materials call-out (“Watt-meters, worksheets, calculators”)\nFormative Checks Built In\n– Morning review: 1 question from yesterday.\n– Post-Module quiz or scenario revisit.\n– Daily reflection: sticky-notes on “What I Learned / Interesting / Questions.”\nTrainer Notes in Comments\n– Hidden notes with facilitation tips: common questions, local anecdotes, timing reminders.\n\n3. Example: Day 1 “Site Assessment & Load Analysis”\nSlide #\nContent Summary\nVisual / Format\n1\nDay 1 • Site Assessment & Load Analysis\nAgenda: 9:30 – Intro, 10:00 – Components, …\nText + simple timeline mermaid\n2\nMorning Review\nQ: “What are 3 key site-assessment factors?”\nSingle-question text\n3\nObjectives\n• Perform roof walk-through\n• Use compass & clinometer\n• Calculate amp-based load\n3–5 bullets\n4\nMaterials & Stations\nCompass, clinometer-apps, Google Earth, site forms\nPhoto icons + list\n5\nModule 1: Site Assessment Principles\nKey factors (Physical, Electrical, Environmental, Customer)\nMermaid mindmap\n6\nDemo: Wind & Shade\nHow 50 m/s gusts shift racks; partial shade → 25–50% loss\nPhoto + short caption\n7\nActivity: Site Survey\nTeams of 4–5, 45 min, tools, deliver photos & forms\nNumbered instructions + timer icon\n8\nModule 2: Load Calculation Fundamentals\nWhy amp-focus in Mosul\nBullet + small formula call-out\n9\nDemo: Watt-Meter Use\nPlug-in meter photo + sample reading table\nPhoto + table\n10\nActivity: Load Workshop\nPairs, 30 min, calculate your home / case-study\nWorksheet link + steps\n11\nPost-Module Assessment\nRevisit Ahmed’s Coffee Shop scenario\nScenario text + response prompts\n12\nDaily Review\nYellow: Learned, Green: Interesting, Pink: Questions\nSticky-note graphic\n13\nPreview Day 2\nSystem Sizing & Financial Analysis; bring calculators\n1-line text + icon\n\n\nGuides for slides: \n\nWe want slides to guide our facilitators in delivering our solar training, the slides need to have hidden speaker notes with relevant information for them. we are using markdown with embedded mermaid diagrams inside of it to create slides, we first process the markdown to generate SVGs from the mermaid diagrams and then we update the markdown to include an image instead of mermaid. Then we output the slides as a pptx or pdf. In order for this to work well, we need to choose good diagrams for using in slides, they need to be the right size and without too much text, here are some Diagram Transformation Guide for Solar Training\nBelow I'll provide specific strategies for transforming the problematic diagrams in your solar training materials.\n\nGeneral Recommendations for Mermaid in Presentations\n\nChoose the right diagram type:\n\nUse timeline for sequential, time-based processes\nUse mindmap for hierarchical relationships\nUse pie charts for proportion data\nUse quadrant charts for 2x2 comparisons\nUse classDiagram for hierarchical structures\n\n\nLimit node count:\n\nKeep diagrams to 10-15 nodes maximum per slide\nBreak complex diagrams into multiple, simpler diagrams\n\n\nUse vertical orientation:\n\nWhen showing flows, prefer TD (top-down) over LR (left-right)\nThis works better with typical slide dimensions\n\n\nUse styles effectively:\n\nUse colors to group related items\nUse different node shapes to distinguish types\nKeep text brief in nodes (3-5 words max)\n\n\nSplit complex processes:\n\nBreak down long processes into multiple diagrams\nShow one stage per slide, then a simplified overview\n\n\n\nApplying These Principles to Your Solar Training\nFor your specific Solar Training materials, here are some targeted improvements:\n\nFor system flows: Use flowchart TD instead of LR and limit to 5-7 steps per diagram\nFor component comparisons: Use classDiagram or quadrantChart instead of complex flowcharts\nFor hierarchical structures: Use mindmap for site assessment and component selection\nFor timelines: Use timeline for training schedule and installation sequence\nFor proportions: Keep using pie charts for load distribution and cost breakdown \n\n\nHere's an example of our Markdown+mermaid.js marp file: ---\nmarp: true\ntheme: default\npaginate: true\nbackgroundColor: #fafafa\nbackgroundImage: url('https://marp.app/assets/hero-background.jpg')\nheader: 'Solar Energy System Design & Installation Training'\nfooter: 'BEIT Project - Mosul, Iraq'\nstyle: |\n  section {\n    font-size: 30px;\n  }\n  h1 {\n    color: #1e88e5;\n  }\n  h2 {\n    color: #26a69a;\n  }\n  img.mermaid-diagram {\n    display: block;\n    margin: 0 auto;\n    border-radius: 5px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n    background-color: white;\n    padding: 10px;\n  }\n  .chart-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 70%;\n  }\n---\n\n<!-- \nTRAINER NOTES:\n- This slide deck covers Days 1-3 of the 6-day training\n- Hidden notes are for trainer guidance only\n- Customize examples to match local Mosul conditions\n- Real-time demonstrations should supplement slides\n- Encourage questions throughout each session\n-->\n\n# Solar Energy System Design & Installation Training\n\n## Days 1-3: Core Fundamentals\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1597045315639-9df6c171e73b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n---\n\n# Training Overview\n\n## Six-Day Comprehensive Program\n\nmermaid\ntimeline\n    title Training Program Schedule\n    section Week 1\n      Day 1: Site Assessment & Load Analysis : Fundamentals\n      Day 2: System Sizing & Financial Analysis : Design\n      Day 3: Component Selection & Safety : Selection\n    section Week 2\n      Day 4: Installation & Safety Protocols : Installation\n      Day 5: Commissioning & Maintenance : Operations\n      Day 6: Business Models & Capstone Project : Business\n\n\n<!-- \nNOTES: \n- Emphasize the comprehensive nature of the training\n- Connect how each day builds on previous knowledge\n- Highlight the balance of theory (mornings) and practice (afternoons)\n- Point out that certification requires attendance at all sessions\n- Mention the practical rotation system for hands-on portions\n-->\n\n---\n\n# Trainer Introduction\n\n- Name and background\n- Experience in solar industry\n- Contact information\n- Local projects completed in Mosul\n\n![bg right:40% 90%](https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Share your personal experience with solar in Iraq\n- Show photos of your own installations in Mosul if possible\n- Discuss challenges you've overcome in local conditions\n- Establish credibility with practical examples\n- Mention any certification/training credentials you hold\n-->\n\n---\n\n# Trainee Introductions\n\nPlease share:\n- Your name\n- Your background/experience\n- Why you're interested in solar\n- What you hope to learn\n\n![bg right:40% 80%](https://images.unsplash.com/photo-1529448005898-b19fc13465b7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Keep introductions brief (30-60 seconds per person)\n- Note participants with prior experience for potential peer teaching\n- Ask about specific skills (electrical, construction, sales)\n- Create a mental map of skill levels in the room\n- Consider forming balanced groups for later activities\n-->\n\n---\n\n# Training Ground Rules\n\n- Safety is always the top priority\n- Phones on silent but available for apps\n- Questions encouraged anytime\n- Respect all participants\n- Attendance required for certification\n- Everyone must participate in hands-on work\n\n![bg right:30% 80%](https://images.unsplash.com/photo-1555963966-b7ae5404b6ed?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)\n\n<!-- \nNOTES:\n- Emphasize that certification requires both attendance and participation\n- Discuss specific safety rules for electrical components\n- Set expectations for start/end times and breaks\n- Explain bathroom locations and other logistics\n- Mention the daily morning review question system\n-->\n\n---\n\n# Teaching Approach\n\n## Based on Expert Iraqi Solar Trainers\n\n- Morning theory, afternoon practice\n- Daily review question each morning\n- Work in rotating groups of 4-5 trainees\n- Peer teaching of components and concepts\n- Real-world case studies from Mosul\n- Everyone must physically handle components\n\n![bg right:30% 80%](https://images.unsplash.com/photo-1530099486328-e021101a494a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1347&q=80)\n\n<!-- \nNOTES:\n- Based on methods from experienced Iraqi solar trainers\n- This approach ensures everyone gets hands-on experience\n- Rotation system prevents some trainees from just watching\n- Peer teaching improves retention and understanding\n- Case studies connect theory to local market realities\n-->\n\n---\n\n# DAY 1: SITE ASSESSMENT & LOAD ANALYSIS\n\n![bg](https://images.unsplash.com/photo-1611365892117-bdd4d0dactbd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80)\n\n<!-- \nNOTES:\n- Day 1 focuses on understanding the site and customer needs\n- This is the foundation for all system designs\n- Emphasize that poor assessment leads to poor system design\n- Many system failures in Mosul stem from inadequate site assessment\n-->\n\n---\n\n# Iraq's Solar Opportunity\n\nmermaid\nquadrantChart\n    title Mosul's Energy Situation\n    x-axis Lower Cost → Higher Cost\n    y-axis Less Reliable → More Reliable\n    quadrant-1 High Cost, High Reliability\n    quadrant-2 Low Cost, High Reliability\n    quadrant-3 Low Cost, Low Reliability\n    quadrant-4 High Cost, Low Reliability\n    Solar Systems[0.7, 0.9]\n    National Grid[0.2, 0.3]\n    Diesel Generators[0.9, 0.6]\n\n\n<!-- \nNOTES:\n- Iraq has exceptional solar resources (5-5.5 peak sun hours)\n- Connect solar benefits to daily challenges Mosul residents face\n- The diesel price continues to increase (up to 1,200 IQD/liter)\n- Central Bank now offers preferential loans for green projects\n- Property value increases are a selling point many installers miss\n-->\n\n---\n\n# Solar Market in Mosul\n\nmermaid\npie\n    title \"Current Power Sources in Mosul Homes\"\n    \"National Grid\" : 45\n    \"Diesel Generators\" : 50\n    \"Solar Systems\" : 5\n\n\n- Market is in early growth stage (~5% penetration)\n- High reliance on neighborhood generators\n- Primary customer concern: reliability over cost\n- Most systems are hybrid (grid + battery backup)\n- Typical system size: 1-3 kW for residential\n\n<!-- \nNOTES:\n- Share local market information from experienced installers\n- Discuss current penetration rate and growth trend\n- Explain that many customers prioritize reliability over cost savings\n- Discuss common battery capacity requests (1-2 days autonomy)\n- Mention price sensitivity and financing challenges\n-->\n\n---\n\n# Solar Basics\n\n## How Solar PV Works\n\nmermaid\nflowchart LR\n    A[Sunlight] -->|Photovoltaic Effect| B[DC Electricity]\n    B -->|MPPT| C[Charge Controller]\n    C --> D[Battery Storage]\n    C --> E[DC to AC Inverter]\n    E --> F[AC Appliances]\n    D --> E\n    style A fill:#ffeb3b,stroke:#f57f17\n    style B fill:#bbdefb,stroke:#1976d2\n    style C fill:#c8e6c9,stroke:#388e3c\n    style D fill:#e1bee7,stroke:#8e24aa\n    style E fill:#ffcdd2,stroke:#d32f2f\n    style F fill:#ffe0b2,stroke:#f57c00\n\n\n<!-- \nNOTES:\n- Keep the explanation simple but scientifically accurate\n- EMPHASIZE that panels produce but DON'T store energy\n- This is a common misconception noted by interviewed experts\n- Use the analogy of water flow for electricity if helpful\n- Show physical components if available during explanation\n-->\n\n\n\n\n I've identified several key diagrams that need improvement:\n1. Training Overview Flowchart\nOriginal:\nmermaidgraph TB\n    A[Day 1: Site Assessment & Load Analysis] --> B[Day 2: System Sizing & Financial Analysis]\n    B --> C[Day 3: Component Selection & Safety]\n    C --> D[Day 4: Installation & Safety Protocols]\n    D --> E[Day 5: Commissioning & Maintenance]\n    E --> F[Day 6: Business Models & Capstone Project]\nBetter Version:\nmermaidtimeline\n    title Training Program Timeline\n    section Week 1\n        Day 1: Site Assessment & Load Analysis : Foundation\n        Day 2: System Sizing & Financial Analysis : Calculations\n        Day 3: Component Selection & Safety : Selection\n    section Week 2\n        Day 4: Installation & Safety Protocols : Hands-on\n        Day 5: Commissioning & Maintenance : Testing\n        Day 6: Business Models & Capstone Project : Business\n2. Site Assessment Process\nOriginal (too complex):\nmermaidflowchart LR\n    A[Initial Client Discussion] --> B[Site Visit]\n    B --> C[Physical Assessment]\n    B --> D[Electrical Assessment]\n    B --> E[Environmental Assessment]\n    C --> F[Roof Structure]\n    C --> G[Available Area]\n    C --> H[Orientation & Tilt]\n    D --> I[Existing Panel]\n    D --> J[Grounding System]\n    D --> K[Wiring Capacity]\n    E --> L[Shading Analysis]\n    E --> M[Dust/Wind Patterns]\n    E --> N[Temperature Extremes]\n    L & M & N & F & G & H & I & J & K --> O[System Recommendations]\n    O --> P[Customer Proposal]\nBetter Version (Mindmap):\nmermaidmindmap\n    root((Site Assessment))\n        Physical\n            Roof Structure\n            Available Area\n            Orientation & Tilt\n        Electrical\n            Existing Panel\n            Grounding System\n            Wiring Capacity\n        Environmental\n            Shading Analysis\n            Dust/Wind Patterns\n            Temperature Extremes\n        Documentation\n            Photography\n            Measurements\n            Client Requirements\n3. System Types Comparison\nOriginal:\nmermaidgraph TD\n    A[Solar PV System Types] --> B[Grid-tied]\n    A --> C[Off-grid]\n    A --> D[Hybrid]\n    B --> B1[No batteries]\n    B --> B2[Grid backup]\n    B --> B3[Exports excess]\n    C --> C1[Battery storage]\n    C --> C2[No grid connection]\n    C --> C3[Generator backup]\n    D --> D1[Grid connection]\n    D --> D2[Battery backup]\n    D --> D3[Flexible operation]\nBetter Version (using a more compact layout):\nmermaidclassDiagram\n    class \"Solar PV Systems\" {\n        +Types\n    }\n    class \"Grid-tied\" {\n        +No batteries\n        +Grid backup\n        +Exports excess\n    }\n    class \"Off-grid\" {\n        +Battery storage\n        +No grid connection\n        +Generator backup\n    }\n    class \"Hybrid (Most Common in Mosul)\" {\n        +Grid connection\n        +Battery backup\n        +Flexible operation\n    }\n    \n    \"Solar PV Systems\" <|-- \"Grid-tied\"\n    \"Solar PV Systems\" <|-- \"Off-grid\"\n    \"Solar PV Systems\" <|-- \"Hybrid (Most Common in Mosul)\"\n4. Financial Comparison (Solar vs Generator)\nOriginal (complex flowchart):\nmermaidgraph TD\n    subgraph \"Initial Investment\"\n    A1[Solar System: 6,500,000 IQD] \n    A2[Generator: 2,000,000 IQD]\n    end\n    subgraph \"Annual Operating Costs\"\n    B1[Solar: 100,000 IQD]\n    B2[Generator: 819,167 IQD]\n    end\n    subgraph \"10-Year Total Cost\"\n    C1[Solar: 6,500,000 + 1,000,000 + 3,000,000 = 10,500,000 IQD]\n    C2[Generator: 2,000,000 + 8,191,670 + 2,000,000 = 12,191,670 IQD]\n    end \n    A1 --> C1\n    A2 --> C2\n    B1 --> C1\n    B2 --> C2\nBetter Version (using quadrant chart):\nmermaidquadrantChart\n    title Cost Comparison: Solar vs. Generator\n    x-axis Low Cost → High Cost\n    y-axis High Maintenance → Low Maintenance\n    quadrant-1 High Cost, Low Maintenance\n    quadrant-2 Low Cost, Low Maintenance\n    quadrant-3 Low Cost, High Maintenance\n    quadrant-4 High Cost, High Maintenance\n    Solar[0.8, 0.9]\n    Generator[0.3, 0.2]\n    \"Solar (Year 10)\"[0.6, 0.8]\n    \"Generator (Year 10)\"[0.9, 0.1]\n\nChart Recommendations for Solar Training Program (Days 1-3)\nAfter reviewing your solar training facilitation guide, I've identified key visual elements that would enhance learning for Days 1-3. Here are my recommendations organized by day:\nDay 1: Solar Fundamentals & Hands-on Equipment\n1. Current Energy Sources in Mosul (Pie Chart)\nmermaid\npie\n    title \"Current Power Sources in Mosul Homes\"\n    \"National Grid\" : 45\n    \"Diesel Generators\" : 50\n    \"Solar Systems\" : 5\nWhy it works: Shows market opportunity clearly with minimal text\nKey teaching point: Only 5% penetration means huge growth potential\n2. Solar Opportunity in Mosul (Quadrant Chart)\nmermaid\nquadrantChart\n    title Mosul's Energy Situation\n    x-axis Lower Cost → Higher Cost\n    y-axis Less Reliable → More Reliable\n    quadrant-1 High Cost, High Reliability\n    quadrant-2 Low Cost, High Reliability\n    quadrant-3 Low Cost, Low Reliability\n    quadrant-4 High Cost, Low Reliability\n    Solar Systems[0.7, 0.9]\n    National Grid[0.2, 0.3]\n    Diesel Generators[0.9, 0.6]\nWhy it works: Visually positions solar competitively against alternatives\nKey teaching point: Solar offers higher reliability than other options\n3. Solar PV Basics (Simple Flowchart)\nmermaid\nflowchart TD\n    A[Sunlight] -->|Photovoltaic Effect| B[DC Electricity]\n    B --> C[Inverter]\n    C --> D[AC Electricity]\n    D --> E[Home Appliances]\n    B --> F[Charge Controller]\n    F --> G[Battery Storage]\n    G --> C\n    \n    style A fill:#ffeb3b,stroke:#f57f17\n    style B fill:#bbdefb,stroke:#1976d2\n    style C fill:#c8e6c9,stroke:#388e3c\n    style D fill:#ffcdd2,stroke:#d32f2f\n    style E fill:#ffe0b2,stroke:#f57c00\n    style F fill:#e1bee7,stroke:#8e24aa\n    style G fill:#b39ddb,stroke:#512da8\nWhy it works: Simple top-down flow with clear color coding\nKey teaching point: Shows both direct use and storage pathways\n4. Site Assessment Components (Mindmap)\nmermaid\nmindmap\n    root((Site Assessment))\n        Physical\n            Roof Structure\n            Available Area\n            Orientation & Tilt\n        Electrical\n            Existing Panel\n            Grounding System\n            Wiring Capacity\n        Environmental\n            Shading Analysis\n            Dust/Wind Patterns\n            Temperature Extremes\nWhy it works: Organizes complex assessment into logical categories\nKey teaching point: Assessment involves multiple integrated factors\nDay 2: System Components & Wiring\n1. Inverter Selection Framework (Mindmap)\nmermaid\nmindmap\n    root((Inverter Selection))\n        Specifications\n            Input Voltage Range\n            Output Power Rating\n            Surge Capacity\n            Efficiency Rating\n        System Type\n            String Inverter\n            Hybrid Inverter\n            Off-Grid Inverter\n        Environmental\n            Heat Tolerance\n            Dust Protection\n            Warranty Coverage\n        Cost Factors\n            Initial Price\n            Lifespan\n            Efficiency Losses\nWhy it works: Organizes selection criteria visually\nKey teaching point: Multiple factors beyond just price affect decision\n2. DC vs. AC Comparison (Comparison Chart)\nmermaid\nclassDiagram\n    class \"DC Characteristics\" {\n        +Continuous flow direction\n        +No zero-crossing\n        +Sustained arcs\n        +Special breakers required\n        +Thicker cable insulation\n    }\n    \n    class \"AC Characteristics\" {\n        +Alternating flow direction\n        +Regular zero-crossing\n        +Self-extinguishing arcs\n        +Standard breakers\n        +Standard insulation\n    }\nWhy it works: Side-by-side comparison of critical differences\nKey teaching point: DC requires special safety considerations\n3. Battery Types Comparison (Quadrant Chart)\nmermaid\nquadrantChart\n    title Battery Comparison for Mosul\n    x-axis Lower Cost → Higher Cost\n    y-axis Shorter Life → Longer Life\n    quadrant-1 High Cost, Low Performance\n    quadrant-2 High Cost, High Performance\n    quadrant-3 Low Cost, Low Performance\n    quadrant-4 Low Cost, High Performance\n    \"Lead-Acid\"[0.3, 0.2]\n    \"AGM\"[0.5, 0.4]\n    \"Lithium-Ion\"[0.9, 0.9]\n    \"Refurbished (Fake)\"[0.6, 0.1]\nWhy it works: Positions options visually by cost and lifespan\nKey teaching point: Shows why lithium is worth higher upfront cost\n4. Proper System Protection (Flowchart)\nmermaid\nflowchart TD\n    A[Solar Array] --> B{DC Circuit<br>Breaker}\n    B --> C[DC Disconnect]\n    C --> D{SPD}\n    D --> E[Inverter]\n    E --> F{AC Circuit<br>Breaker}\n    F --> G[AC Disconnect]\n    G --> H{SPD}\n    H --> I[Main Panel]\n    J[Battery Bank] --> K{Battery<br>Fuse}\n    K --> L[Battery<br>Disconnect]\n    L --> E\n    \n    style A fill:#ffeb3b,stroke:#f57f17\n    style E fill:#c8e6c9,stroke:#388e3c\n    style I fill:#ffe0b2,stroke:#f57c00\n    style J fill:#b39ddb,stroke:#512da8\n    style B fill:#ff7043,stroke:#e64a19\n    style C fill:#ff7043,stroke:#e64a19\n    style D fill:#ff7043,stroke:#e64a19\n    style F fill:#ff7043,stroke:#e64a19\n    style G fill:#ff7043,stroke:#e64a19\n    style H fill:#ff7043,stroke:#e64a19\n    style K fill:#ff7043,stroke:#e64a19\n    style L fill:#ff7043,stroke:#e64a19\nWhy it works: Shows protection device locations in system\nKey teaching point: Protection needed throughout the entire system\nDay 3: System Integration & Datasheet Reading\n1. Series vs. Parallel Connections (Simple Diagram)\nmermaid\nflowchart TD\n    subgraph \"Series Connection\"\n        S1[Panel 1<br>30V, 9A] --> S2[Panel 2<br>30V, 9A]\n        S2 --> S3[Panel 3<br>30V, 9A]\n        S3 --> S4[Result:<br>90V, 9A]\n    end\n    \n    subgraph \"Parallel Connection\"\n        P1[Panel 1<br>30V, 9A] --> P4[Result:<br>30V, 27A]\n        P2[Panel 2<br>30V, 9A] --> P4\n        P3[Panel 3<br>30V, 9A] --> P4\n    end\nWhy it works: Clear visual comparison of two connection types\nKey teaching point: Series adds voltage, parallel adds current\n2. Component Compatibility Checklist (Mindmap)\nmermaid\nmindmap\n    root((Compatibility<br>Checks))\n        Panel-to-Inverter\n            Voltage Ranges\n            Current Limits\n            Total Power\n        Inverter-to-Battery\n            Voltage Match\n            Communication Protocol\n            Charging Profiles\n        System Integration\n            Wire Sizing\n            Protection Coordination\n            Monitoring Integration\nWhy it works: Organizes checks into logical categories\nKey teaching point: Multiple compatibility checks needed across system\n3. Bill of Materials Structure (Mindmap)\nmermaid\nmindmap\n    root((Complete BOM))\n        Major Components\n            Solar Panels\n            Inverter\n            Batteries\n        Mounting System\n            Rails\n            Clamps\n            Hardware\n        Electrical Components\n            DC Wire\n            AC Wire\n            Connectors\n        Protection Devices\n            Circuit Breakers\n            SPDs\n            Disconnects\n        Documentation\n            System Manual\n            Warranty Papers\nWhy it works: Shows comprehensive BOM organization\nKey teaching point: Many components beyond the obvious main ones\n4. Financial Analysis (Timeline Chart)\nmermaid\ntimeline\n    title System Cost Analysis Over 10 Years\n    section Initial Investment\n        Year 0 : Solar System: 6M IQD\n        Year 0 : Battery System: 3M IQD\n    section Operational Period\n        Years 1-4 : Minimal Maintenance: 400K IQD\n        Year 5 : Lead-Acid Battery Replacement: 3M IQD\n    section Continued Operation\n        Years 6-9 : Minimal Maintenance: 400K IQD\n        Year 10 : Inverter Replacement: 1.5M IQD\nWhy it works: Shows long-term costs and replacement cycles\nKey teaching point: Initial investment + replacement costs over time\nImplementation Recommendations\nFor slide creation:\nUse these Mermaid diagrams directly in your Markdown files\nKeep the color schemes consistent across presentations\nExport SVGs with sufficient resolution for clarity\nFor each diagram:\nInclude brief speaker notes explaining key points\nPrepare simple animations to build complex diagrams step by step\nConsider developing simplified handout versions for reference\nFor maximum impact:\nIntroduce diagrams after initial discussion of concepts\nReference diagrams when making key points about safety or financial considerations\nProvide time for trainees to interpret diagrams before explaining\nWould you like me to elaborate on any particular diagram or suggest additional visualizations for specific content in Days 1-3?\nCharts for Solar Training (Days 4-6)\nAfter reviewing the content for days 4-6, I've identified several high-impact visualizations that would enhance learning and facilitate decision-making. These charts follow your guiding principles of simplicity, local relevance, and practical application.\nDay 4: Mounting Systems & Site Visits\n1. Wind Load Calculator for Mosul (Interactive Flowchart)\nmermaid\nflowchart TD\n    A[Panel Area] -->|multiply| B{Wind Pressure}\n    B -->|Low: 100 N/m²| C[Total Force]\n    B -->|Medium: 200 N/m²| C\n    B -->|High: 300 N/m²| C\n    C -->|multiply by 1.5| D[Safety Factor]\n    D --> E{Mounting Type}\n    E -->|Ballasted| F[Ballast Weight]\n    E -->|Anchored| G[Anchor Strength]\n    \n    style A fill:#f9f9f9,stroke:#666\n    style B fill:#e6f7ff,stroke:#0099cc\n    style C fill:#f9f9f9,stroke:#666\n    style D fill:#ffe6e6,stroke:#cc0000\n    style E fill:#e6f7ff,stroke:#0099cc\n    style F fill:#e6ffe6,stroke:#009933\n    style G fill:#e6ffe6,stroke:#009933\nWhy it works:\nMakes abstract wind load calculations visual and concrete\nDirectly addresses a critical safety issue for Mosul's wind conditions\nProvides a practical decision-making flow that trainees can apply immediately\nIncludes the safety factor that Mohammed emphasized as crucial\n2. Seasonal Sun Path for Mosul (Radial Diagram)\nmermaid\npie\n    title \"Solar Position and Shading Impact by Season\"\n    \"Summer Morning (6 AM)\" : 5\n    \"Summer Noon (12 PM)\" : 25\n    \"Summer Evening (6 PM)\" : 5\n    \"Winter Morning (8 AM)\" : 2\n    \"Winter Noon (12 PM)\" : 10\n    \"Winter Evening (4 PM)\" : 2\nWhy it works:\nVisually demonstrates the dramatic seasonal differences in sun position\nHelps trainees understand why seasonal shading analysis is critical\nConnects directly to the 2-meter building example in Ahmed's coffee shop scenario\nSupports the training emphasis on proper orientation for maximum production\n3. Mounting Failure Risk Matrix (Quadrant Chart)\nmermaid\nquadrantChart\n    title Mounting System Risk Assessment for Mosul\n    x-axis Low Quality → High Quality\n    y-axis Low Wind Exposure → High Wind Exposure\n    quadrant-1 High Risk\n    quadrant-2 Medium Risk\n    quadrant-3 Low Risk\n    quadrant-4 Medium Risk\n    \"Cheap Ballasted, Flat Roof\"[0.2, 0.6]\n    \"Premium Ballasted, Flat Roof\"[0.8, 0.6]\n    \"Cheap Anchored, Flat Roof\"[0.3, 0.7]\n    \"Premium Anchored, Flat Roof\"[0.9, 0.7]\n    \"Cheap Frame, Pitched Roof\"[0.2, 0.9]\n    \"Premium Frame, Pitched Roof\"[0.8, 0.9]\nWhy it works:\nCreates a visual risk assessment tool for mounting decisions\nDirectly addresses Mohammed's emphasis on mounting failures\nProvides a framework for discussing quality vs. environment factors\nSupports the financial conversation about false economy in mounting choices\nDay 5: System Design & Business Skills\n1. 10-Year Total Cost Comparison (Gantt Chart Timeline)\nmermaid\ngantt\n    title 10-Year System Cost Comparison\n    dateFormat  YYYY\n    section Economy System\n        Initial Investment (5.5M IQD) :a1, 2025, 1y\n        Annual Maintenance     :a2, after a1, 5y\n        Higher Maintenance     :a3, after a2, 4y\n        Inverter Replacement (0.8M IQD)  :milestone, 2029, 0d\n        Battery Replacement (1.2M IQD)   :milestone, 2030, 0d\n    section Premium System\n        Initial Investment (7.2M IQD) :b1, 2025, 1y\n        Annual Maintenance     :b2, after b1, 9y\n        Battery Replacement (1.5M IQD)   :milestone, 2032, 0d\nWhy it works:\nVisualizes long-term costs in a timeline format that's easy to understand\nShows the hidden future costs of cheaper initial investments\nMakes a compelling business case for premium components\nDirectly supports the financial ROI discussion for Ahmed's coffee shop scenario\n2. System Performance Under Different Maintenance Schedules (Line Chart)\nmermaid\n%%{init: {'theme': 'forest'}}%%\nxychart-beta\n    title \"System Performance Over Time With Different Maintenance\"\n    x-axis \"Years After Installation\" [0, 1, 2, 3, 4, 5]\n    y-axis \"Performance (%)\" [50, 60, 70, 80, 90, 100]\n    line [100, 95, 90, 85, 80, 75] \"No Maintenance\"\n    line [100, 98, 96, 94, 92, 90] \"Annual Cleaning\"\n    line [100, 99, 98, 97, 96, 95] \"Quarterly Maintenance Package\"\nWhy it works:\nDemonstrates the financial impact of maintenance visually\nMakes the abstract concept of \"performance degradation\" concrete\nSupports the sale of maintenance packages as investments, not costs\nAddresses Hussam's emphasis on dust and cleaning as critical maintenance issues\n3. Customer Communication Decision Tree (Flowchart)\nmermaid\nflowchart TD\n    A[Identify Customer Priority] --> B{Main Concern?}\n    B -->|Cost Savings| C[Focus on ROI and Payback Period]\n    B -->|Reliability| D[Emphasize Quality and Warranty]\n    B -->|Backup Power| E[Highlight Battery Capacity and Runtime]\n    B -->|Environmental| F[Stress CO2 Reduction and Renewability]\n    C --> G[Show Monthly Cash Flow Comparison]\n    D --> H[Compare Component Lifespans]\n    E --> I[Calculate Hours of Critical Load Operation]\n    F --> J[Quantify Environmental Benefits]\n    \n    style A fill:#f9f9f9,stroke:#666\n    style B fill:#e6f7ff,stroke:#0099cc\n    style C fill:#e6ffe6,stroke:#009933\n    style D fill:#e6ffe6,stroke:#009933\n    style E fill:#e6ffe6,stroke:#009933\n    style F fill:#e6ffe6,stroke:#009933\n    style G fill:#ffeecc,stroke:#ff9900\n    style H fill:#ffeecc,stroke:#ff9900\n    style I fill:#ffeecc,stroke:#ff9900\n    style J fill:#ffeecc,stroke:#ff9900\nWhy it works:\nCreates a structured approach to customer communication\nFocuses on identifying and addressing customer priorities\nSupports the sales role-play activity with a clear framework\nAcknowledges different customer motivations while maintaining technical accuracy\nDay 6: Final Assessment & Job Connection\n1. Solar Career Pathways (Mindmap)\nmermaid\nmindmap\n    root((Solar Career Pathways))\n        Technical Track\n            Installation Technician\n            Team Leader\n            Technical Manager\n            Engineering Director\n        Business Track\n            Sales Representative\n            Project Manager\n            Business Development\n            Company Owner\n        Specialized Areas\n            System Designer\n            Maintenance Specialist\n            Financial Analyst\n            Trainer/Educator\nWhy it works:\nVisualizes career progression opportunities in the solar industry\nSupports the professional development planning activity\nHelps trainees identify their preferred pathway\nShows the breadth of opportunities beyond just installation\n2. Employer Expectations Matrix (Class Diagram)\nmermaid\nclassDiagram\n    class \"Technical Skills\" {\n        +Component knowledge\n        +Installation proficiency\n        +Troubleshooting ability\n        +Design competence\n    }\n    \n    class \"Business Skills\" {\n        +Customer communication\n        +Financial explanation\n        +Sales ability\n        +Time management\n    }\n    \n    class \"Professional Qualities\" {\n        +Reliability\n        +Safety consciousness\n        +Continuous learning\n        +Team collaboration\n    }\n    \n    class \"Growth Potential\" {\n        +Adaptability\n        +Leadership capacity\n        +Problem-solving\n        +Initiative\n    }\nWhy it works:\nClearly organizes employer expectations into categories\nPrepares trainees for mock interviews with real employers\nSupports self-assessment of strengths and weaknesses\nCreates a framework for ongoing professional development\n3. Common Installation Quality Issues (Pie Chart)\nmermaid\npie\n    title \"Installation Quality Issues in Mosul (by Frequency)\"\n    \"Improper Mounting\" : 25\n    \"DC Wiring Errors\" : 20\n    \"Inverter Configuration\" : 15\n    \"Battery Connection Issues\" : 15\n    \"Poor Component Selection\" : 10\n    \"Inadequate Protection Devices\" : 10\n    \"Improper Grounding\" : 5\nWhy it works:\nBased on real field data mentioned by the trainers\nFocuses attention on the most common and critical errors\nReinforces key learning points from throughout the course\nCreates a visual checklist for the system assembly challenge\nChatGPT said:\nUpdated saved memory\nYou're absolutely on the right track. Here's a synthesized recommendation for your prompt + workflow:\n✅ Final Recommendation: Use a Two-Step Prompt Strategy\n\n🔹 Step 1 (Intermediate Structure): Generate Slide Plan Table\nCreate a structured table output like this:\nSlide #\tTitle\tType\tDiagram Type\tPurpose / Notes\n1\tDay 1 – Site Assessment\tTitle\t—\tIntro to the day\n2\tMorning Review Question\tText Slide\t—\tRecall previous concepts\n3\tLearning Objectives\tText Slide\t—\tOutcomes of the day\n5\tSite Assessment Components\tConcept\tMindmap\tOrganize assessment checklist\n6\tDemo: Shading Impacts\tPhoto\tImage\tExplain partial shading\n7\tActivity: Site Survey\tActivity\t—\tField practice instructions\n…\t…\t…\t…\t…\nThis step:\nReviews the facilitation guide for intent and structure.\nApplies your daily template for consistency.\nHelps decide which Mermaid diagram types fit best.\nIs extensible—can be adapted to any module or training day.\nPrevents errors like oversized diagrams or misused types.\n🔹 Step 2: Generate Markdown + Mermaid JS (Marp Slide Output)\nUse the table from Step 1 to generate:\nWell-formatted Markdown slides with embedded Mermaid blocks,\nImage sizing optimized with max-widths and padding,\nTrainer notes in comments,\nConsistent styling and layout,\nLocalized visuals (e.g. Mosul-based data),\nValid Mermaid syntax (no overflow, node clutter, or malformed pies).\n🧠 PROMPT STRATEGY INSIDE o3 or GPT-4:\n\nYou are a slide generator for the BEIT Solar Training program. You will:\n1. Review the facilitation guide for Day [X].\n2. Analyze content themes, objectives, and hands-on activities.\n3. Create a table of recommended slides using the standard daily template:\n   - Slide titles, purposes, diagram types (if any), and notes for trainer.\n4. Based on that table, generate a Marp-compatible Markdown file:\n   - Use embedded Mermaid JS diagrams.\n   - Include valid code that won't overflow the slide canvas.\n   - Add clear hidden speaker notes for each slide.\n   - Use unsplash-style photo backgrounds where needed.\n\nValidate diagram selection using:\n- flowchart TD for processes\n- quadrantChart for comparisons\n- pie for distributions (load, energy, cost)\n- mindmap for categories and planning\n- classDiagram for structured system types\n\nEnsure diagrams:\n- Do not exceed 900px width\n- Use color styling to group content\n- Never contain more than 10 nodes\n- Are split across multiple slides if needed\n\nUse only diagrams that **clarify or simplify**, not decorate. Then output the markdown document as your final result.\n✅ Pros of This Two-Step Strategy\n\nBetter structure: Starts from pedagogy before design.\nFewer layout bugs: Pre-deciding diagram types prevents overflow errors.\nReusable logic: Slide table can be reused for Google Slides or PowerPoint too.\nTeam-friendly: Curriculum team can review tables without reading Mermaid.\nAdaptive to updates: If KESK or Module 2 changes, just re-generate the plan.\n⚠️ Cons\n\nTakes longer (2 steps instead of 1).\nRequires consistent prompts for step 1 (or pre-written templates).\nMermaid limitations still exist (e.g. quadrantCharts can be finicky in older renderers).\nDependency on your script to replace Mermaid with SVGs properly.\nLearning curve for contributors unfamiliar with Mermaid syntax.\n✅ I can now help you draft the actual slide generator .md file as a prompt context.\n\nWould you like me to generate that base file now so you can reuse it as a prompt? It'll be fully formatted and ready to paste into future GPT queries with a placeholder like DAY=4."
          }
        ],
        "files": [
          {
            "file_name": "paste.txt"
          }
        ]
      }
    },
    {
      "id": "67965d5c-5476-449e-a1f6-3d3052a9e639",
      "role": "assistant",
      "content": "Let me break down your request and understand what you're trying to achieve:\n\n1. Your ultimate goal: Generate markdown (.md) files with embedded mermaid.js diagrams that can be used to create presentation slides for a solar energy training program.\n\n2. Current challenges:\n   - You have a lot of reference material (facilitation guide, other slide examples, mermaid diagram types)\n   - Previous attempts have had issues with diagram sizing and formatting\n   - You need a systematic approach to turn your facilitation guide into effective slides\n\n3. What you're asking for:\n   - A complete, structured prompt that you can use with an LLM to generate slide content\n   - A template for planning slides for a \"generic day\" of training\n   - Guidance on when to use different types of mermaid charts/diagrams\n   - Examples of valid mermaid syntax\n   - An organized approach that's more efficient than your current collection of materials\n\nI'll approach this by:\n\n1. Creating a comprehensive prompt template for generating slide decks\n2. Providing a \"generic day\" slide plan template \n3. Creating a guide for mermaid diagram selection and best practices\n4. Examining the overall workflow and suggesting improvements\n\nLet's begin with analyzing what makes an effective training slide and how your materials can be best organized.# Solar Training Slide Generator System\n\nAfter reviewing your materials, I've designed a streamlined system for generating training slides from your facilitation guide. This approach breaks down the complex process into manageable, structured steps.\n\n## 1. Complete Slide Generation Solution\n\n### File: `slide_generator_prompt.md`\n\n```markdown\n# Solar Training Slide Generator\n\nYou are an expert instructional designer creating presentation slides for the BEIT Solar Energy Training Program in Iraq. Your task is to convert the day's facilitation guide content into effective visual slides with embedded Mermaid diagrams.\n\n## PROCESS\n\n1. First, analyze the facilitation guide for Day [X] to identify:\n   - Key learning objectives\n   - Essential technical concepts\n   - Practical activities\n   - Assessment methods\n\n2. Then create a slide plan table with these columns:\n   | # | Slide Title | Type | Diagram/Visual | Key Content | Trainer Notes |\n   \n3. Finally, generate the complete Marp markdown file with:\n   - Embedded Mermaid diagrams (valid syntax, optimized sizing)\n   - Appropriate background images\n   - Hidden trainer notes as comments\n   - Consistent formatting and visual hierarchy\n\n## SLIDE DECK STANDARDS\n\n- Follow the daily structure template (title → objectives → content → activities → assessment → review)\n- Limit text to 5-7 bullet points per slide\n- Include one visual element (diagram or image) per concept slide\n- Use color consistently (blue headings, green subheadings)\n- Ensure diagrams are properly sized (max width: 900px)\n- Include hidden trainer notes with talking points\n\n## MERMAID DIAGRAM GUIDELINES\n\n- Choose appropriate diagram types:\n  - **Flowchart TD**: For processes and sequences (site assessment, system design)\n  - **Mindmap**: For concept categorization (assessment checklist, component selection)\n  - **Pie**: For showing proportions (market share, load distribution)\n  - **QuadrantChart**: For comparisons with two variables (cost vs. performance)\n  - **ClassDiagram**: For structured relationships (system types, component families)\n  - **Timeline**: For sequential processes over time (training schedule, system costs)\n\n- Diagram sizing and complexity:\n  - Keep node count under 15 per diagram\n  - Use TD (top-down) instead of LR (left-right) for better slide fit\n  - Apply color styling to group related elements\n  - Use concise labels (3-5 words max per node)\n\n## OUTPUT FORMAT\n\nGenerate a complete Marp markdown file with this header:\n\n```\n---\nmarp: true\ntheme: default\npaginate: true\nbackgroundColor: #fafafa\nheader: \"Solar Energy System Design & Installation Training\"\nfooter: \"BEIT Project – Mosul, Iraq\"\nstyle: |\n  section {\n    font-size: 30px;\n  }\n  h1 {\n    color: #1e88e5;\n  }\n  h2 {\n    color: #26a69a;\n  }\n  img.mermaid-diagram {\n    display: block;\n    margin: 0 auto;\n    max-width: 90%;\n    border-radius: 5px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n    background-color: white;\n    padding: 10px;\n  }\n---\n```\n\nNow, generate slides for Day [X] of the BEIT Solar Training Program based on the provided facilitation guide.\n```\n\n## 2. Generic Day Slide Plan Template\n\nHere's a standard template for structuring each training day:\n\n| # | Slide Type | Purpose | Visual Element | Notes |\n|---|------------|---------|----------------|-------|\n| 1 | Day Title | Introduce day's theme | Background image | Set expectations for the day |\n| 2 | Morning Review | Recall previous day's content | Single question | Use if not first day |\n| 3 | Learning Objectives | List 3-5 specific outcomes | Icon/image | Use action verbs |\n| 4 | Daily Schedule | Outline timing | Timeline diagram | Block morning/afternoon |\n| 5 | Key Concept 1 | Introduce fundamental idea | Relevant diagram | Choose appropriate diagram type |\n| 6 | Visual Example | Reinforce concept | Photo or detailed diagram | Real Mosul examples when possible |\n| 7 | Activity Instructions | Guide hands-on practice | Step numbers | Include group size, timing |\n| 8 | Break Slide | Signal transition | Simple image | Optional timer |\n| 9 | Key Concept 2 | Next technical content | Relevant diagram | Start with problem/need |\n| 10 | Practical Application | Connect to real situations | Contextual image | Local examples |\n| 11 | Activity Instructions | Guide second practice | Step numbers | Clear deliverables |\n| 12 | Assessment | Check understanding | Scenario or questions | Link to original scenario |\n| 13 | Daily Review | Consolidate learning | Reflection prompts | Sticky note system |\n| 14 | Preview Next Day | Set expectations | Simple timeline | Preparation needed |\n\n## 3. Mermaid Diagram Selection Guide\n\n### File: `mermaid_selection_guide.md`\n\n```markdown\n# Mermaid Diagram Selection Guide for Solar Training\n\n## When to Use Each Diagram Type\n\n### 1. Flowchart (TD - Top Down)\n**Best for:** Processes, sequences, decision trees\n**Solar Training Examples:**\n- Solar PV system operation flow\n- Site assessment process\n- Installation sequence\n- Troubleshooting decision tree\n\n```mermaid\nflowchart TD\n    A[Site Assessment] --> B[Load Analysis]\n    B --> C[System Sizing]\n    C --> D[Component Selection]\n    D --> E[Installation]\n    \n    style A fill:#bbdefb,stroke:#1976d2\n    style B fill:#c8e6c9,stroke:#388e3c\n    style C fill:#fff9c4,stroke:#fbc02d\n    style D fill:#ffccbc,stroke:#e64a19\n    style E fill:#e1bee7,stroke:#9c27b0\n```\n\n### 2. Mindmap\n**Best for:** Hierarchical relationships, categories, checklists\n**Solar Training Examples:**\n- Site assessment checklist\n- Component selection criteria\n- System types and features\n- Installation quality control\n\n```mermaid\nmindmap\n    root((Site Assessment))\n        Physical\n            Roof Structure\n            Available Area\n            Orientation\n        Electrical\n            Panel Capacity\n            Wiring\n            Grounding\n        Environmental\n            Shading\n            Dust/Wind\n            Temperature\n```\n\n### 3. Pie Chart\n**Best for:** Proportions, distributions, market data\n**Solar Training Examples:**\n- Mosul energy sources (grid vs. generator vs. solar)\n- System cost breakdown\n- Load distribution in typical homes\n- Component failure causes\n\n```mermaid\npie\n    title \"Power Sources in Mosul Homes\"\n    \"National Grid\" : 45\n    \"Diesel Generators\" : 50\n    \"Solar Systems\" : 5\n```\n\n### 4. Quadrant Chart\n**Best for:** Comparing options on two variables\n**Solar Training Examples:**\n- Battery comparison (cost vs. lifespan)\n- Energy source comparison (cost vs. reliability)\n- Mounting options (quality vs. wind resistance)\n- Component selection (price vs. performance)\n\n```mermaid\nquadrantChart\n    title \"Battery Technology Comparison\"\n    x-axis \"Lower Cost\" --> \"Higher Cost\"\n    y-axis \"Shorter Life\" --> \"Longer Life\"\n    quadrant-1 \"Premium Option\"\n    quadrant-2 \"Best Value\"\n    quadrant-3 \"Budget Option\"\n    quadrant-4 \"Avoid\"\n    \"Lithium-Ion\" : [0.9, 0.9]\n    \"AGM\" : [0.5, 0.4]\n    \"Flooded Lead-Acid\" : [0.3, 0.2]\n    \"Refurbished\" : [0.6, 0.1]\n```\n\n### 5. Class Diagram\n**Best for:** Structured relationships, type hierarchies\n**Solar Training Examples:**\n- Solar system types and subtypes\n- Component families and features\n- Electrical characteristic comparisons\n- Protection device categorization\n\n```mermaid\nclassDiagram\n    class \"Solar PV Systems\" {\n    }\n    class \"Grid-tied\" {\n        +No batteries\n        +Grid connection\n        +Feed-in capability\n    }\n    class \"Off-grid\" {\n        +Battery storage\n        +No grid connection\n        +Autonomous operation\n    }\n    class \"Hybrid\" {\n        +Battery backup\n        +Grid connection\n        +Multiple operation modes\n    }\n    \n    \"Solar PV Systems\" <|-- \"Grid-tied\"\n    \"Solar PV Systems\" <|-- \"Off-grid\"\n    \"Solar PV Systems\" <|-- \"Hybrid\"\n```\n\n### 6. Timeline\n**Best for:** Sequential events, schedules, development over time\n**Solar Training Examples:**\n- Training program schedule\n- System cost analysis over years\n- Installation project timeline\n- Energy production by season\n\n```mermaid\ntimeline\n    title Training Program Schedule\n    section Week 1\n        Day 1: Site Assessment & Load Analysis : Foundation\n        Day 2: System Sizing & Financial Analysis : Design\n        Day 3: Component Selection & Safety : Selection\n    section Week 2\n        Day 4: Installation & Safety Protocols : Installation\n        Day 5: Commissioning & Maintenance : Operations\n        Day 6: Business Models & Capstone Project : Business\n```\n\n## Mermaid Best Practices\n\n1. **Keep It Simple**\n   - Limit to 10-15 nodes per diagram\n   - Break complex concepts into multiple diagrams\n   - Use concise text (3-5 words per node)\n\n2. **Use Consistent Styling**\n   - Apply color coding for related elements\n   - Use standard shapes for consistent meaning\n   - Maintain consistent terminology\n\n3. **Optimize for Slides**\n   - Use TD (top-down) instead of LR (left-right) orientation\n   - Set explicit width constraints when needed\n   - Test rendering before finalizing\n\n4. **Ensure Readability**\n   - Use high-contrast colors\n   - Keep text large enough to read from back of room\n   - Avoid overly technical details in diagrams\n```\n\n## 4. Workflow Recommendation\n\nBased on your materials and goals, here's my recommended workflow:\n\n1. **Preparation**:\n   - Have your facilitation guide ready for the day you want to create slides for\n   - Reference the KESK Solar Training and Module 2 materials\n\n2. **Generate Slide Plan**:\n   - First, use the prompt with: \"Create a slide plan table for Day X based on the facilitation guide\"\n   - Review the table to ensure it covers all key concepts and activities\n\n3. **Generate Full Slide Deck**:\n   - Once satisfied with the plan, use the prompt with: \"Generate the complete markdown slide deck for Day X based on this slide plan\"\n   - Specify any special considerations or local examples to include\n\n4. **Process Output**:\n   - Save the markdown output to a .md file\n   - Run your makeslides.py script to process the mermaid diagrams into SVGs\n   - Review the generated PDF/PPTX for any formatting issues\n\n## 5. Example Usage\n\n```\nI want to generate slides for Day 4 (Installation & Safety Protocols) of our solar training. \nThe key topics include mounting systems, wind load calculations, wiring techniques, and installation safety.\nPlease first create a slide plan based on the facilitation guide, then generate the complete markdown file with embedded mermaid diagrams.\n```\n\n## 6. Recommendations for Future Improvements\n\n1. **Create a diagram library**: Build a reusable collection of well-tested mermaid diagrams for common solar concepts\n\n2. **Develop slide templates**: Create specific templates for different types of training activities (theory, demonstration, practice)\n\n3. **Local image library**: Gather a collection of Iraq/Mosul-specific images to use in slides\n\n4. **Slide validation tool**: Develop a tool to automatically check mermaid syntax and slide formatting\n\nWould you like me to make any adjustments to these recommendations or elaborate on any specific aspect of the slide generation system?",
      "created_at": "2025-05-19T12:27:53.025197Z",
      "sequence_order": 1,
      "metadata": {
        "content": [
          {
            "start_timestamp": "2025-05-19T12:26:59.515227Z",
            "stop_timestamp": "2025-05-19T12:27:04.424007Z",
            "flags": null,
            "type": "thinking",
            "thinking": "Let me break down your request and understand what you're trying to achieve:\n\n1. Your ultimate goal: Generate markdown (.md) files with embedded mermaid.js diagrams that can be used to create presentation slides for a solar energy training program.\n\n2. Current challenges:\n   - You have a lot of reference material (facilitation guide, other slide examples, mermaid diagram types)\n   - Previous attempts have had issues with diagram sizing and formatting\n   - You need a systematic approach to turn your facilitation guide into effective slides\n\n3. What you're asking for:\n   - A complete, structured prompt that you can use with an LLM to generate slide content\n   - A template for planning slides for a \"generic day\" of training\n   - Guidance on when to use different types of mermaid charts/diagrams\n   - Examples of valid mermaid syntax\n   - An organized approach that's more efficient than your current collection of materials\n\nI'll approach this by:\n\n1. Creating a comprehensive prompt template for generating slide decks\n2. Providing a \"generic day\" slide plan template \n3. Creating a guide for mermaid diagram selection and best practices\n4. Examining the overall workflow and suggesting improvements\n\nLet's begin with analyzing what makes an effective training slide and how your materials can be best organized.",
            "summaries": [
              {
                "summary": "Thinking about structuring and optimizing slide generation from diverse project materials"
              },
              {
                "summary": "Parsing solar energy training program markdown generation strategy"
              },
              {
                "summary": "Strategized systematic approach to generate training slides with mermaid diagrams."
              }
            ],
            "cut_off": false
          },
          {
            "start_timestamp": "2025-05-19T12:27:04.490668Z",
            "stop_timestamp": "2025-05-19T12:27:52.952344Z",
            "flags": null,
            "type": "text",
            "text": "# Solar Training Slide Generator System\n\nAfter reviewing your materials, I've designed a streamlined system for generating training slides from your facilitation guide. This approach breaks down the complex process into manageable, structured steps.\n\n## 1. Complete Slide Generation Solution\n\n### File: `slide_generator_prompt.md`\n\n```markdown\n# Solar Training Slide Generator\n\nYou are an expert instructional designer creating presentation slides for the BEIT Solar Energy Training Program in Iraq. Your task is to convert the day's facilitation guide content into effective visual slides with embedded Mermaid diagrams.\n\n## PROCESS\n\n1. First, analyze the facilitation guide for Day [X] to identify:\n   - Key learning objectives\n   - Essential technical concepts\n   - Practical activities\n   - Assessment methods\n\n2. Then create a slide plan table with these columns:\n   | # | Slide Title | Type | Diagram/Visual | Key Content | Trainer Notes |\n   \n3. Finally, generate the complete Marp markdown file with:\n   - Embedded Mermaid diagrams (valid syntax, optimized sizing)\n   - Appropriate background images\n   - Hidden trainer notes as comments\n   - Consistent formatting and visual hierarchy\n\n## SLIDE DECK STANDARDS\n\n- Follow the daily structure template (title → objectives → content → activities → assessment → review)\n- Limit text to 5-7 bullet points per slide\n- Include one visual element (diagram or image) per concept slide\n- Use color consistently (blue headings, green subheadings)\n- Ensure diagrams are properly sized (max width: 900px)\n- Include hidden trainer notes with talking points\n\n## MERMAID DIAGRAM GUIDELINES\n\n- Choose appropriate diagram types:\n  - **Flowchart TD**: For processes and sequences (site assessment, system design)\n  - **Mindmap**: For concept categorization (assessment checklist, component selection)\n  - **Pie**: For showing proportions (market share, load distribution)\n  - **QuadrantChart**: For comparisons with two variables (cost vs. performance)\n  - **ClassDiagram**: For structured relationships (system types, component families)\n  - **Timeline**: For sequential processes over time (training schedule, system costs)\n\n- Diagram sizing and complexity:\n  - Keep node count under 15 per diagram\n  - Use TD (top-down) instead of LR (left-right) for better slide fit\n  - Apply color styling to group related elements\n  - Use concise labels (3-5 words max per node)\n\n## OUTPUT FORMAT\n\nGenerate a complete Marp markdown file with this header:\n\n```\n---\nmarp: true\ntheme: default\npaginate: true\nbackgroundColor: #fafafa\nheader: \"Solar Energy System Design & Installation Training\"\nfooter: \"BEIT Project – Mosul, Iraq\"\nstyle: |\n  section {\n    font-size: 30px;\n  }\n  h1 {\n    color: #1e88e5;\n  }\n  h2 {\n    color: #26a69a;\n  }\n  img.mermaid-diagram {\n    display: block;\n    margin: 0 auto;\n    max-width: 90%;\n    border-radius: 5px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n    background-color: white;\n    padding: 10px;\n  }\n---\n```\n\nNow, generate slides for Day [X] of the BEIT Solar Training Program based on the provided facilitation guide.\n```\n\n## 2. Generic Day Slide Plan Template\n\nHere's a standard template for structuring each training day:\n\n| # | Slide Type | Purpose | Visual Element | Notes |\n|---|------------|---------|----------------|-------|\n| 1 | Day Title | Introduce day's theme | Background image | Set expectations for the day |\n| 2 | Morning Review | Recall previous day's content | Single question | Use if not first day |\n| 3 | Learning Objectives | List 3-5 specific outcomes | Icon/image | Use action verbs |\n| 4 | Daily Schedule | Outline timing | Timeline diagram | Block morning/afternoon |\n| 5 | Key Concept 1 | Introduce fundamental idea | Relevant diagram | Choose appropriate diagram type |\n| 6 | Visual Example | Reinforce concept | Photo or detailed diagram | Real Mosul examples when possible |\n| 7 | Activity Instructions | Guide hands-on practice | Step numbers | Include group size, timing |\n| 8 | Break Slide | Signal transition | Simple image | Optional timer |\n| 9 | Key Concept 2 | Next technical content | Relevant diagram | Start with problem/need |\n| 10 | Practical Application | Connect to real situations | Contextual image | Local examples |\n| 11 | Activity Instructions | Guide second practice | Step numbers | Clear deliverables |\n| 12 | Assessment | Check understanding | Scenario or questions | Link to original scenario |\n| 13 | Daily Review | Consolidate learning | Reflection prompts | Sticky note system |\n| 14 | Preview Next Day | Set expectations | Simple timeline | Preparation needed |\n\n## 3. Mermaid Diagram Selection Guide\n\n### File: `mermaid_selection_guide.md`\n\n```markdown\n# Mermaid Diagram Selection Guide for Solar Training\n\n## When to Use Each Diagram Type\n\n### 1. Flowchart (TD - Top Down)\n**Best for:** Processes, sequences, decision trees\n**Solar Training Examples:**\n- Solar PV system operation flow\n- Site assessment process\n- Installation sequence\n- Troubleshooting decision tree\n\n```mermaid\nflowchart TD\n    A[Site Assessment] --> B[Load Analysis]\n    B --> C[System Sizing]\n    C --> D[Component Selection]\n    D --> E[Installation]\n    \n    style A fill:#bbdefb,stroke:#1976d2\n    style B fill:#c8e6c9,stroke:#388e3c\n    style C fill:#fff9c4,stroke:#fbc02d\n    style D fill:#ffccbc,stroke:#e64a19\n    style E fill:#e1bee7,stroke:#9c27b0\n```\n\n### 2. Mindmap\n**Best for:** Hierarchical relationships, categories, checklists\n**Solar Training Examples:**\n- Site assessment checklist\n- Component selection criteria\n- System types and features\n- Installation quality control\n\n```mermaid\nmindmap\n    root((Site Assessment))\n        Physical\n            Roof Structure\n            Available Area\n            Orientation\n        Electrical\n            Panel Capacity\n            Wiring\n            Grounding\n        Environmental\n            Shading\n            Dust/Wind\n            Temperature\n```\n\n### 3. Pie Chart\n**Best for:** Proportions, distributions, market data\n**Solar Training Examples:**\n- Mosul energy sources (grid vs. generator vs. solar)\n- System cost breakdown\n- Load distribution in typical homes\n- Component failure causes\n\n```mermaid\npie\n    title \"Power Sources in Mosul Homes\"\n    \"National Grid\" : 45\n    \"Diesel Generators\" : 50\n    \"Solar Systems\" : 5\n```\n\n### 4. Quadrant Chart\n**Best for:** Comparing options on two variables\n**Solar Training Examples:**\n- Battery comparison (cost vs. lifespan)\n- Energy source comparison (cost vs. reliability)\n- Mounting options (quality vs. wind resistance)\n- Component selection (price vs. performance)\n\n```mermaid\nquadrantChart\n    title \"Battery Technology Comparison\"\n    x-axis \"Lower Cost\" --> \"Higher Cost\"\n    y-axis \"Shorter Life\" --> \"Longer Life\"\n    quadrant-1 \"Premium Option\"\n    quadrant-2 \"Best Value\"\n    quadrant-3 \"Budget Option\"\n    quadrant-4 \"Avoid\"\n    \"Lithium-Ion\" : [0.9, 0.9]\n    \"AGM\" : [0.5, 0.4]\n    \"Flooded Lead-Acid\" : [0.3, 0.2]\n    \"Refurbished\" : [0.6, 0.1]\n```\n\n### 5. Class Diagram\n**Best for:** Structured relationships, type hierarchies\n**Solar Training Examples:**\n- Solar system types and subtypes\n- Component families and features\n- Electrical characteristic comparisons\n- Protection device categorization\n\n```mermaid\nclassDiagram\n    class \"Solar PV Systems\" {\n    }\n    class \"Grid-tied\" {\n        +No batteries\n        +Grid connection\n        +Feed-in capability\n    }\n    class \"Off-grid\" {\n        +Battery storage\n        +No grid connection\n        +Autonomous operation\n    }\n    class \"Hybrid\" {\n        +Battery backup\n        +Grid connection\n        +Multiple operation modes\n    }\n    \n    \"Solar PV Systems\" <|-- \"Grid-tied\"\n    \"Solar PV Systems\" <|-- \"Off-grid\"\n    \"Solar PV Systems\" <|-- \"Hybrid\"\n```\n\n### 6. Timeline\n**Best for:** Sequential events, schedules, development over time\n**Solar Training Examples:**\n- Training program schedule\n- System cost analysis over years\n- Installation project timeline\n- Energy production by season\n\n```mermaid\ntimeline\n    title Training Program Schedule\n    section Week 1\n        Day 1: Site Assessment & Load Analysis : Foundation\n        Day 2: System Sizing & Financial Analysis : Design\n        Day 3: Component Selection & Safety : Selection\n    section Week 2\n        Day 4: Installation & Safety Protocols : Installation\n        Day 5: Commissioning & Maintenance : Operations\n        Day 6: Business Models & Capstone Project : Business\n```\n\n## Mermaid Best Practices\n\n1. **Keep It Simple**\n   - Limit to 10-15 nodes per diagram\n   - Break complex concepts into multiple diagrams\n   - Use concise text (3-5 words per node)\n\n2. **Use Consistent Styling**\n   - Apply color coding for related elements\n   - Use standard shapes for consistent meaning\n   - Maintain consistent terminology\n\n3. **Optimize for Slides**\n   - Use TD (top-down) instead of LR (left-right) orientation\n   - Set explicit width constraints when needed\n   - Test rendering before finalizing\n\n4. **Ensure Readability**\n   - Use high-contrast colors\n   - Keep text large enough to read from back of room\n   - Avoid overly technical details in diagrams\n```\n\n## 4. Workflow Recommendation\n\nBased on your materials and goals, here's my recommended workflow:\n\n1. **Preparation**:\n   - Have your facilitation guide ready for the day you want to create slides for\n   - Reference the KESK Solar Training and Module 2 materials\n\n2. **Generate Slide Plan**:\n   - First, use the prompt with: \"Create a slide plan table for Day X based on the facilitation guide\"\n   - Review the table to ensure it covers all key concepts and activities\n\n3. **Generate Full Slide Deck**:\n   - Once satisfied with the plan, use the prompt with: \"Generate the complete markdown slide deck for Day X based on this slide plan\"\n   - Specify any special considerations or local examples to include\n\n4. **Process Output**:\n   - Save the markdown output to a .md file\n   - Run your makeslides.py script to process the mermaid diagrams into SVGs\n   - Review the generated PDF/PPTX for any formatting issues\n\n## 5. Example Usage\n\n```\nI want to generate slides for Day 4 (Installation & Safety Protocols) of our solar training. \nThe key topics include mounting systems, wind load calculations, wiring techniques, and installation safety.\nPlease first create a slide plan based on the facilitation guide, then generate the complete markdown file with embedded mermaid diagrams.\n```\n\n## 6. Recommendations for Future Improvements\n\n1. **Create a diagram library**: Build a reusable collection of well-tested mermaid diagrams for common solar concepts\n\n2. **Develop slide templates**: Create specific templates for different types of training activities (theory, demonstration, practice)\n\n3. **Local image library**: Gather a collection of Iraq/Mosul-specific images to use in slides\n\n4. **Slide validation tool**: Develop a tool to automatically check mermaid syntax and slide formatting\n\nWould you like me to make any adjustments to these recommendations or elaborate on any specific aspect of the slide generation system?",
            "citations": []
          }
        ],
        "updated_at": "2025-05-19T12:27:53.025197Z",
        "attachments": [],
        "files": []
      }
    }
  ]
}