{
  "id": "5653427d-dd39-4db9-90f3-4d36c1f34691",
  "source": "claude",
  "title": "Fixing Prayer Provider Errors",
  "created_at": "2024-06-04T09:07:57.301084Z",
  "updated_at": "2024-06-04T09:08:36.777327Z",
  "summary": "",
  "message_count": 2,
  "messages": [
    {
      "id": "b847b9be-ca6d-4315-b00e-df75acef4f04",
      "role": "human",
      "content": "",
      "created_at": "2024-06-04T09:08:23.402377Z",
      "sequence_order": 0,
      "metadata": {
        "content": [
          {
            "start_timestamp": "2024-06-04T09:08:23.402377Z",
            "stop_timestamp": "2024-06-04T09:08:23.402377Z",
            "flags": null,
            "type": "text",
            "text": "",
            "citations": []
          }
        ],
        "updated_at": "2024-06-04T09:08:23.402377Z",
        "attachments": [
          {
            "file_name": "paste.txt",
            "file_size": 76533,
            "file_type": "txt",
            "extracted_content": "\nlib/screens/edit_details_screen.dart:36:20: Error: The method 'updateStartYear' isn't defined for the class 'PrayerProvider'.\n - 'PrayerProvider' is from 'package:amana/providers/prayer_provider.dart' ('lib/providers/prayer_provider.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'updateStartYear'.\n    prayerProvider.updateStartYear(year);\n                   ^^^^^^^^^^^^^^^\nlib/screens/edit_details_screen.dart:44:20: Error: The method 'updateEndYear' isn't defined for the class 'PrayerProvider'.\n - 'PrayerProvider' is from 'package:amana/providers/prayer_provider.dart' ('lib/providers/prayer_provider.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'updateEndYear'.\n    prayerProvider.updateEndYear(year);\n                   ^^^^^^^^^^^^^\nlib/screens/home_screen.dart:40:31: Error: 'PrayerData' isn't a type.\n                FutureBuilder<PrayerData>(\n\n\n\n\n# File: ./myApp.dart\n#####################\n\n// File: myApp.dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'platform_specific_widget/amana_material_app.dart';\nimport 'providers/prayer_provider.dart';\nimport 'screens/edit_details_screen.dart';\nimport 'screens/home_screen.dart';\nimport 'screens/year_selection_screen.dart';\n\nclass MyApp extends StatelessWidget {\n  final PrayerProvider prayerProvider;\n  const MyApp({super.key, required this.prayerProvider});\n  @override\n  Widget build(BuildContext context) {\n    return ChangeNotifierProvider.value(\n      value: prayerProvider,\n      child: AmanaMaterialApp(\n        title: 'Amana Audit',\n        debugShowCheckedModeBanner: false,\n        theme: ThemeData(\n            fontFamily: \"OpenSans\",\n            scaffoldBackgroundColor: Colors.grey[100],\n            primarySwatch: Colors.blue),\n        initialRoute: '/',\n        routes: {\n          '/': (context) => const HomeScreen(),\n          '/year-selection': (context) => const YearSelectionScreen(),\n          '/edit-details': (context) => const EditDetailsScreen()\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./prayer_record.dart\n#############################\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  int fajrMissed;\n\n  @HiveField(3)\n  int dhuhrMissed;\n\n  @HiveField(4)\n  int asrMissed;\n\n  @HiveField(5)\n  int maghribMissed;\n\n  @HiveField(6)\n  int ishaMissed;\n\n  // Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./main.dart\n####################\n\n// File: main.dart\nimport 'myApp.dart';\nimport 'package:flutter/material.dart';\nimport 'providers/prayer_provider.dart';\nimport 'services/prayer_service.dart';\nimport 'services/hive_service.dart';\nimport 'package:hive_flutter/hive_flutter.dart';\nimport 'models/prayer_data.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final hiveService = HiveService();\n  await hiveService.init();\n\n  Hive.registerAdapter(PrayerDataAdapter());\n  final prayerService = PrayerService(hiveService);\n  final prayerProvider = PrayerProvider(prayerService);\n  await prayerProvider.loadData();\n  runApp(MyApp(\n    prayerProvider: prayerProvider,\n  ));\n}\n\n\n\n# File: ./constants.dart\n#########################\n\n//constants.dart\nconst int kDefaultStartYear = 2022;\nconst int kDefaultEndYear = 2023;\nconst int kDefaultPercentageMissed = 25;\nconst int kDefaultTaqwaBuffer = 5;\n\n\n\n# File: ./prayer_record.g.dart\n###############################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./providers/prayer_provider.dart\n#########################################\n\n// File: lib/providers/prayer_provider.dart\nimport 'package:flutter/foundation.dart';\nimport '../services/prayer_service.dart';\nimport '../models/prayer_data.dart';\n\nclass PrayerProvider with ChangeNotifier {\n  final PrayerService _prayerService;\n  Map<String, PrayerData> _prayerData = {};\n  PrayerProvider(this._prayerService);\n  Map<String, PrayerData> get prayerData => _prayerData;\n  int get startYear => DateTime.now().year; // Fix: Define startYear getter\n  int get endYear => DateTime.now().year; // Fix: Define endYear getter\n  bool get isDataLoaded => _prayerService.isDataLoaded;\n  List<String> get prayers => _prayerService.prayers;\n  Future<void> loadData() async {\n    await _prayerService.loadData();\n    _prayerData = _prayerService.prayerData;\n    notifyListeners();\n  }\n\n  Future<void> saveData(PrayerData data) async {\n    await _prayerService.savePrayerData(data);\n    _prayerData['${data.year}-${data.month}'] = data;\n    notifyListeners();\n  }\n\n  void incrementPrayer(String prayer) {\n    // Find the earliest year and month with missed prayers\n    String? earliestKey;\n    int earliestYear = 9999;\n    int earliestMonth = 12;\n\n    prayerData.forEach((key, data) {\n      if (data.prayersMissed[prayer]! > 0 &&\n          (data.year < earliestYear ||\n              (data.year == earliestYear && data.month < earliestMonth))) {\n        earliestKey = key;\n        earliestYear = data.year;\n        earliestMonth = data.month;\n      }\n    });\n\n    if (earliestKey != null) {\n      final data = prayerData[earliestKey]!;\n      data.prayersMissed[prayer] = data.prayersMissed[prayer]! - 1;\n      data.prayersCompleted[prayer] = data.prayersCompleted[prayer]! + 1;\n      data.totalPrayed++;\n      data.totalMissed--;\n      _prayerService.savePrayerData(data);\n      notifyListeners();\n    }\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getCompletedPrayersForMonth(year, month, prayer);\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    return _prayerService.getMissedPrayersForMonth(year, month, prayer);\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    return await _prayerService.getPrayerDataForMonth(year, month);\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    _prayerService.updatePrayerStats(\n        year, month, prayer, increaseCompletedCount);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForYear(year, percentageCompleted);\n    notifyListeners();\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    _prayerService.updatePrayerStatsForMonth(year, month, percentageCompleted);\n    notifyListeners();\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    return _prayerService.getPrayerCompletionPercentageForMonth(year, month);\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    return _prayerService.getPrayerCompletionPercentageForYear(year);\n  }\n}\n\n\n\n# File: ./models/prayer_record.dart\n####################################\n\nimport 'package:hive/hive.dart';\npart 'prayer_record.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerRecord extends HiveObject {\n  @HiveField(0)\n  int year;\n  @HiveField(1)\n  int month;\n  @HiveField(2)\n  int fajrMissed;\n  @HiveField(3)\n  int dhuhrMissed;\n  @HiveField(4)\n  int asrMissed;\n  @HiveField(5)\n  int maghribMissed;\n  @HiveField(6)\n  int ishaMissed;\n// Derived fields\n  int get totalMissed =>\n      fajrMissed + dhuhrMissed + asrMissed + maghribMissed + ishaMissed;\n  int get totalPrayed => (30 * 5) - totalMissed; // Assuming 30 days in a month\n  double get fajrPercentage => fajrMissed / 30;\n  double get dhuhrPercentage => dhuhrMissed / 30;\n  double get asrPercentage => asrMissed / 30;\n  double get maghribPercentage => maghribMissed / 30;\n  double get ishaPercentage => ishaMissed / 30;\n}\n\n\n\n# File: ./models/prayer_data.dart\n##################################\n\n// File: lib/models/prayer_data.dart\n\nimport 'package:hive/hive.dart';\n\npart 'prayer_data.g.dart';\n\n@HiveType(typeId: 0)\nclass PrayerData {\n  @HiveField(0)\n  int year;\n\n  @HiveField(1)\n  int month;\n\n  @HiveField(2)\n  Map<String, int> prayersCompleted; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(3)\n  Map<String, int> prayersMissed; // {'Fajr': 0, 'Dhuhr': 0, ...}\n\n  @HiveField(4)\n  int totalPrayed;\n\n  @HiveField(5)\n  int totalMissed;\n\n  @HiveField(6)\n  double percentagePrayed;\n\n  @HiveField(7)\n  double percentageMissed;\n\n  PrayerData({\n    required this.year,\n    required this.month,\n    required this.prayersCompleted,\n    required this.prayersMissed,\n    required this.totalPrayed,\n    required this.totalMissed,\n    required this.percentagePrayed,\n    required this.percentageMissed,\n  });\n\n  factory PrayerData.fromMap(Map<String, dynamic> map) {\n    return PrayerData(\n      year: map['year'],\n      month: map['month'],\n      prayersCompleted: Map<String, int>.from(map['prayersCompleted']),\n      prayersMissed: Map<String, int>.from(map['prayersMissed']),\n      totalPrayed: map['totalPrayed'],\n      totalMissed: map['totalMissed'],\n      percentagePrayed: map['percentagePrayed'],\n      percentageMissed: map['percentageMissed'],\n    );\n  }\n\n  Map<String, dynamic> toMap() {\n    return {\n      'year': year,\n      'month': month,\n      'prayersCompleted': prayersCompleted,\n      'prayersMissed': prayersMissed,\n      'totalPrayed': totalPrayed,\n      'totalMissed': totalMissed,\n      'percentagePrayed': percentagePrayed,\n      'percentageMissed': percentageMissed,\n    };\n  }\n}\n\n\n\n# File: ./models/prayer_data.g.dart\n####################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_data.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerDataAdapter extends TypeAdapter<PrayerData> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerData read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerData(\n      year: fields[0] as int,\n      month: fields[1] as int,\n      prayersCompleted: (fields[2] as Map).cast<String, int>(),\n      prayersMissed: (fields[3] as Map).cast<String, int>(),\n      totalPrayed: fields[4] as int,\n      totalMissed: fields[5] as int,\n      percentagePrayed: fields[6] as double,\n      percentageMissed: fields[7] as double,\n    );\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerData obj) {\n    writer\n      ..writeByte(8)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.prayersCompleted)\n      ..writeByte(3)\n      ..write(obj.prayersMissed)\n      ..writeByte(4)\n      ..write(obj.totalPrayed)\n      ..writeByte(5)\n      ..write(obj.totalMissed)\n      ..writeByte(6)\n      ..write(obj.percentagePrayed)\n      ..writeByte(7)\n      ..write(obj.percentageMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerDataAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./models/prayer_record.g.dart\n######################################\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'prayer_record.dart';\n\n// **************************************************************************\n// TypeAdapterGenerator\n// **************************************************************************\n\nclass PrayerRecordAdapter extends TypeAdapter<PrayerRecord> {\n  @override\n  final int typeId = 0;\n\n  @override\n  PrayerRecord read(BinaryReader reader) {\n    final numOfFields = reader.readByte();\n    final fields = <int, dynamic>{\n      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),\n    };\n    return PrayerRecord()\n      ..year = fields[0] as int\n      ..month = fields[1] as int\n      ..fajrMissed = fields[2] as int\n      ..dhuhrMissed = fields[3] as int\n      ..asrMissed = fields[4] as int\n      ..maghribMissed = fields[5] as int\n      ..ishaMissed = fields[6] as int;\n  }\n\n  @override\n  void write(BinaryWriter writer, PrayerRecord obj) {\n    writer\n      ..writeByte(7)\n      ..writeByte(0)\n      ..write(obj.year)\n      ..writeByte(1)\n      ..write(obj.month)\n      ..writeByte(2)\n      ..write(obj.fajrMissed)\n      ..writeByte(3)\n      ..write(obj.dhuhrMissed)\n      ..writeByte(4)\n      ..write(obj.asrMissed)\n      ..writeByte(5)\n      ..write(obj.maghribMissed)\n      ..writeByte(6)\n      ..write(obj.ishaMissed);\n  }\n\n  @override\n  int get hashCode => typeId.hashCode;\n\n  @override\n  bool operator ==(Object other) =>\n      identical(this, other) ||\n      other is PrayerRecordAdapter &&\n          runtimeType == other.runtimeType &&\n          typeId == other.typeId;\n}\n\n\n\n# File: ./screens/settings_screen.dart\n#######################################\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_scaffold.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\n\nclass SettingsScreen extends StatefulWidget {\n  @override\n  _SettingsScreenState createState() => _SettingsScreenState();\n}\n\nclass _SettingsScreenState extends State<SettingsScreen> {\n  late TextEditingController _birthYearController;\n\n  @override\n  void initState() {\n    super.initState();\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    _birthYearController =\n        TextEditingController(text: prayerProvider.birthYear.toString());\n  }\n\n  @override\n  void dispose() {\n    _birthYearController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaScaffold(\n      title: 'Settings',\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            AmanaInputField(\n              keyboardType: TextInputType.number,\n              controller: _birthYearController,\n              onChange: (val) {\n                setState(() {\n                  _birthYearController.text = val;\n                });\n              },\n              sufixIcon: Icons.date_range,\n              label: \"Birth Year\",\n            ),\n            SizedBox(height: 16),\n            ElevatedButton(\n              onPressed: () {\n                int birthYear = int.parse(_birthYearController.text);\n                Provider.of<PrayerProvider>(context, listen: false)\n                    .saveBirthYear(birthYear);\n                Navigator.pop(context);\n              },\n              child: Text('Save'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_material.dart\n#####################################################\n\n// File: screens/prayer_progress_card_material.dart\n\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardMaterial extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n  final VoidCallback onPrayPressed;\n\n  const PrayerProgressCardMaterial({\n    required this.prayer,\n    required this.year,\n    required this.month,\n    required this.onPrayPressed,\n  });\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    return FutureBuilder<int>(\n      future: Future.value(prayerProvider.getCompletedPrayersForMonth(\n          year, month, prayer)), // Fix: Wrap with Future.value()\n      builder: (context, completedSnapshot) {\n        return FutureBuilder<int>(\n          future: Future.value(prayerProvider.getMissedPrayersForMonth(\n              year, month, prayer)), // Fix: Wrap with Future.value()\n          builder: (context, missedSnapshot) {\n            if (completedSnapshot.connectionState == ConnectionState.waiting ||\n                missedSnapshot.connectionState == ConnectionState.waiting) {\n              return CircularProgressIndicator();\n            }\n            final completedPrayers = completedSnapshot.data ?? 0;\n            final missedPrayers = missedSnapshot.data ?? 0;\n            final totalPrayers = completedPrayers + missedPrayers;\n\n            return Card(\n              child: Padding(\n                padding: const EdgeInsets.all(14.0),\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(prayer,\n                        style: TextStyle(\n                            fontWeight: FontWeight.bold, fontSize: 16)),\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: LinearProgressIndicator(\n                        value: totalPrayers > 0\n                            ? completedPrayers / totalPrayers\n                            : 0,\n                        minHeight: 12,\n                        backgroundColor: Colors.grey[300],\n                        valueColor:\n                            AlwaysStoppedAnimation<Color>(Color(0xff34C759)),\n                      ),\n                    ),\n                    Text(\n                        '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                        style: TextStyle(fontSize: 14)),\n                    Text('$completedPrayers / $totalPrayers',\n                        style: TextStyle(fontSize: 12)),\n                    ElevatedButton(\n                      onPressed: onPrayPressed,\n                      child: Text('Pray'),\n                    ),\n                  ],\n                ),\n              ),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_details_screen.dart\n#############################################\n\nimport 'package:flutter/material.dart';\nimport '../services/hive_service.dart';\nimport '../models/prayer_record.dart';\n\nclass PrayerDetailsScreen extends StatelessWidget {\n  final String prayer;\n  final HiveService _hiveService = HiveService();\n\n  PrayerDetailsScreen({required this.prayer});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('$prayer Details'),\n      ),\n      body: ValueListenableBuilder(\n        valueListenable: _hiveService.prayerBox.listenable(),\n        builder: (context, Box<PrayerRecord> box, _) {\n          final records = _hiveService.getPrayerRecords();\n          // Implement logic to find and increment the oldest missed prayer\n\n          return Column(\n            children: [\n              // Display and update prayer details here\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/edit_details_screen.dart\n###########################################\n\n// File: lib/screens/edit_details_screen.dart\n// File: lib/screens/edit_details_screen.dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport '../constants.dart';\n\nclass EditDetailsScreen extends StatefulWidget {\n  const EditDetailsScreen({Key? key}) : super(key: key);\n  @override\n  _EditDetailsScreenState createState() => _EditDetailsScreenState();\n}\n\nclass _EditDetailsScreenState extends State<EditDetailsScreen> {\n  int _startYear = kDefaultStartYear;\n  int _endYear = kDefaultEndYear;\n  int? _selectedYear;\n  int? _selectedMonth;\n  double _percentageCompleted = 0;\n\n  @override\n  void initState() {\n    super.initState();\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    _selectedYear = prayerProvider.prayerData.keys.map((key) {\n      final parts = key.split('-');\n      return int.parse(parts[0]);\n    }).reduce((a, b) => a > b ? a : b);\n  }\n\n  void _updateStartYear(int year) {\n    setState(() {\n      _startYear = year;\n    });\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    prayerProvider.updateStartYear(year);\n  }\n\n  void _updateEndYear(int year) {\n    setState(() {\n      _endYear = year;\n    });\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    prayerProvider.updateEndYear(year);\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n    final prayerProvider = Provider.of<PrayerProvider>(context, listen: false);\n    if (_selectedYear != null && _selectedMonth != null) {\n      _percentageCompleted =\n          prayerProvider.getPrayerCompletionPercentageForMonth(\n        _selectedYear!,\n        _selectedMonth!,\n      );\n    } else if (_selectedYear != null) {\n      _percentageCompleted =\n          prayerProvider.getPrayerCompletionPercentageForYear(\n        _selectedYear!,\n      );\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Edit Details'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            DropdownButtonFormField<int>(\n              value: _selectedYear,\n              items: [\n                DropdownMenuItem(\n                  child: Text('Select Year'),\n                  value: null,\n                ),\n                ...List.generate(10, (index) => DateTime.now().year - index)\n                    .map((year) => DropdownMenuItem(\n                          value: year,\n                          child: Text(year.toString()),\n                        ))\n                    .toList(),\n              ],\n              onChanged: (year) {\n                setState(() {\n                  _selectedYear = year;\n                  _selectedMonth = null;\n                  if (year != null) {\n                    _percentageCompleted = prayerProvider\n                        .getPrayerCompletionPercentageForYear(year);\n                  }\n                });\n              },\n              decoration: InputDecoration(\n                labelText: 'Select Year',\n              ),\n            ),\n            SizedBox(height: 16),\n            if (_selectedYear != null)\n              DropdownButtonFormField<int>(\n                value: _selectedMonth,\n                items: [\n                  DropdownMenuItem(\n                    child: Text('Average for total year, or select month'),\n                    value: null,\n                  ),\n                  ...List.generate(\n                          _selectedYear == DateTime.now().year\n                              ? DateTime.now().month - 1\n                              : 12,\n                          (index) => index + 1)\n                      .map((month) => DropdownMenuItem(\n                            value: month,\n                            child: Text('Month $month'),\n                          ))\n                      .toList(),\n                ],\n                onChanged: (month) {\n                  setState(() {\n                    _selectedMonth = month;\n                    if (month != null) {\n                      _percentageCompleted =\n                          prayerProvider.getPrayerCompletionPercentageForMonth(\n                        _selectedYear!,\n                        month,\n                      );\n                    } else {\n                      _percentageCompleted =\n                          prayerProvider.getPrayerCompletionPercentageForYear(\n                        _selectedYear!,\n                      );\n                    }\n                  });\n                },\n                decoration: InputDecoration(\n                  labelText: 'Select Month',\n                ),\n              ),\n            SizedBox(height: 16),\n            Slider(\n              value: _percentageCompleted,\n              min: 0,\n              max: 100,\n              divisions: 20,\n              label: '${_percentageCompleted.round()}%',\n              onChanged: (value) {\n                setState(() {\n                  _percentageCompleted = value;\n                });\n              },\n              onChangeEnd: (value) {\n                if (_selectedYear != null) {\n                  if (_selectedMonth != null) {\n                    prayerProvider.updatePrayerStatsForMonth(\n                      _selectedYear!,\n                      _selectedMonth!,\n                      _percentageCompleted,\n                    );\n                  } else {\n                    prayerProvider.updatePrayerStatsForYear(\n                      _selectedYear!,\n                      _percentageCompleted,\n                    );\n                  }\n                }\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/year_selection_screen.dart\n#############################################\n\nimport 'dart:io';\nimport '../constants.dart';\nimport '../widgets/hadith_modal.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\nimport 'package:provider/provider.dart';\nimport '../platform_specific_widget/amana_button.dart';\nimport '../platform_specific_widget/amana_input_field.dart';\nimport '../providers/prayer_provider.dart';\nimport 'home_screen.dart';\nimport '../models/prayer_data.dart';\n\nclass YearSelectionScreen extends StatefulWidget {\n  const YearSelectionScreen({super.key});\n\n  @override\n  State<YearSelectionScreen> createState() => _YearSelectionScreenState();\n}\n\nclass _YearSelectionScreenState extends State<YearSelectionScreen> {\n  late TextEditingController _startYearController;\n  late TextEditingController _startMonthController;\n  late TextEditingController _endYearController;\n  late TextEditingController _endMonthController;\n  double _averageMissedPrayers = 25;\n\n  @override\n  void initState() {\n    super.initState();\n    final provider = Provider.of<PrayerProvider>(context, listen: false);\n    _startYearController =\n        TextEditingController(text: provider.startYear.toString());\n    _startMonthController = TextEditingController(text: '1');\n    _endYearController =\n        TextEditingController(text: provider.endYear.toString());\n    _endMonthController =\n        TextEditingController(text: DateTime.now().month.toString());\n  }\n\n  @override\n  void dispose() {\n    _startYearController.dispose();\n    _startMonthController.dispose();\n    _endYearController.dispose();\n    _endMonthController.dispose();\n    super.dispose();\n  }\n\n  void _showHadithModal(BuildContext context) {\n    Platform.isIOS\n        ? showCupertinoDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          )\n        : showDialog(\n            context: context,\n            builder: (BuildContext context) {\n              return HadithModal();\n            },\n          );\n  }\n\n  void _saveData() {\n    int startYear =\n        int.tryParse(_startYearController.text) ?? kDefaultStartYear;\n    int startMonth = int.tryParse(_startMonthController.text) ?? 1;\n    int endYear = int.tryParse(_endYearController.text) ?? kDefaultEndYear;\n    int endMonth =\n        int.tryParse(_endMonthController.text) ?? DateTime.now().month;\n\n    Map<int, int> percentageMissedByYear = {};\n    for (int year = startYear; year <= endYear; year++) {\n      percentageMissedByYear[year] = _averageMissedPrayers.round();\n    }\n\n    var provider = Provider.of<PrayerProvider>(context, listen: false);\n    provider.saveData(PrayerData(\n      // Fix: Pass a PrayerData object\n      year: startYear,\n      month: startMonth,\n      prayersCompleted: {},\n      prayersMissed: {},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    ));\n    Navigator.pushAndRemoveUntil(\n        context,\n        MaterialPageRoute(builder: (context) => HomeScreen()),\n        (route) => false);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Amana Audit'),\n      ),\n      body: SingleChildScrollView(\n        padding: REdgeInsets.only(top: 24, left: 18, right: 18),\n        child: Column(\n          crossAxisAlignment:\n              kIsWeb ? CrossAxisAlignment.center : CrossAxisAlignment.stretch,\n          children: [\n            SizedBox(height: 24.h),\n            Text(\n              'ðŸ•Œ It\\'s time to catch up on our prayers.',\n              style: TextStyle(\n                fontSize: 20,\n                fontWeight: FontWeight.bold,\n                color: Colors.black,\n              ),\n            ),\n            Text(\n              'ðŸ“… Select the range of years for which you want to track your missed prayers.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 24.h),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _startMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _startYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _startYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"Start Year\",\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            Row(\n              children: [\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endMonthController,\n                    onChange: (val) {\n                      setState(() {\n                        _endMonthController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Month\",\n                  ),\n                ),\n                const SizedBox(width: 16),\n                Expanded(\n                  child: AmanaInputField(\n                    keyboardType: TextInputType.number,\n                    controller: _endYearController,\n                    onChange: (val) {\n                      setState(() {\n                        _endYearController.text = val;\n                      });\n                    },\n                    sufixIcon: Icons.date_range_outlined,\n                    label: \"End Year\",\n                  ),\n                ),\n              ],\n            ),\n            SizedBox(height: 24.h),\n            Text(\n              'ðŸ•‹ Set the average percentage of prayers you estimate you missed for the selected years.',\n              style: TextStyle(fontSize: 18, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            Slider(\n              value: _averageMissedPrayers,\n              min: 0,\n              max: 100,\n              divisions: 20,\n              label: '${_averageMissedPrayers.round()}%',\n              onChanged: (double value) {\n                setState(() {\n                  _averageMissedPrayers = value;\n                });\n              },\n            ),\n            Text(\n              '${_averageMissedPrayers.round()}% of prayers missed',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n            SizedBox(height: 16.h),\n            AmanaButton(\n              onPress: _saveData,\n              label: \"Save\",\n              isAppLevel: true,\n            ),\n            SizedBox(height: 10),\n            GestureDetector(\n              onTap: () => _showHadithModal(context),\n              child: const Text(\n                'ðŸ“– \"* My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have prescribed upon him...\" Hadith Qudsi 25:40 -Bukhari \\n{Click to read}',\n                style: TextStyle(fontSize: 14.0, color: Colors.blue),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\n\n# File: ./screens/prayer_progress_card_cupertino.dart\n######################################################\n\n// File: screens/prayer_progress_card_cupertino.dart\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\n\nclass PrayerProgressCardCupertino extends StatelessWidget {\n  final String prayer;\n  final int year;\n  final int month;\n\n  const PrayerProgressCardCupertino({\n    required this.prayer,\n    required this.year,\n    required this.month,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final prayerProvider = Provider.of<PrayerProvider>(context);\n\n    return FutureBuilder<int>(\n      future: prayerProvider.getCompletedPrayersForMonth(year, month, prayer),\n      builder: (context, completedSnapshot) {\n        return FutureBuilder<int>(\n          future: prayerProvider.getMissedPrayersForMonth(year, month, prayer),\n          builder: (context, missedSnapshot) {\n            if (completedSnapshot.connectionState == ConnectionState.waiting ||\n                missedSnapshot.connectionState == ConnectionState.waiting) {\n              return CupertinoActivityIndicator();\n            }\n            final completedPrayers = completedSnapshot.data ?? 0;\n            final missedPrayers = missedSnapshot.data ?? 0;\n            final totalPrayers = completedPrayers + missedPrayers;\n\n            return Container(\n              margin: EdgeInsets.all(8.0),\n              padding: EdgeInsets.all(14.0),\n              decoration: BoxDecoration(\n                color: CupertinoColors.white,\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: CupertinoColors.systemGrey.withOpacity(0.4),\n                    spreadRadius: 1,\n                    blurRadius: 3,\n                    offset: Offset(0, 2),\n                  ),\n                ],\n              ),\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(prayer,\n                      style:\n                          TextStyle(fontWeight: FontWeight.bold, fontSize: 16)),\n                  SizedBox(height: 8),\n                  ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: totalPrayers > 0\n                          ? completedPrayers / totalPrayers\n                          : 0,\n                      minHeight: 12,\n                      backgroundColor: CupertinoColors.systemGrey4,\n                      valueColor: AlwaysStoppedAnimation<Color>(\n                          CupertinoColors.activeGreen),\n                    ),\n                  ),\n                  SizedBox(height: 8),\n                  Text(\n                      '${(completedPrayers / totalPrayers * 100).toStringAsFixed(1)}%',\n                      style: TextStyle(fontSize: 14)),\n                  Text('$completedPrayers / $totalPrayers',\n                      style: TextStyle(fontSize: 12)),\n                  SizedBox(height: 8),\n                  CupertinoButton.filled(\n                    onPressed: () => prayerProvider.incrementPrayer(prayer),\n                    child: Text('Pray'),\n                  ),\n                ],\n              ),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n\n\n\n# File: ./screens/home_screen.dart\n###################################\n\n// File: lib/screens/home_screen.dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../providers/prayer_provider.dart';\nimport 'prayer_progress_card_material.dart';\n\nclass HomeScreen extends StatelessWidget {\n  const HomeScreen({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Consumer<PrayerProvider>(\n      builder: (context, prayerProvider, _) {\n        if (!prayerProvider.isDataLoaded) {\n          prayerProvider.loadData();\n          return Scaffold(body: Center(child: CircularProgressIndicator()));\n        }\n\n        final currentYear = DateTime.now().year;\n        final currentMonth = DateTime.now().month;\n        final prayers = prayerProvider.prayers;\n\n        return Scaffold(\n          appBar: AppBar(\n            title: Text('Prayer Tracker'),\n            actions: [\n              IconButton(\n                icon: Icon(Icons.edit),\n                onPressed: () {\n                  Navigator.pushNamed(context, '/edit-details');\n                },\n              ),\n            ],\n          ),\n          body: Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                FutureBuilder<PrayerData>(\n                  future: prayerProvider.getPrayerDataForMonth(\n                      currentYear, currentMonth),\n                  builder: (context, snapshot) {\n                    if (snapshot.connectionState == ConnectionState.waiting) {\n                      return CircularProgressIndicator();\n                    }\n                    final prayerData = snapshot.data;\n                    final totalPrayed = prayerData?.totalPrayed ?? 0;\n                    final totalPrayersPossible = prayerData?.totalPrayed ??\n                        0 + prayerData?.totalMissed ??\n                        0;\n                    return Column(\n                      children: [\n                        LinearProgressIndicator(\n                          value: totalPrayersPossible > 0\n                              ? totalPrayed / totalPrayersPossible\n                              : 0,\n                          minHeight: 16,\n                          backgroundColor: Colors.grey[300],\n                          valueColor:\n                              AlwaysStoppedAnimation<Color>(Color(0xff34C759)),\n                        ),\n                        SizedBox(height: 8),\n                        Row(\n                          mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                          children: [\n                            Text('$totalPrayed'),\n                            Text('$totalPrayersPossible'),\n                          ],\n                        ),\n                      ],\n                    );\n                  },\n                ),\n                SizedBox(height: 16),\n                Expanded(\n                  child: GridView.count(\n                    crossAxisCount: 2,\n                    childAspectRatio: 1.5,\n                    crossAxisSpacing: 12,\n                    mainAxisSpacing: 12,\n                    children: prayers.map((prayer) {\n                      return PrayerProgressCardMaterial(\n                        prayer: prayer,\n                        year: currentYear,\n                        month: currentMonth,\n                        onPrayPressed: () {\n                          prayerProvider.incrementPrayer(prayer);\n                        },\n                      );\n                    }).toList(),\n                  ),\n                ),\n              ],\n            ),\n          ),\n        );\n      },\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_button.dart\n#####################################################\n\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaButton extends StatelessWidget {\n  const AmanaButton(\n      {super.key,\n      required this.onPress,\n      required this.label,\n      required this.isAppLevel});\n\n  final VoidCallback onPress;\n  final String label;\n  final bool isAppLevel;\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTap: onPress,\n      child: kIsWeb && isAppLevel\n          ? Container(\n              width: 200,\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            )\n          : Container(\n              margin: EdgeInsets.only(bottom: 8),\n              padding: EdgeInsets.symmetric(\n                  horizontal: 16, vertical: isAppLevel ? 12 : 5),\n              decoration: BoxDecoration(\n                color: Color(0xff34C759),\n                borderRadius: BorderRadius.circular(10),\n                boxShadow: [\n                  BoxShadow(\n                    color: Colors.grey.withOpacity(0.4),\n                    spreadRadius: 3,\n                    blurRadius: 7,\n                    offset: Offset(0, 3), // changes position of shadow\n                  ),\n                ],\n              ),\n              child: Text(\n                label,\n                textAlign: TextAlign.center,\n                style: const TextStyle(color: Colors.white),\n              ),\n            ),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_snackbar.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nvoid AmanaSnackBar({required BuildContext context, required Text content}) {\n  if (Theme.of(context).platform == TargetPlatform.iOS) {\n    showCupertinoModalPopup(\n      context: context,\n      builder: (BuildContext context) => CupertinoActionSheet(\n        title: content,\n        cancelButton: CupertinoActionSheetAction(\n          child: const Text('Dismiss'),\n          onPressed: () {\n            Navigator.pop(context);\n          },\n        ),\n      ),\n    );\n  } else {\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(content: Text('Changes saved for the selected year.')),\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_alert_dialog.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\n\nclass AmanaAlertDialog extends StatelessWidget {\n  final Widget title;\n  final Widget content;\n  final List<Widget> actions;\n\n  const AmanaAlertDialog(\n      {super.key,\n      required this.title,\n      required this.content,\n      required this.actions});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoAlertDialog(title: title, content: content, actions: actions)\n        : AlertDialog(\n            title: title,\n            content: content,\n            actions: actions,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_drop_down.dart\n########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final int? value;\n  final String labelText;\n  final void Function(int?)? onChanged;\n\n  const AmanaDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(\n                (value == null || value == 0 ? labelText : value.toString())),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as int);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<int>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<int>(\n                      value: e[\"value\"] as int,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Year\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_material_app.dart\n###########################################################\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaMaterialApp extends StatelessWidget {\n  final String title;\n  final ThemeData theme;\n  final String initialRoute;\n  final Map<String, WidgetBuilder> routes;\n  final bool debugShowCheckedModeBanner;\n\n  const AmanaMaterialApp(\n      {super.key,\n      required this.title,\n      required this.theme,\n      required this.initialRoute,\n      required this.routes,\n      required this.debugShowCheckedModeBanner});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: Size(430, 930),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (context, _) {\n        return Theme.of(context).platform == TargetPlatform.iOS\n            ? CupertinoApp(\n                title: title,\n                theme: CupertinoThemeData(\n                    scaffoldBackgroundColor: Colors.grey[100],\n                    textTheme: CupertinoTextThemeData(\n                        textStyle: TextStyle(\n                      fontFamily: \"OpenSans\",\n                    )),\n                    primaryColor: theme.primaryColor),\n                initialRoute: initialRoute,\n                // home: HomeScreen(),\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              )\n            : MaterialApp(\n                title: title,\n                theme: theme,\n                initialRoute: initialRoute,\n                routes: routes,\n                debugShowCheckedModeBanner: debugShowCheckedModeBanner,\n              );\n      },\n    );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_month_drop_down.dart\n##############################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaMonthDropDown extends StatelessWidget {\n  final List<Map<String, dynamic>> items;\n  final String value;\n  final String labelText;\n  final void Function(String?)? onChanged;\n\n  const AmanaMonthDropDown(\n      {super.key,\n      required this.items,\n      required this.value,\n      required this.labelText,\n      this.onChanged});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoButton(\n            color: CupertinoColors.systemGreen,\n            child: Text(value == \"\" ? labelText : value),\n            onPressed: () => showCupertinoModalPopup(\n                context: context,\n                builder: (context) => Container(\n                      height: 250,\n                      width: double.infinity,\n                      child: CupertinoPicker(\n                          scrollController:\n                              FixedExtentScrollController(initialItem: 0),\n                          backgroundColor: CupertinoColors.white,\n                          itemExtent: 40,\n                          onSelectedItemChanged: (index) {\n                            if (onChanged != null) {\n                              onChanged!(items[index][\"value\"] as String);\n                            }\n                          },\n                          children: items\n                              .map((e) => Center(child: e[\"child\"] as Widget))\n                              .toList()),\n                    )))\n        : DropdownButtonFormField<String>(\n            value: value,\n            items: items\n                .map((e) => DropdownMenuItem<String>(\n                      value: e[\"value\"] as String,\n                      child: e[\"child\"] as Widget,\n                    ))\n                .toList(),\n            onChanged: onChanged,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                labelText: \"Select Month\",\n                labelStyle: const TextStyle(color: Colors.grey)));\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_scaffold.dart\n#######################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass AmanaScaffold extends StatelessWidget {\n  final String title;\n  final Widget body;\n\n  const AmanaScaffold({super.key, required this.title, required this.body});\n\n  @override\n  Widget build(BuildContext context) {\n    return Theme.of(context).platform == TargetPlatform.iOS\n        ? CupertinoPageScaffold(\n            navigationBar: CupertinoNavigationBar(\n              middle: Text(title),\n            ),\n            child: SafeArea(child: body),\n          )\n        : Scaffold(\n            appBar: AppBar(\n              toolbarHeight: 80.h,\n              centerTitle: true,\n              title: Text(title),\n            ),\n            body: body,\n          );\n  }\n}\n\n\n\n# File: ./platform_specific_widget/amana_input_field.dart\n##########################################################\n\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\n\nclass AmanaInputField extends StatefulWidget {\n  const AmanaInputField(\n      {super.key,\n      required this.onChange,\n      required this.sufixIcon,\n      this.hintText = \"\",\n      this.isPassword = false,\n      required this.keyboardType,\n      required this.controller,\n      required this.label});\n\n  final Function(String value) onChange;\n  final IconData sufixIcon;\n  final String hintText;\n  final bool isPassword;\n  final String label;\n  final TextEditingController? controller;\n  final TextInputType keyboardType;\n\n  @override\n  State<AmanaInputField> createState() => _AmanaInputFieldState();\n}\n\nclass _AmanaInputFieldState extends State<AmanaInputField> {\n  bool showPassword = false;\n\n  @override\n  Widget build(BuildContext context) {\n    if (Theme.of(context).platform == TargetPlatform.iOS) {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: CupertinoTextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            placeholder: widget.hintText,\n            prefix: Padding(\n              padding: EdgeInsets.all(8.0),\n              child: Icon(\n                widget.sufixIcon,\n                color: Colors.grey,\n                size: 20,\n              ),\n            ),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    } else {\n      return Container(\n        margin: const EdgeInsets.only(top: 4, bottom: 4),\n        height: 50,\n        decoration: BoxDecoration(\n          color: Colors.white,\n          borderRadius: BorderRadius.circular(15),\n        ),\n        child: Center(\n          child: TextField(\n            style: TextStyle(color: Colors.black),\n            controller: widget.controller,\n            cursorColor: Colors.black,\n            obscureText: !showPassword && widget.isPassword,\n            keyboardType: widget.keyboardType,\n            decoration: InputDecoration(\n                focusedBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.green, width: 1.5),\n                  borderRadius: BorderRadius.circular(15.0),\n                ),\n                enabledBorder: OutlineInputBorder(\n                  borderSide: const BorderSide(color: Colors.grey, width: 1.5),\n                  borderRadius: BorderRadius.circular(10.0),\n                ),\n                suffixIcon: Icon(\n                  widget.sufixIcon,\n                  color: Colors.grey,\n                  size: 20,\n                ),\n                labelText: widget.label,\n                labelStyle: const TextStyle(color: Colors.grey)),\n            onChanged: widget.onChange,\n          ),\n        ),\n      );\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/flutter_build/dart_plugin_registrant.dart\n###############################################################\n\n//\n// Generated file. Do not edit.\n// This file is generated from template in file `flutter_tools/lib/src/flutter_plugins.dart`.\n//\n\n// @dart = 3.3\n\nimport 'dart:io'; // flutter_ignore: dart_io_import.\nimport 'package:path_provider_android/path_provider_android.dart';\nimport 'package:shared_preferences_android/shared_preferences_android.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_linux/path_provider_linux.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_linux/shared_preferences_linux.dart';\nimport 'package:url_launcher_linux/url_launcher_linux.dart';\nimport 'package:path_provider_foundation/path_provider_foundation.dart';\nimport 'package:shared_preferences_foundation/shared_preferences_foundation.dart';\nimport 'package:path_provider_windows/path_provider_windows.dart';\nimport 'package:share_plus/share_plus.dart';\nimport 'package:shared_preferences_windows/shared_preferences_windows.dart';\nimport 'package:url_launcher_windows/url_launcher_windows.dart';\n\n@pragma('vm:entry-point')\nclass _PluginRegistrant {\n\n  @pragma('vm:entry-point')\n  static void register() {\n    if (Platform.isAndroid) {\n      try {\n        PathProviderAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesAndroid.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_android` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isIOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isLinux) {\n      try {\n        PathProviderLinux.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusLinuxPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesLinux.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherLinux.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_linux` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isMacOS) {\n      try {\n        PathProviderFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesFoundation.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_foundation` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    } else if (Platform.isWindows) {\n      try {\n        PathProviderWindows.registerWith();\n      } catch (err) {\n        print(\n          '`path_provider_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharePlusWindowsPlugin.registerWith();\n      } catch (err) {\n        print(\n          '`share_plus` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        SharedPreferencesWindows.registerWith();\n      } catch (err) {\n        print(\n          '`shared_preferences_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n      try {\n        UrlLauncherWindows.registerWith();\n      } catch (err) {\n        print(\n          '`url_launcher_windows` threw an error: $err. '\n          'The app may not function as expected until you remove this plugin from pubspec.yaml'\n        );\n      }\n\n    }\n  }\n}\n\n\n\n# File: ./.dart_tool/dartpad/web_plugin_registrant.dart\n########################################################\n\n// Flutter web plugin registrant file.\n//\n// Generated file. Do not edit.\n//\n\n// @dart = 2.13\n// ignore_for_file: type=lint\n\nimport 'package:share_plus/src/share_plus_web.dart';\nimport 'package:shared_preferences_web/shared_preferences_web.dart';\nimport 'package:url_launcher_web/url_launcher_web.dart';\nimport 'package:flutter_web_plugins/flutter_web_plugins.dart';\n\nvoid registerPlugins([final Registrar? pluginRegistrar]) {\n  final Registrar registrar = pluginRegistrar ?? webPluginRegistrar;\n  SharePlusWebPlugin.registerWith(registrar);\n  SharedPreferencesPlugin.registerWith(registrar);\n  UrlLauncherPlugin.registerWith(registrar);\n  registrar.registerMessageHandler();\n}\n\n\n\n# File: ./.dart_tool/build/entrypoint/build.dart\n#################################################\n\n// ignore_for_file: directives_ordering\n// ignore_for_file: no_leading_underscores_for_library_prefixes\nimport 'package:build_runner_core/build_runner_core.dart' as _i1;\nimport 'package:hive_generator/hive_generator.dart' as _i2;\nimport 'package:source_gen/builder.dart' as _i3;\nimport 'dart:isolate' as _i4;\nimport 'package:build_runner/build_runner.dart' as _i5;\nimport 'dart:io' as _i6;\n\nfinal _builders = <_i1.BuilderApplication>[\n  _i1.apply(\n    r'hive_generator:hive_generator',\n    [_i2.getBuilder],\n    _i1.toDependentsOf(r'hive_generator'),\n    hideOutput: true,\n    appliesBuilders: const [r'source_gen:combining_builder'],\n  ),\n  _i1.apply(\n    r'source_gen:combining_builder',\n    [_i3.combiningBuilder],\n    _i1.toNoneByDefault(),\n    hideOutput: false,\n    appliesBuilders: const [r'source_gen:part_cleanup'],\n  ),\n  _i1.applyPostProcess(\n    r'source_gen:part_cleanup',\n    _i3.partCleanup,\n  ),\n];\nvoid main(\n  List<String> args, [\n  _i4.SendPort? sendPort,\n]) async {\n  var result = await _i5.run(\n    args,\n    _builders,\n  );\n  sendPort?.send(result);\n  _i6.exitCode = result;\n}\n\n\n\n# File: ./services/hive_service.dart\n#####################################\n\n// File: hive_service.dart\n\nimport 'package:hive_flutter/hive_flutter.dart';\n\nclass HiveService {\n  late Box box;\n\n  Future<void> init() async {\n    await Hive.initFlutter();\n    await Hive.deleteBoxFromDisk('prayerBox'); // Clear the existing box\n    box = await Hive.openBox('prayerBox');\n  }\n\n  Future<void> saveData(String key, dynamic value) async {\n    await box.put(key, value);\n  }\n\n  dynamic loadData(String key) {\n    return box.get(key);\n  }\n\n  Future<void> clearData() async {\n    await box.clear();\n  }\n}\n\n\n\n# File: ./services/prayer_service.dart\n#######################################\n\n// File: lib/services/prayer_service.dart\nimport 'hive_service.dart';\nimport 'package:share_plus/share_plus.dart';\nimport '../models/prayer_data.dart';\nimport '../constants.dart';\n\nclass PrayerService {\n  final HiveService _hiveService;\n  bool isDataLoaded = false;\n  final List<String> prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];\n  Map<String, PrayerData> prayerData = {};\n  PrayerService(this._hiveService);\n\n  Future<void> loadData() async {\n    var loadedData = await _hiveService.loadData('prayerData');\n\n    if (loadedData != null && loadedData is Map<String, dynamic>) {\n      prayerData = Map<String, PrayerData>.from(\n        loadedData\n            .map((key, value) => MapEntry(key, PrayerData.fromMap(value))),\n      );\n    }\n\n    if (prayerData.isEmpty) {\n      // Initialize prayer data with default values based on constants\n      for (int year = kDefaultStartYear; year <= kDefaultEndYear; year++) {\n        for (int month = 1; month <= 12; month++) {\n          prayerData['$year-$month'] = PrayerData(\n            year: year,\n            month: month,\n            prayersCompleted: {for (var prayer in prayers) prayer: 0},\n            prayersMissed: {for (var prayer in prayers) prayer: 0},\n            totalPrayed: 0,\n            totalMissed: 0,\n            percentagePrayed: 0,\n            percentageMissed: 0,\n          );\n        }\n      }\n      await savePrayerData(prayerData.values.first);\n    }\n\n    isDataLoaded = true;\n    print('Loaded data from Hive: $prayerData');\n  }\n\n  Future<void> savePrayerData(PrayerData data) async {\n    prayerData['${data.year}-${data.month}'] = data;\n    await _hiveService.saveData('prayerData', prayerData);\n    print('Saved data to Hive: $prayerData');\n  }\n\n  void incrementPrayer(String prayer) {\n    // Implement the logic to find and increment the oldest missed prayer\n    // Update the prayer data and save it\n  }\n\n  int getCompletedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersCompleted[prayer] ?? 0;\n  }\n\n  int getMissedPrayersForMonth(int year, int month, String prayer) {\n    final key = '$year-$month';\n    return prayerData[key]?.prayersMissed[prayer] ?? 0;\n  }\n\n  void updatePrayerStats(\n      int year, int month, String prayer, bool increaseCompletedCount) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      if (increaseCompletedCount) {\n        data.prayersCompleted[prayer] =\n            (data.prayersCompleted[prayer] ?? 0) + 1;\n      } else {\n        data.prayersMissed[prayer] = (data.prayersMissed[prayer] ?? 0) + 1;\n      }\n      data.totalPrayed = data.prayersCompleted.values.reduce((a, b) => a + b);\n      data.totalMissed = data.prayersMissed.values.reduce((a, b) => a + b);\n      data.percentagePrayed =\n          (data.totalPrayed / (data.totalPrayed + data.totalMissed)) * 100;\n      data.percentageMissed =\n          (data.totalMissed / (data.totalPrayed + data.totalMissed)) * 100;\n      savePrayerData(data);\n    }\n  }\n\n  double getPrayerCompletionPercentageForMonth(int year, int month) {\n    final key = '$year-$month';\n    final data = prayerData[key];\n    if (data != null) {\n      final totalPrayers = data.totalPrayed + data.totalMissed;\n      return totalPrayers > 0 ? (data.totalPrayed / totalPrayers) * 100 : 0;\n    }\n    return 0;\n  }\n\n  double getPrayerCompletionPercentageForYear(int year) {\n    double totalPercentage = 0;\n    int monthCount = 0;\n    for (int month = 1; month <= 12; month++) {\n      final key = '$year-$month';\n      final data = prayerData[key];\n      if (data != null) {\n        final totalPrayers = data.totalPrayed + data.totalMissed;\n        if (totalPrayers > 0) {\n          totalPercentage += (data.totalPrayed / totalPrayers) * 100;\n          monthCount++;\n        }\n      }\n    }\n    return monthCount > 0 ? totalPercentage / monthCount : 0;\n  }\n\n  void updatePrayerStatsForYear(int year, double percentageCompleted) {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n\n    for (int month = 1;\n        month <= (year == currentYear ? currentMonth - 1 : 12);\n        month++) {\n      updatePrayerStatsForMonth(year, month, percentageCompleted);\n    }\n  }\n\n  void updatePrayerStatsForMonth(\n      int year, int month, double percentageCompleted) {\n    final key = '$year-$month';\n    final data = prayerData[key] ??\n        PrayerData(\n          year: year,\n          month: month,\n          prayersCompleted: {for (var prayer in prayers) prayer: 0},\n          prayersMissed: {for (var prayer in prayers) prayer: 0},\n          totalPrayed: 0,\n          totalMissed: 0,\n          percentagePrayed: 0,\n          percentageMissed: 0,\n        );\n\n    final totalDays = DateTime(year, month + 1, 0).day;\n    final totalPrayers = totalDays * prayers.length;\n    final completedPrayers = (totalPrayers * percentageCompleted / 100).round();\n    final missedPrayers = totalPrayers - completedPrayers;\n\n    data.totalPrayed = completedPrayers;\n    data.totalMissed = missedPrayers;\n    data.percentagePrayed = percentageCompleted;\n    data.percentageMissed = 100 - percentageCompleted;\n\n    prayers.forEach((prayer) {\n      data.prayersCompleted[prayer] =\n          (totalDays * percentageCompleted / 100).round();\n      data.prayersMissed[prayer] = totalDays - data.prayersCompleted[prayer]!;\n    });\n\n    prayerData[key] = data;\n    savePrayerData(data);\n\n    savePrayerData(data);\n\n    // Print the unpacked prayer data\n    Map<String, Map<String, dynamic>> unpacked = {};\n    prayerData.forEach((key, value) {\n      unpacked[key] = {\n        'year': value.year,\n        'month': value.month,\n        'prayersCompleted': value.prayersCompleted,\n        'prayersMissed': value.prayersMissed,\n        'totalPrayed': value.totalPrayed,\n        'totalMissed': value.totalMissed,\n        'percentagePrayed': value.percentagePrayed,\n        'percentageMissed': value.percentageMissed,\n      };\n    });\n    print('Updated data: $unpacked');\n  }\n\n  void _setDefaultPrayerData() {\n    final currentYear = DateTime.now().year;\n    final currentMonth = DateTime.now().month;\n    prayerData['$currentYear-$currentMonth'] = PrayerData(\n      year: currentYear,\n      month: currentMonth,\n      prayersCompleted: {for (var prayer in prayers) prayer: 0},\n      prayersMissed: {for (var prayer in prayers) prayer: 0},\n      totalPrayed: 0,\n      totalMissed: 0,\n      percentagePrayed: 0,\n      percentageMissed: 0,\n    );\n  }\n\n  Future<bool> resetApplication() async {\n    prayerData = {};\n    _setDefaultPrayerData();\n    await _hiveService.clearData();\n    return true;\n  }\n\n  void sharePrayerData() {\n    String shareText = 'My Prayer Progress:\\n\\n';\n    // Implement logic to generate the share text\n    Share.share(shareText);\n  }\n\n  Future<PrayerData> getPrayerDataForMonth(int year, int month) async {\n    final key = '$year-$month';\n    var data = prayerData[key];\n    if (data == null) {\n      data = PrayerData(\n        year: year,\n        month: month,\n        prayersCompleted: {for (var prayer in prayers) prayer: 0},\n        prayersMissed: {for (var prayer in prayers) prayer: 0},\n        totalPrayed: 0,\n        totalMissed: 0,\n        percentagePrayed: 0,\n        percentageMissed: 0,\n      );\n      await savePrayerData(data);\n    }\n    return data;\n  }\n}\n\n\n\n# File: ./widgets/progress_bar.dart\n####################################\n\nimport 'package:flutter/material.dart';\n\nclass ProgressBar extends StatelessWidget {\n  final double value;\n\n  ProgressBar({required this.value});\n\n  @override\n  Widget build(BuildContext context) {\n    return LinearProgressIndicator(value: value);\n  }\n}\n\n\n\n# File: ./widgets/hadith_modal.dart\n####################################\n\n// hadith_modal.dart\nimport '../platform_specific_widget/amana_alert_dialog.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_screenutil/flutter_screenutil.dart';\n\nclass HadithModal extends StatelessWidget {\n  const HadithModal({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return AmanaAlertDialog(\n      title: Text(\n        'Hadith Qudsi 25:40',\n        style: TextStyle(color: Colors.black),\n      ),\n      content: SingleChildScrollView(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Text(\n              'On the authority of Abu Hurayrah (may Allah be pleased with him), who said that the Messenger of Allah (ï·º) said:\\n\\n'\n              'Allah (mighty and sublime be He) said: Whosoever shows enmity to someone devoted to Me, I shall be at war with him. My servant does not draw nearer to Me with anything more beloved to Me than the religious duties I have perscribed upon him, and My servant continues to draw near to Me with voluntary acts of worship so that I shall love him. When I love him I am his hearing with which he hears, his seeing with which he sees, his hand with which he strikes and his foot with which he walks. Were he to ask [something] of Me, I would surely give it to him, and were he to ask Me for refuge, I would surely grant him it. I do not hesitate about anything as much as I hesitate about [seizing] the soul of My faithful servant: he hates death and I hate hurting him.',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n            Text(\n              'Ø¹ÙŽÙ†Ù’ Ø£ÙŽØ¨ÙÙŠ Ù‡ÙØ±ÙŽÙŠÙ’Ø±ÙŽØ©ÙŽ Ø±ÙŽØ¶ÙÙŠÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø¹ÙŽÙ†Ù’Ù‡Ù Ù‚ÙŽØ§Ù„ÙŽ: Ù‚ÙŽØ§Ù„ÙŽ Ø±ÙŽØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ØµÙŽÙ„ÙŽÙ‘Ù‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡Ù ÙˆÙŽØ³ÙŽÙ„ÙŽÙ‘Ù…ÙŽ: \" Ø¥ÙÙ†ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ Ø¹ÙŽØ²ÙŽÙ‘ ÙˆÙŽØ¬ÙŽÙ„ÙŽÙ‘ Ù‚ÙŽØ§Ù„ÙŽ: Ù…ÙŽÙ†Ù’ Ø¹ÙŽØ§Ø¯ÙŽÙ‰ Ù„ÙÙŠ ÙˆÙŽÙ„ÙÙŠÙ‹Ù‘Ø§ØŒ ÙÙŽÙ‚ÙŽØ¯Ù’ Ø¢Ø°ÙŽÙ†Ù’ØªÙÙ‡Ù Ø¨ÙØ§Ù„Ù’Ø­ÙŽØ±Ù’Ø¨ÙØŒ ÙˆÙŽÙ…ÙŽØ§ ØªÙŽÙ‚ÙŽØ±ÙŽÙ‘Ø¨ÙŽ Ø¥ÙÙ„ÙŽÙŠÙŽÙ‘ Ø¹ÙŽØ¨Ù’Ø¯ÙÙŠ Ø¨ÙØ´ÙŽÙŠÙ’Ø¡Ù Ø£ÙŽØ­ÙŽØ¨ÙŽÙ‘ Ø¥ÙÙ„ÙŽÙŠÙŽÙ‘ Ù…ÙÙ…ÙŽÙ‘Ø§ Ø§ÙÙ’ØªÙŽØ±ÙŽØ¶Ù’ØªÙ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙØŒ ÙˆÙŽÙ…ÙŽØ§ ÙŠÙŽØ²ÙŽØ§Ù„Ù Ø¹ÙŽØ¨Ù’Ø¯ÙÙŠ ÙŠÙŽØªÙŽÙ‚ÙŽØ±ÙŽÙ‘Ø¨Ù Ø¥ÙÙ„ÙŽÙŠÙŽÙ‘ Ø¨ÙØ§Ù„Ù†ÙŽÙ‘ÙˆÙŽØ§ÙÙÙ„Ù Ø­ÙŽØªÙŽÙ‘Ù‰ Ø£ÙØ­ÙØ¨ÙŽÙ‘Ù‡ÙØŒ ÙÙŽØ¥ÙØ°ÙŽØ§ Ø£ÙŽØ­Ù’Ø¨ÙŽØ¨Ù’ØªÙÙ‡ÙØŒ ÙƒÙÙ†Ù’ØªÙ Ø³ÙŽÙ…Ù’Ø¹ÙŽÙ‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙŠÙŽØ³Ù’Ù…ÙŽØ¹Ù Ø¨ÙÙ‡ÙØŒ ÙˆÙŽØ¨ÙŽØµÙŽØ±ÙŽÙ‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙŠÙØ¨Ù’ØµÙØ±Ù Ø¨ÙÙ‡ÙØŒ ÙˆÙŽÙŠÙŽØ¯ÙŽÙ‡Ù Ø§Ù„ÙŽÙ‘ØªÙÙŠ ÙŠÙŽØ¨Ù’Ø·ÙØ´Ù Ø¨ÙÙ‡ÙŽØ§ØŒ ÙˆÙŽØ±ÙØ¬Ù’Ù„ÙŽÙ‡Ù Ø§Ù„ÙŽÙ‘ØªÙÙŠ ÙŠÙŽÙ…Ù’Ø´ÙÙŠ Ø¨ÙÙ‡ÙŽØ§ØŒ ÙˆÙŽØ¥ÙÙ†Ù’ Ø³ÙŽØ£ÙŽÙ„ÙŽÙ†ÙÙŠ Ù„ÙŽØ£ÙØ¹Ù’Ø·ÙÙŠÙŽÙ†ÙŽÙ‘Ù‡ÙØŒ ÙˆÙŽÙ„ÙŽØ¦ÙÙ†Ù’ Ø§Ø³Ù’ØªÙŽØ¹ÙŽØ§Ø°ÙŽÙ†ÙÙŠ Ù„ÙŽØ£ÙØ¹ÙÙŠØ°ÙŽÙ†ÙŽÙ‘Ù‡ÙØŒ ÙˆÙŽÙ…ÙŽØ§ ØªÙŽØ±ÙŽØ¯ÙŽÙ‘Ø¯Ù’ØªÙ Ø¹ÙŽÙ†Ù’ Ø´ÙŽÙŠÙ’Ø¡Ù Ø£ÙŽÙ†ÙŽØ§ ÙÙŽØ§Ø¹ÙÙ„ÙÙ‡Ù ØªÙŽØ±ÙŽØ¯ÙÙ‘Ø¯ÙÙŠ Ø¹ÙŽÙ†Ù’ Ù†ÙŽÙÙ’Ø³Ù Ø¹ÙŽØ¨Ù’Ø¯ÙÙŠ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙØŒ ÙŠÙŽÙƒÙ’Ø±ÙŽÙ‡Ù Ø§Ù„Ù’Ù…ÙŽÙˆÙ’ØªÙŽ ÙˆÙŽØ£ÙŽÙ†ÙŽØ§ Ø£ÙŽÙƒÙ’Ø±ÙŽÙ‡Ù Ù…ÙŽØ³ÙŽØ§Ø¡ÙŽØªÙŽÙ‡Ù - Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ',\n              style: TextStyle(\n                  fontSize: kIsWeb ? 5.sp : 16.sp, color: Colors.black),\n            ),\n          ],\n        ),\n      ),\n      actions: [\n        ElevatedButton.icon(\n          onPressed: () {\n            Navigator.of(context).pop();\n          },\n          icon: const Icon(\n            Icons.favorite,\n            color: Color(0xff34C759),\n          ),\n          label: const Text(\n            'Close',\n            style: TextStyle(color: Color(0xff34C759)),\n          ),\n        ),\n      ],\n    );\n  }\n}\n\n"
          }
        ],
        "files": [
          {
            "file_name": "paste.txt"
          }
        ]
      }
    },
    {
      "id": "91f80451-4473-4c35-81e9-4d638dc83dff",
      "role": "assistant",
      "content": " The errors in the `edit_details_screen.dart` file are related to missing methods in the `PrayerProvider` class.\n\n1. The error `The method 'updateStartYear' isn't defined for the class 'PrayerProvider'.` occurs because there is no method called `updateStartYear` defined in the `PrayerProvider` class.\n\n2. The error `The method 'updateEndYear' isn't defined for the class 'PrayerProvider'.` occurs because there is no method called `updateEndYear` defined in the `PrayerProvider` class.\n\n3. The error `'PrayerData' isn't a type.` occurs because the `FutureBuilder` widget expects a `Future` of a specific type, but `PrayerData` is not a type defined in your code.\n\nTo fix these issues, you need to define the missing methods in the `PrayerProvider` class, and use the correct type for the `FutureBuilder` widget.\n\nFor the first two errors, you can define the `updateStartYear` and `updateEndYear` methods in the `PrayerProvider` class. Here's an example implementation:\n\n```dart\nvoid updateStartYear(int year) {\n  // Implement logic to update the start year\n  notifyListeners();\n}\n\nvoid updateEndYear(int year) {\n  // Implement logic to update the end year\n  notifyListeners();\n}\n```\n\nFor the third error, you should use the correct type for the `FutureBuilder` widget. Based on the code, it seems that you're trying to get the `PrayerData` for the current month. You can use the `getPrayerDataForMonth` method from the `PrayerService` class to get the `PrayerData` object. Here's an example implementation:\n\n```dart\nFutureBuilder<PrayerData>(\n  future: prayerProvider.getPrayerDataForMonth(currentYear, currentMonth),\n  builder: (context, snapshot) {\n    if (snapshot.connectionState == ConnectionState.waiting) {\n      return CircularProgressIndicator();\n    }\n    final prayerData = snapshot.data;\n    final totalPrayed = prayerData?.totalPrayed ?? 0;\n    final totalPrayersPossible = prayerData?.totalPrayed ?? 0 + prayerData?.totalMissed ?? 0;\n    // ... (rest of the code)\n  },\n)\n```\n\nMake sure to define the `getPrayerDataForMonth` method in the `PrayerService` class and implement the necessary logic to retrieve or create the `PrayerData` object for the given year and month.",
      "created_at": "2024-06-04T09:08:23.402377Z",
      "sequence_order": 1,
      "metadata": {
        "content": [
          {
            "start_timestamp": "2024-06-04T09:08:23.402377Z",
            "stop_timestamp": "2024-06-04T09:08:23.402377Z",
            "flags": null,
            "type": "text",
            "text": " The errors in the `edit_details_screen.dart` file are related to missing methods in the `PrayerProvider` class.\n\n1. The error `The method 'updateStartYear' isn't defined for the class 'PrayerProvider'.` occurs because there is no method called `updateStartYear` defined in the `PrayerProvider` class.\n\n2. The error `The method 'updateEndYear' isn't defined for the class 'PrayerProvider'.` occurs because there is no method called `updateEndYear` defined in the `PrayerProvider` class.\n\n3. The error `'PrayerData' isn't a type.` occurs because the `FutureBuilder` widget expects a `Future` of a specific type, but `PrayerData` is not a type defined in your code.\n\nTo fix these issues, you need to define the missing methods in the `PrayerProvider` class, and use the correct type for the `FutureBuilder` widget.\n\nFor the first two errors, you can define the `updateStartYear` and `updateEndYear` methods in the `PrayerProvider` class. Here's an example implementation:\n\n```dart\nvoid updateStartYear(int year) {\n  // Implement logic to update the start year\n  notifyListeners();\n}\n\nvoid updateEndYear(int year) {\n  // Implement logic to update the end year\n  notifyListeners();\n}\n```\n\nFor the third error, you should use the correct type for the `FutureBuilder` widget. Based on the code, it seems that you're trying to get the `PrayerData` for the current month. You can use the `getPrayerDataForMonth` method from the `PrayerService` class to get the `PrayerData` object. Here's an example implementation:\n\n```dart\nFutureBuilder<PrayerData>(\n  future: prayerProvider.getPrayerDataForMonth(currentYear, currentMonth),\n  builder: (context, snapshot) {\n    if (snapshot.connectionState == ConnectionState.waiting) {\n      return CircularProgressIndicator();\n    }\n    final prayerData = snapshot.data;\n    final totalPrayed = prayerData?.totalPrayed ?? 0;\n    final totalPrayersPossible = prayerData?.totalPrayed ?? 0 + prayerData?.totalMissed ?? 0;\n    // ... (rest of the code)\n  },\n)\n```\n\nMake sure to define the `getPrayerDataForMonth` method in the `PrayerService` class and implement the necessary logic to retrieve or create the `PrayerData` object for the given year and month.",
            "citations": []
          }
        ],
        "updated_at": "2024-06-04T09:08:23.402377Z",
        "attachments": [],
        "files": []
      }
    }
  ]
}